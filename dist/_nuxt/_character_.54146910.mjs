import{a as v,o as d,v as i,I as j,G as h,F as e,N as $,O as k,T as S,U as R,W as w,k as B,X as C,L as N,Y as V,u as o,Z as D,x as m,$ as F,H as U,B as G,c as T}from"./entry.6e61bf97.mjs";const z=["for"],L=["id","value","name"],A={value:"all"},E=["value","selected"],H=v({__name:"Select",props:{selected:String,list:Array,label:String},emits:["update:selected"],setup(a){return(u,f)=>(d(),i("label",{class:"text-gray-700 flex flex-col",for:a.label},[j(h(a.label)+" ",1),e("select",{id:a.label,class:"md:w-52 py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",value:a.selected,onChange:f[0]||(f[0]=c=>u.$emit("update:selected",c.target.value)),name:a.label},[e("option",A,h(u.$t("all")),1),(d(!0),i($,null,k(a.list,c=>(d(),i("option",{value:c,selected:c===a.selected},h(c.replace("@ja","")),9,E))),256))],40,L)],8,z))}}),I={class:"container mx-auto flex flex-col"},M={class:"self-end items-end p-1 md:hidden"},O={class:"relative inline-block w-10 mr-2 align-middle select-none"},W=e("label",{for:"toggle",class:"block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"},null,-1),X={class:"text-gray-400 font-medium"},Y={class:"relative flex py-1 sm:py-5 items-center"},Z=e("div",{class:"flex-grow border-t border-gray-400"},null,-1),q={class:"flex-shrink mx-4 text-gray-400"},J=e("div",{class:"flex-grow border-t border-gray-400"},null,-1),K={key:0,class:"grid grid-cols-3 md:grid-cols-6 lg:grid-cols-12"},P={class:"rounded-sm shadow-lg flex flex-col sm:p-1 bg-white border hover:border-blue-300 hover:border-2"},Q=["data-tip"],ee=["href"],te=["src"],le={class:"leading-normal text-gray-100 text-center bg-blue-500 opacity-30"},se=v({__name:"Results",setup(a){const u=S(),{occupations:f,divisions:c,dates:g,ceDates:y,glyphs:_,ifShowFilter:p}=R(u),s=w({division:"all",document:"all",book:"all",occupation:"all",send:"all",date:"all",ce_date:"all"}),b=w({}),x=B(()=>_.value.filter(n=>{for(let t in b)if(n.source[t]===void 0||n.source[t]!=b[t])return!1;return!0}));return C(s,(n,t)=>{for(var r in s)s[r]==="all"?delete b[r]:b[r]=s[r]}),(n,t)=>{const r=H;return d(),i("section",I,[e("div",M,[e("div",O,[N(e("input",{type:"checkbox",name:"toggle",id:"toggle","onUpdate:modelValue":t[0]||(t[0]=l=>D(p)?p.value=l:null),class:"checked:bg-blue-500 outline-none focus:outline-none right-4 checked:right-0 duration-200 ease-in absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer"},null,512),[[V,o(p)]]),W]),e("span",X,h(n.$t("filter")),1)]),e("div",{class:F([{hidden:o(p)===!1},"md:flex flex-col md:flex-row justify-center gap-1"])},[m(r,{label:n.$t("division"),list:o(c),selected:s.division,"onUpdate:selected":t[1]||(t[1]=l=>s.division=l)},null,8,["label","list","selected"]),m(r,{label:n.$t("occupation"),list:o(f),selected:s.occupation,"onUpdate:selected":t[2]||(t[2]=l=>s.occupation=l)},null,8,["label","list","selected"]),m(r,{label:n.$t("date"),list:o(g),selected:s.date,"onUpdate:selected":t[3]||(t[3]=l=>s.date=l)},null,8,["label","list","selected"]),m(r,{label:n.$t("ce-date"),list:o(y),selected:s.ce_date,"onUpdate:selected":t[4]||(t[4]=l=>s.ce_date=l)},null,8,["label","list","selected"])],2),e("div",Y,[Z,e("span",q,"Glyphs: "+h(o(x).length),1),J]),o(_).length>0?(d(),i("div",K,[(d(!0),i($,null,k(o(x),l=>(d(),i("div",P,[e("div",{class:"tooltip","data-tip":l.source.value.replace("@ja","")},[e("a",{href:"/glyph/"+l.id,class:"cursor-pointer flex flex-col h-full justify-between",target:"blank"},[e("img",{src:l.thumbnail_url,alt:"",loading:"lazy",class:"w-full items-center justify-start"},null,8,te),e("p",le,h(l.id),1)],8,ee)],8,Q)]))),256))])):U("",!0)])}}}),oe={class:""},ne=v({__name:"[character]",setup(a){const u=S(),{glyphs:f}=R(u),g=G().params.character;return g&&u.fetchData(g),(y,_)=>{const p=se;return d(),i("div",oe,[o(f)?(d(),T(p,{key:0})):U("",!0)])}}});export{ne as default};
