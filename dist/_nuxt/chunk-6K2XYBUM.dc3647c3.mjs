import{i as nd,D as rc}from"./chunk-7YKIH5A2.1bf302a1.mjs";import{H as Vo,G as rd,j as Vi}from"./IIIFContentHandler-JCX6SYFT.5a124759.mjs";import{O as At,a0 as Fu,a3 as Ao,Q as Fo,P as Rt,Z as Le,$ as Kt,a4 as id}from"./entry.cc194de1.mjs";var ad=Rt(s=>{var k=Symbol.for("react.element"),R=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),I=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),v=Symbol.iterator;function p(S){return S===null||typeof S!="object"?null:(S=v&&S[v]||S["@@iterator"],typeof S=="function"?S:null)}var l={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a=Object.assign,c={};function f(S,G,te){this.props=S,this.context=G,this.refs=c,this.updater=te||l}f.prototype.isReactComponent={},f.prototype.setState=function(S,G){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,G,"setState")},f.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function N(){}N.prototype=f.prototype;function V(S,G,te){this.props=S,this.context=G,this.refs=c,this.updater=te||l}var H=V.prototype=new N;H.constructor=V,a(H,f.prototype),H.isPureReactComponent=!0;var Y=Array.isArray,ee=Object.prototype.hasOwnProperty,K={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function le(S,G,te){var re,ue={},fe=null,pe=null;if(G!=null)for(re in G.ref!==void 0&&(pe=G.ref),G.key!==void 0&&(fe=""+G.key),G)ee.call(G,re)&&!W.hasOwnProperty(re)&&(ue[re]=G[re]);var _e=arguments.length-2;if(_e===1)ue.children=te;else if(1<_e){for(var he=Array(_e),We=0;We<_e;We++)he[We]=arguments[We+2];ue.children=he}if(S&&S.defaultProps)for(re in _e=S.defaultProps,_e)ue[re]===void 0&&(ue[re]=_e[re]);return{$$typeof:k,type:S,key:fe,ref:pe,props:ue,_owner:K.current}}function oe(S,G){return{$$typeof:k,type:S.type,key:G,ref:S.ref,props:S.props,_owner:S._owner}}function de(S){return typeof S=="object"&&S!==null&&S.$$typeof===k}function Ie(S){var G={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(te){return G[te]})}var Re=/\/+/g;function m(S,G){return typeof S=="object"&&S!==null&&S.key!=null?Ie(""+S.key):G.toString(36)}function g(S,G,te,re,ue){var fe=typeof S;(fe==="undefined"||fe==="boolean")&&(S=null);var pe=!1;if(S===null)pe=!0;else switch(fe){case"string":case"number":pe=!0;break;case"object":switch(S.$$typeof){case k:case R:pe=!0}}if(pe)return pe=S,ue=ue(pe),S=re===""?"."+m(pe,0):re,Y(ue)?(te="",S!=null&&(te=S.replace(Re,"$&/")+"/"),g(ue,G,te,"",function(We){return We})):ue!=null&&(de(ue)&&(ue=oe(ue,te+(!ue.key||pe&&pe.key===ue.key?"":(""+ue.key).replace(Re,"$&/")+"/")+S)),G.push(ue)),1;if(pe=0,re=re===""?".":re+":",Y(S))for(var _e=0;_e<S.length;_e++){fe=S[_e];var he=re+m(fe,_e);pe+=g(fe,G,te,he,ue)}else if(he=p(S),typeof he=="function")for(S=he.call(S),_e=0;!(fe=S.next()).done;)fe=fe.value,he=re+m(fe,_e++),pe+=g(fe,G,te,he,ue);else if(fe==="object")throw G=String(S),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return pe}function L(S,G,te){if(S==null)return S;var re=[],ue=0;return g(S,re,"","",function(fe){return G.call(te,fe,ue++)}),re}function M(S){if(S._status===-1){var G=S._result;G=G(),G.then(function(te){(S._status===0||S._status===-1)&&(S._status=1,S._result=te)},function(te){(S._status===0||S._status===-1)&&(S._status=2,S._result=te)}),S._status===-1&&(S._status=0,S._result=G)}if(S._status===1)return S._result.default;throw S._result}var O={current:null},F={transition:null},z={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:F,ReactCurrentOwner:K};s.Children={map:L,forEach:function(S,G,te){L(S,function(){G.apply(this,arguments)},te)},count:function(S){var G=0;return L(S,function(){G++}),G},toArray:function(S){return L(S,function(G){return G})||[]},only:function(S){if(!de(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},s.Component=f,s.Fragment=y,s.Profiler=P,s.PureComponent=V,s.StrictMode=A,s.Suspense=b,s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,s.cloneElement=function(S,G,te){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var re=a({},S.props),ue=S.key,fe=S.ref,pe=S._owner;if(G!=null){if(G.ref!==void 0&&(fe=G.ref,pe=K.current),G.key!==void 0&&(ue=""+G.key),S.type&&S.type.defaultProps)var _e=S.type.defaultProps;for(he in G)ee.call(G,he)&&!W.hasOwnProperty(he)&&(re[he]=G[he]===void 0&&_e!==void 0?_e[he]:G[he])}var he=arguments.length-2;if(he===1)re.children=te;else if(1<he){_e=Array(he);for(var We=0;We<he;We++)_e[We]=arguments[We+2];re.children=_e}return{$$typeof:k,type:S.type,key:ue,ref:fe,props:re,_owner:pe}},s.createContext=function(S){return S={$$typeof:I,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:_,_context:S},S.Consumer=S},s.createElement=le,s.createFactory=function(S){var G=le.bind(null,S);return G.type=S,G},s.createRef=function(){return{current:null}},s.forwardRef=function(S){return{$$typeof:u,render:S}},s.isValidElement=de,s.lazy=function(S){return{$$typeof:h,_payload:{_status:-1,_result:S},_init:M}},s.memo=function(S,G){return{$$typeof:T,type:S,compare:G===void 0?null:G}},s.startTransition=function(S){var G=F.transition;F.transition={};try{S()}finally{F.transition=G}},s.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},s.useCallback=function(S,G){return O.current.useCallback(S,G)},s.useContext=function(S){return O.current.useContext(S)},s.useDebugValue=function(){},s.useDeferredValue=function(S){return O.current.useDeferredValue(S)},s.useEffect=function(S,G){return O.current.useEffect(S,G)},s.useId=function(){return O.current.useId()},s.useImperativeHandle=function(S,G,te){return O.current.useImperativeHandle(S,G,te)},s.useInsertionEffect=function(S,G){return O.current.useInsertionEffect(S,G)},s.useLayoutEffect=function(S,G){return O.current.useLayoutEffect(S,G)},s.useMemo=function(S,G){return O.current.useMemo(S,G)},s.useReducer=function(S,G,te){return O.current.useReducer(S,G,te)},s.useRef=function(S){return O.current.useRef(S)},s.useState=function(S){return O.current.useState(S)},s.useSyncExternalStore=function(S,G,te){return O.current.useSyncExternalStore(S,G,te)},s.useTransition=function(){return O.current.useTransition()},s.version="18.1.0"}),Nr=Rt((s,k)=>{k.exports=ad()}),od=Rt(s=>{function k(O,F){var z=O.length;O.push(F);e:for(;0<z;){var S=z-1>>>1,G=O[S];if(0<A(G,F))O[S]=F,O[z]=G,z=S;else break e}}function R(O){return O.length===0?null:O[0]}function y(O){if(O.length===0)return null;var F=O[0],z=O.pop();if(z!==F){O[0]=z;e:for(var S=0,G=O.length,te=G>>>1;S<te;){var re=2*(S+1)-1,ue=O[re],fe=re+1,pe=O[fe];if(0>A(ue,z))fe<G&&0>A(pe,ue)?(O[S]=pe,O[fe]=z,S=fe):(O[S]=ue,O[re]=z,S=re);else if(fe<G&&0>A(pe,z))O[S]=pe,O[fe]=z,S=fe;else break e}}return F}function A(O,F){var z=O.sortIndex-F.sortIndex;return z!==0?z:O.id-F.id}typeof performance=="object"&&typeof performance.now=="function"?(P=performance,s.unstable_now=function(){return P.now()}):(_=Date,I=_.now(),s.unstable_now=function(){return _.now()-I});var P,_,I,u=[],b=[],T=1,h=null,v=3,p=!1,l=!1,a=!1,c=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(O){for(var F=R(b);F!==null;){if(F.callback===null)y(b);else if(F.startTime<=O)y(b),F.sortIndex=F.expirationTime,k(u,F);else break;F=R(b)}}function H(O){if(a=!1,V(O),!l)if(R(u)!==null)l=!0,L(Y);else{var F=R(b);F!==null&&M(H,F.startTime-O)}}function Y(O,F){l=!1,a&&(a=!1,f(W),W=-1),p=!0;var z=v;try{for(V(F),h=R(u);h!==null&&(!(h.expirationTime>F)||O&&!de());){var S=h.callback;if(typeof S=="function"){h.callback=null,v=h.priorityLevel;var G=S(h.expirationTime<=F);F=s.unstable_now(),typeof G=="function"?h.callback=G:h===R(u)&&y(u),V(F)}else y(u);h=R(u)}if(h!==null)var te=!0;else{var re=R(b);re!==null&&M(H,re.startTime-F),te=!1}return te}finally{h=null,v=z,p=!1}}var ee=!1,K=null,W=-1,le=5,oe=-1;function de(){return!(s.unstable_now()-oe<le)}function Ie(){if(K!==null){var O=s.unstable_now();oe=O;var F=!0;try{F=K(!0,O)}finally{F?Re():(ee=!1,K=null)}}else ee=!1}var Re;typeof N=="function"?Re=function(){N(Ie)}:typeof MessageChannel<"u"?(m=new MessageChannel,g=m.port2,m.port1.onmessage=Ie,Re=function(){g.postMessage(null)}):Re=function(){c(Ie,0)};var m,g;function L(O){K=O,ee||(ee=!0,Re())}function M(O,F){W=c(function(){O(s.unstable_now())},F)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(O){O.callback=null},s.unstable_continueExecution=function(){l||p||(l=!0,L(Y))},s.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<O?Math.floor(1e3/O):5},s.unstable_getCurrentPriorityLevel=function(){return v},s.unstable_getFirstCallbackNode=function(){return R(u)},s.unstable_next=function(O){switch(v){case 1:case 2:case 3:var F=3;break;default:F=v}var z=v;v=F;try{return O()}finally{v=z}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(O,F){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var z=v;v=O;try{return F()}finally{v=z}},s.unstable_scheduleCallback=function(O,F,z){var S=s.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?S+z:S):z=S,O){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=z+G,O={id:T++,callback:F,priorityLevel:O,startTime:z,expirationTime:G,sortIndex:-1},z>S?(O.sortIndex=z,k(b,O),R(u)===null&&O===R(b)&&(a?(f(W),W=-1):a=!0,M(H,z-S))):(O.sortIndex=G,k(u,O),l||p||(l=!0,L(Y))),O},s.unstable_shouldYield=de,s.unstable_wrapCallback=function(O){var F=v;return function(){var z=v;v=F;try{return O.apply(this,arguments)}finally{v=z}}}}),ld=Rt((s,k)=>{k.exports=od()}),sd=Rt(s=>{var k=Nr(),R=ld();function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A=new Set,P={};function _(e,t){I(e,t),I(e+"Capture",t)}function I(e,t){for(P[e]=t,e=0;e<t.length;e++)A.add(t[e])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b=Object.prototype.hasOwnProperty,T=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},v={};function p(e){return b.call(v,e)?!0:b.call(h,e)?!1:T.test(e)?v[e]=!0:(h[e]=!0,!1)}function l(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function a(e,t,n,r){if(t===null||typeof t>"u"||l(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function c(e,t,n,r,i,o,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=d}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){f[e]=new c(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];f[t]=new c(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){f[e]=new c(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){f[e]=new c(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){f[e]=new c(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){f[e]=new c(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){f[e]=new c(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){f[e]=new c(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){f[e]=new c(e,5,!1,e.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function V(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(N,V);f[t]=new c(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(N,V);f[t]=new c(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(N,V);f[t]=new c(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){f[e]=new c(e,1,!1,e.toLowerCase(),null,!1,!1)}),f.xlinkHref=new c("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){f[e]=new c(e,1,!1,e.toLowerCase(),null,!0,!0)});function H(e,t,n,r){var i=f.hasOwnProperty(t)?f[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(a(t,n,i,r)&&(n=null),r||i===null?p(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Y=k.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for("react.element"),K=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),le=Symbol.for("react.strict_mode"),oe=Symbol.for("react.profiler"),de=Symbol.for("react.provider"),Ie=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),F=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var S=Object.assign,G;function te(e){if(G===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);G=t&&t[1]||""}return`
`+G+e}var re=!1;function ue(e,t){if(!e||re)return"";re=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(U){var r=U}Reflect.construct(e,[],t)}else{try{t.call()}catch(U){r=U}e.call(t.prototype)}else{try{throw Error()}catch(U){r=U}e()}}catch(U){if(U&&r&&typeof U.stack=="string"){for(var i=U.stack.split(`
`),o=r.stack.split(`
`),d=i.length-1,E=o.length-1;1<=d&&0<=E&&i[d]!==o[E];)E--;for(;1<=d&&0<=E;d--,E--)if(i[d]!==o[E]){if(d!==1||E!==1)do if(d--,E--,0>E||i[d]!==o[E]){var C=`
`+i[d].replace(" at new "," at ");return e.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",e.displayName)),C}while(1<=d&&0<=E);break}}}finally{re=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?te(e):""}function fe(e){switch(e.tag){case 5:return te(e.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return e=ue(e.type,!1),e;case 11:return e=ue(e.type.render,!1),e;case 1:return e=ue(e.type,!0),e;default:return""}}function pe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case K:return"Portal";case oe:return"Profiler";case le:return"StrictMode";case m:return"Suspense";case g:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ie:return(e.displayName||"Context")+".Consumer";case de:return(e._context.displayName||"Context")+".Provider";case Re:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case L:return t=e.displayName||null,t!==null?t:pe(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return pe(e(t))}catch{}}return null}function _e(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(t);case 8:return t===le?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function he(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function We(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lc(e){var t=We(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(d){r=""+d,o.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ir(e){e._valueTracker||(e._valueTracker=lc(e))}function Go(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=We(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Cr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ji(e,t){var n=t.checked;return S({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function Ho(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=he(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jo(e,t){t=t.checked,t!=null&&H(e,"checked",t,!1)}function Bi(e,t){jo(e,t);var n=he(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$i(e,t.type,n):t.hasOwnProperty("defaultValue")&&$i(e,t.type,he(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bo(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $i(e,t,n){(t!=="number"||Cr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Dn=Array.isArray;function cn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+he(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function zi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(y(91));return S({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $o(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(y(92));if(Dn(n)){if(1<n.length)throw Error(y(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:he(n)}}function zo(e,t){var n=he(t.value),r=he(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Wo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qo(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qo(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lr,Yo=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Lr=Lr||document.createElement("div"),Lr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Lr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Un(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sc=["Webkit","ms","Moz","O"];Object.keys(Vn).forEach(function(e){sc.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vn[t]=Vn[e]})});function qo(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Vn.hasOwnProperty(e)&&Vn[e]?(""+t).trim():t+"px"}function Ko(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=qo(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var uc=S({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qi(e,t){if(t){if(uc[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(y(62))}}function Yi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qi=null;function Ki(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xi=null,fn=null,dn=null;function Xo(e){if(e=ar(e)){if(typeof Xi!="function")throw Error(y(280));var t=e.stateNode;t&&(t=Zr(t),Xi(e.stateNode,e.type,t))}}function Jo(e){fn?dn?dn.push(e):dn=[e]:fn=e}function Zo(){if(fn){var e=fn,t=dn;if(dn=fn=null,Xo(e),t)for(e=0;e<t.length;e++)Xo(t[e])}}function el(e,t){return e(t)}function tl(){}var Ji=!1;function nl(e,t,n){if(Ji)return e(t,n);Ji=!0;try{return el(e,t,n)}finally{Ji=!1,(fn!==null||dn!==null)&&(tl(),Zo())}}function Fn(e,t){var n=e.stateNode;if(n===null)return null;var r=Zr(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(y(231,t,typeof n));return n}var Zi=!1;if(u)try{pn={},Object.defineProperty(pn,"passive",{get:function(){Zi=!0}}),window.addEventListener("test",pn,pn),window.removeEventListener("test",pn,pn)}catch{Zi=!1}var pn;function cc(e,t,n,r,i,o,d,E,C){var U=Array.prototype.slice.call(arguments,3);try{t.apply(n,U)}catch(B){this.onError(B)}}var Gn=!1,Or=null,wr=!1,ea=null,fc={onError:function(e){Gn=!0,Or=e}};function dc(e,t,n,r,i,o,d,E,C){Gn=!1,Or=null,cc.apply(fc,arguments)}function pc(e,t,n,r,i,o,d,E,C){if(dc.apply(this,arguments),Gn){if(Gn){var U=Or;Gn=!1,Or=null}else throw Error(y(198));wr||(wr=!0,ea=U)}}function Xt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!=0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rl(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function il(e){if(Xt(e)!==e)throw Error(y(188))}function hc(e){var t=e.alternate;if(!t){if(t=Xt(e),t===null)throw Error(y(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return il(i),e;if(o===r)return il(i),t;o=o.sibling}throw Error(y(188))}if(n.return!==r.return)n=i,r=o;else{for(var d=!1,E=i.child;E;){if(E===n){d=!0,n=i,r=o;break}if(E===r){d=!0,r=i,n=o;break}E=E.sibling}if(!d){for(E=o.child;E;){if(E===n){d=!0,n=o,r=i;break}if(E===r){d=!0,r=o,n=i;break}E=E.sibling}if(!d)throw Error(y(189))}}if(n.alternate!==r)throw Error(y(190))}if(n.tag!==3)throw Error(y(188));return n.stateNode.current===n?e:t}function al(e){return e=hc(e),e!==null?ol(e):null}function ol(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ol(e);if(t!==null)return t;e=e.sibling}return null}var ll=R.unstable_scheduleCallback,sl=R.unstable_cancelCallback,gc=R.unstable_shouldYield,vc=R.unstable_requestPaint,Oe=R.unstable_now,mc=R.unstable_getCurrentPriorityLevel,ta=R.unstable_ImmediatePriority,ul=R.unstable_UserBlockingPriority,Ar=R.unstable_NormalPriority,_c=R.unstable_LowPriority,cl=R.unstable_IdlePriority,Rr=null,mt=null;function yc(e){if(mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(Rr,e,void 0,(e.current.flags&128)==128)}catch{}}var ct=Math.clz32?Math.clz32:Sc,Ec=Math.log,bc=Math.LN2;function Sc(e){return e>>>=0,e===0?32:31-(Ec(e)/bc|0)|0}var Pr=64,Mr=4194304;function Hn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xr(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,d=n&268435455;if(d!==0){var E=d&~i;E!==0?r=Hn(E):(o&=d,o!==0&&(r=Hn(o)))}else d=n&~i,d!==0?r=Hn(d):o!==0&&(r=Hn(o));if(r===0)return 0;if(t!==0&&t!==r&&(t&i)==0&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!=0))return t;if((r&4)!=0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ct(t),i=1<<n,r|=e[n],t&=~i;return r}function Tc(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var d=31-ct(o),E=1<<d,C=i[d];C===-1?((E&n)==0||(E&r)!=0)&&(i[d]=Tc(E,t)):C<=t&&(e.expiredLanes|=E),o&=~E}}function na(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fl(){var e=Pr;return Pr<<=1,(Pr&4194240)==0&&(Pr=64),e}function ra(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function jn(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ct(t),e[t]=n}function Ic(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ct(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function ia(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ct(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var me=0;function dl(e){return e&=-e,1<e?4<e?(e&268435455)!=0?16:536870912:4:1}var pl,aa,hl,gl,vl,oa=!1,kr=[],Pt=null,Mt=null,xt=null,Bn=new Map,$n=new Map,kt=[],Cc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ml(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":xt=null;break;case"pointerover":case"pointerout":Bn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$n.delete(t.pointerId)}}function zn(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ar(t),t!==null&&aa(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Lc(e,t,n,r,i){switch(t){case"focusin":return Pt=zn(Pt,e,t,n,r,i),!0;case"dragenter":return Mt=zn(Mt,e,t,n,r,i),!0;case"mouseover":return xt=zn(xt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Bn.set(o,zn(Bn.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,$n.set(o,zn($n.get(o)||null,e,t,n,r,i)),!0}return!1}function _l(e){var t=Jt(e.target);if(t!==null){var n=Xt(t);if(n!==null){if(t=n.tag,t===13){if(t=rl(n),t!==null){e.blockedOn=t,vl(e.priority,function(){hl(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=sa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);qi=r,n.target.dispatchEvent(r),qi=null}else return t=ar(n),t!==null&&aa(t),e.blockedOn=n,!1;t.shift()}return!0}function yl(e,t,n){Dr(e)&&n.delete(t)}function Oc(){oa=!1,Pt!==null&&Dr(Pt)&&(Pt=null),Mt!==null&&Dr(Mt)&&(Mt=null),xt!==null&&Dr(xt)&&(xt=null),Bn.forEach(yl),$n.forEach(yl)}function Wn(e,t){e.blockedOn===t&&(e.blockedOn=null,oa||(oa=!0,R.unstable_scheduleCallback(R.unstable_NormalPriority,Oc)))}function Qn(e){function t(i){return Wn(i,e)}if(0<kr.length){Wn(kr[0],e);for(var n=1;n<kr.length;n++){var r=kr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pt!==null&&Wn(Pt,e),Mt!==null&&Wn(Mt,e),xt!==null&&Wn(xt,e),Bn.forEach(t),$n.forEach(t),n=0;n<kt.length;n++)r=kt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<kt.length&&(n=kt[0],n.blockedOn===null);)_l(n),n.blockedOn===null&&kt.shift()}var hn=Y.ReactCurrentBatchConfig,Ur=!0;function wc(e,t,n,r){var i=me,o=hn.transition;hn.transition=null;try{me=1,la(e,t,n,r)}finally{me=i,hn.transition=o}}function Ac(e,t,n,r){var i=me,o=hn.transition;hn.transition=null;try{me=4,la(e,t,n,r)}finally{me=i,hn.transition=o}}function la(e,t,n,r){if(Ur){var i=sa(e,t,n,r);if(i===null)Ta(e,t,r,Vr,n),ml(e,r);else if(Lc(i,e,t,n,r))r.stopPropagation();else if(ml(e,r),t&4&&-1<Cc.indexOf(e)){for(;i!==null;){var o=ar(i);if(o!==null&&pl(o),o=sa(e,t,n,r),o===null&&Ta(e,t,r,Vr,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ta(e,t,r,null,n)}}var Vr=null;function sa(e,t,n,r){if(Vr=null,e=Ki(r),e=Jt(e),e!==null)if(t=Xt(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rl(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vr=e,null}function El(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mc()){case ta:return 1;case ul:return 4;case Ar:case _c:return 16;case cl:return 536870912;default:return 16}default:return 16}}var Dt=null,ua=null,Fr=null;function bl(){if(Fr)return Fr;var e,t=ua,n=t.length,r,i="value"in Dt?Dt.value:Dt.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var d=n-e;for(r=1;r<=d&&t[n-r]===i[o-r];r++);return Fr=i.slice(e,1<r?1-r:void 0)}function Gr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hr(){return!0}function Sl(){return!1}function Ze(e){function t(n,r,i,o,d){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=d,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(n=e[E],this[E]=n?n(o):o[E]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Hr:Sl,this.isPropagationStopped=Sl,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hr)},persist:function(){},isPersistent:Hr}),t}var gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=Ze(gn),Yn=S({},gn,{view:0,detail:0}),Rc=Ze(Yn),fa,da,qn,jr=S({},Yn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ha,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qn&&(qn&&e.type==="mousemove"?(fa=e.screenX-qn.screenX,da=e.screenY-qn.screenY):da=fa=0,qn=e),fa)},movementY:function(e){return"movementY"in e?e.movementY:da}}),Tl=Ze(jr),Pc=S({},jr,{dataTransfer:0}),Mc=Ze(Pc),xc=S({},Yn,{relatedTarget:0}),pa=Ze(xc),kc=S({},gn,{animationName:0,elapsedTime:0,pseudoElement:0}),Dc=Ze(kc),Uc=S({},gn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vc=Ze(Uc),Fc=S({},gn,{data:0}),Nl=Ze(Fc),Gc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bc(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jc[e])?!!t[e]:!1}function ha(){return Bc}var $c=S({},Yn,{key:function(e){if(e.key){var t=Gc[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ha,charCode:function(e){return e.type==="keypress"?Gr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zc=Ze($c),Wc=S({},jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Il=Ze(Wc),Qc=S({},Yn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ha}),Yc=Ze(Qc),qc=S({},gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kc=Ze(qc),Xc=S({},jr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jc=Ze(Xc),Zc=[9,13,27,32],ga=u&&"CompositionEvent"in window,Kn=null;u&&"documentMode"in document&&(Kn=document.documentMode);var ef=u&&"TextEvent"in window&&!Kn,Cl=u&&(!ga||Kn&&8<Kn&&11>=Kn),Ll=String.fromCharCode(32),Ol=!1;function wl(e,t){switch(e){case"keyup":return Zc.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Al(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vn=!1;function tf(e,t){switch(e){case"compositionend":return Al(t);case"keypress":return t.which!==32?null:(Ol=!0,Ll);case"textInput":return e=t.data,e===Ll&&Ol?null:e;default:return null}}function nf(e,t){if(vn)return e==="compositionend"||!ga&&wl(e,t)?(e=bl(),Fr=ua=Dt=null,vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cl&&t.locale!=="ko"?null:t.data;default:return null}}var rf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rf[e.type]:t==="textarea"}function Pl(e,t,n,r){Jo(r),t=Kr(t,"onChange"),0<t.length&&(n=new ca("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xn=null,Jn=null;function af(e){Xl(e,0)}function Br(e){var t=bn(e);if(Go(t))return e}function of(e,t){if(e==="change")return t}var Ml=!1;u&&(u?($r="oninput"in document,$r||(ma=document.createElement("div"),ma.setAttribute("oninput","return;"),$r=typeof ma.oninput=="function"),va=$r):va=!1,Ml=va&&(!document.documentMode||9<document.documentMode));var va,$r,ma;function xl(){Xn&&(Xn.detachEvent("onpropertychange",kl),Jn=Xn=null)}function kl(e){if(e.propertyName==="value"&&Br(Jn)){var t=[];Pl(t,Jn,e,Ki(e)),nl(af,t)}}function lf(e,t,n){e==="focusin"?(xl(),Xn=t,Jn=n,Xn.attachEvent("onpropertychange",kl)):e==="focusout"&&xl()}function sf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Br(Jn)}function uf(e,t){if(e==="click")return Br(t)}function cf(e,t){if(e==="input"||e==="change")return Br(t)}function ff(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var ft=typeof Object.is=="function"?Object.is:ff;function Zn(e,t){if(ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!b.call(t,i)||!ft(e[i],t[i]))return!1}return!0}function Dl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ul(e,t){var n=Dl(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dl(n)}}function Vl(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vl(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fl(){for(var e=window,t=Cr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Cr(e.document)}return t}function _a(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function df(e){var t=Fl(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Vl(n.ownerDocument.documentElement,n)){if(r!==null&&_a(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Ul(n,o);var d=Ul(n,r);i&&d&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pf=u&&"documentMode"in document&&11>=document.documentMode,mn=null,ya=null,er=null,Ea=!1;function Gl(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ea||mn==null||mn!==Cr(r)||(r=mn,"selectionStart"in r&&_a(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),er&&Zn(er,r)||(er=r,r=Kr(ya,"onSelect"),0<r.length&&(t=new ca("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mn)))}function zr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _n={animationend:zr("Animation","AnimationEnd"),animationiteration:zr("Animation","AnimationIteration"),animationstart:zr("Animation","AnimationStart"),transitionend:zr("Transition","TransitionEnd")},ba={},Hl={};u&&(Hl=document.createElement("div").style,"AnimationEvent"in window||(delete _n.animationend.animation,delete _n.animationiteration.animation,delete _n.animationstart.animation),"TransitionEvent"in window||delete _n.transitionend.transition);function Wr(e){if(ba[e])return ba[e];if(!_n[e])return e;var t=_n[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Hl)return ba[e]=t[n];return e}var jl=Wr("animationend"),Bl=Wr("animationiteration"),$l=Wr("animationstart"),zl=Wr("transitionend"),Wl=new Map,Ql="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ut(e,t){Wl.set(e,t),_(t,[e])}for(Yr=0;Yr<Ql.length;Yr++)Qr=Ql[Yr],Yl=Qr.toLowerCase(),ql=Qr[0].toUpperCase()+Qr.slice(1),Ut(Yl,"on"+ql);var Qr,Yl,ql,Yr;Ut(jl,"onAnimationEnd"),Ut(Bl,"onAnimationIteration"),Ut($l,"onAnimationStart"),Ut("dblclick","onDoubleClick"),Ut("focusin","onFocus"),Ut("focusout","onBlur"),Ut(zl,"onTransitionEnd"),I("onMouseEnter",["mouseout","mouseover"]),I("onMouseLeave",["mouseout","mouseover"]),I("onPointerEnter",["pointerout","pointerover"]),I("onPointerLeave",["pointerout","pointerover"]),_("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_("onBeforeInput",["compositionend","keypress","textInput","paste"]),_("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hf=new Set("cancel close invalid load scroll toggle".split(" ").concat(tr));function Kl(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,pc(r,t,void 0,e),e.currentTarget=null}function Xl(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var d=r.length-1;0<=d;d--){var E=r[d],C=E.instance,U=E.currentTarget;if(E=E.listener,C!==o&&i.isPropagationStopped())break e;Kl(i,E,U),o=C}else for(d=0;d<r.length;d++){if(E=r[d],C=E.instance,U=E.currentTarget,E=E.listener,C!==o&&i.isPropagationStopped())break e;Kl(i,E,U),o=C}}}if(wr)throw e=ea,wr=!1,ea=null,e}function Ee(e,t){var n=t[wa];n===void 0&&(n=t[wa]=new Set);var r=e+"__bubble";n.has(r)||(Jl(t,e,2,!1),n.add(r))}function Sa(e,t,n){var r=0;t&&(r|=4),Jl(n,e,r,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function nr(e){if(!e[qr]){e[qr]=!0,A.forEach(function(n){n!=="selectionchange"&&(hf.has(n)||Sa(n,!1,e),Sa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qr]||(t[qr]=!0,Sa("selectionchange",!1,t))}}function Jl(e,t,n,r){switch(El(t)){case 1:var i=wc;break;case 4:i=Ac;break;default:i=la}n=i.bind(null,t,n,e),i=void 0,!Zi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ta(e,t,n,r,i){var o=r;if((t&1)==0&&(t&2)==0&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var E=r.stateNode.containerInfo;if(E===i||E.nodeType===8&&E.parentNode===i)break;if(d===4)for(d=r.return;d!==null;){var C=d.tag;if((C===3||C===4)&&(C=d.stateNode.containerInfo,C===i||C.nodeType===8&&C.parentNode===i))return;d=d.return}for(;E!==null;){if(d=Jt(E),d===null)return;if(C=d.tag,C===5||C===6){r=o=d;continue e}E=E.parentNode}}r=r.return}nl(function(){var U=o,B=Ki(n),X=[];e:{var j=Wl.get(e);if(j!==void 0){var J=ca,q=e;switch(e){case"keypress":if(Gr(n)===0)break e;case"keydown":case"keyup":J=zc;break;case"focusin":q="focus",J=pa;break;case"focusout":q="blur",J=pa;break;case"beforeblur":case"afterblur":J=pa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Mc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Yc;break;case jl:case Bl:case $l:J=Dc;break;case zl:J=Kc;break;case"scroll":J=Rc;break;case"wheel":J=Jc;break;case"copy":case"cut":case"paste":J=Vc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Il}var ce=(t&4)!=0,we=!ce&&e==="scroll",x=ce?j!==null?j+"Capture":null:j;ce=[];for(var w=U,D;w!==null;){D=w;var Q=D.stateNode;if(D.tag===5&&Q!==null&&(D=Q,x!==null&&(Q=Fn(w,x),Q!=null&&ce.push(rr(w,Q,D)))),we)break;w=w.return}0<ce.length&&(j=new J(j,q,null,n,B),X.push({event:j,listeners:ce}))}}if((t&7)==0){e:{if(j=e==="mouseover"||e==="pointerover",J=e==="mouseout"||e==="pointerout",j&&n!==qi&&(q=n.relatedTarget||n.fromElement)&&(Jt(q)||q[Tt]))break e;if((J||j)&&(j=B.window===B?B:(j=B.ownerDocument)?j.defaultView||j.parentWindow:window,J?(q=n.relatedTarget||n.toElement,J=U,q=q?Jt(q):null,q!==null&&(we=Xt(q),q!==we||q.tag!==5&&q.tag!==6)&&(q=null)):(J=null,q=U),J!==q)){if(ce=Tl,Q="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(ce=Il,Q="onPointerLeave",x="onPointerEnter",w="pointer"),we=J==null?j:bn(J),D=q==null?j:bn(q),j=new ce(Q,w+"leave",J,n,B),j.target=we,j.relatedTarget=D,Q=null,Jt(B)===U&&(ce=new ce(x,w+"enter",q,n,B),ce.target=D,ce.relatedTarget=we,Q=ce),we=Q,J&&q)t:{for(ce=J,x=q,w=0,D=ce;D;D=yn(D))w++;for(D=0,Q=x;Q;Q=yn(Q))D++;for(;0<w-D;)ce=yn(ce),w--;for(;0<D-w;)x=yn(x),D--;for(;w--;){if(ce===x||x!==null&&ce===x.alternate)break t;ce=yn(ce),x=yn(x)}ce=null}else ce=null;J!==null&&Zl(X,j,J,ce,!1),q!==null&&we!==null&&Zl(X,we,q,ce,!0)}}e:{if(j=U?bn(U):window,J=j.nodeName&&j.nodeName.toLowerCase(),J==="select"||J==="input"&&j.type==="file")var ne=of;else if(Rl(j))if(Ml)ne=cf;else{ne=sf;var ie=lf}else(J=j.nodeName)&&J.toLowerCase()==="input"&&(j.type==="checkbox"||j.type==="radio")&&(ne=uf);if(ne&&(ne=ne(e,U))){Pl(X,ne,n,B);break e}ie&&ie(e,j,U),e==="focusout"&&(ie=j._wrapperState)&&ie.controlled&&j.type==="number"&&$i(j,"number",j.value)}switch(ie=U?bn(U):window,e){case"focusin":(Rl(ie)||ie.contentEditable==="true")&&(mn=ie,ya=U,er=null);break;case"focusout":er=ya=mn=null;break;case"mousedown":Ea=!0;break;case"contextmenu":case"mouseup":case"dragend":Ea=!1,Gl(X,n,B);break;case"selectionchange":if(pf)break;case"keydown":case"keyup":Gl(X,n,B)}var ae;if(ga)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else vn?wl(e,n)&&(se="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(se="onCompositionStart");se&&(Cl&&n.locale!=="ko"&&(vn||se!=="onCompositionStart"?se==="onCompositionEnd"&&vn&&(ae=bl()):(Dt=B,ua="value"in Dt?Dt.value:Dt.textContent,vn=!0)),ie=Kr(U,se),0<ie.length&&(se=new Nl(se,e,null,n,B),X.push({event:se,listeners:ie}),ae?se.data=ae:(ae=Al(n),ae!==null&&(se.data=ae)))),(ae=ef?tf(e,n):nf(e,n))&&(U=Kr(U,"onBeforeInput"),0<U.length&&(B=new Nl("onBeforeInput","beforeinput",null,n,B),X.push({event:B,listeners:U}),B.data=ae))}Xl(X,t)})}function rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Fn(e,n),o!=null&&r.unshift(rr(e,o,i)),o=Fn(e,t),o!=null&&r.push(rr(e,o,i))),e=e.return}return r}function yn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zl(e,t,n,r,i){for(var o=t._reactName,d=[];n!==null&&n!==r;){var E=n,C=E.alternate,U=E.stateNode;if(C!==null&&C===r)break;E.tag===5&&U!==null&&(E=U,i?(C=Fn(n,o),C!=null&&d.unshift(rr(n,C,E))):i||(C=Fn(n,o),C!=null&&d.push(rr(n,C,E)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var gf=/\r\n?/g,vf=/\u0000|\uFFFD/g;function es(e){return(typeof e=="string"?e:""+e).replace(gf,`
`).replace(vf,"")}function Xr(e,t,n){if(t=es(t),es(e)!==t&&n)throw Error(y(425))}function Jr(){}var Na=null,Ia=null;function Ca(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var La=typeof setTimeout=="function"?setTimeout:void 0,mf=typeof clearTimeout=="function"?clearTimeout:void 0,ts=typeof Promise=="function"?Promise:void 0,_f=typeof queueMicrotask=="function"?queueMicrotask:typeof ts<"u"?function(e){return ts.resolve(null).then(e).catch(yf)}:La;function yf(e){setTimeout(function(){throw e})}function Oa(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Qn(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qn(t)}function St(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ns(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var En=Math.random().toString(36).slice(2),_t="__reactFiber$"+En,ir="__reactProps$"+En,Tt="__reactContainer$"+En,wa="__reactEvents$"+En,Ef="__reactListeners$"+En,bf="__reactHandles$"+En;function Jt(e){var t=e[_t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Tt]||n[_t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ns(e);e!==null;){if(n=e[_t])return n;e=ns(e)}return t}e=n,n=e.parentNode}return null}function ar(e){return e=e[_t]||e[Tt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(y(33))}function Zr(e){return e[ir]||null}var Aa=[],Sn=-1;function Vt(e){return{current:e}}function be(e){0>Sn||(e.current=Aa[Sn],Aa[Sn]=null,Sn--)}function ye(e,t){Sn++,Aa[Sn]=e.current,e.current=t}var Ft={},Ge=Vt(Ft),Qe=Vt(!1),Zt=Ft;function Tn(e,t){var n=e.type.contextTypes;if(!n)return Ft;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ye(e){return e=e.childContextTypes,e!=null}function ei(){be(Qe),be(Ge)}function rs(e,t,n){if(Ge.current!==Ft)throw Error(y(168));ye(Ge,t),ye(Qe,n)}function is(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(y(108,_e(e)||"Unknown",i));return S({},n,r)}function ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ft,Zt=Ge.current,ye(Ge,e),ye(Qe,Qe.current),!0}function as(e,t,n){var r=e.stateNode;if(!r)throw Error(y(169));n?(e=is(e,t,Zt),r.__reactInternalMemoizedMergedChildContext=e,be(Qe),be(Ge),ye(Ge,e)):be(Qe),ye(Qe,n)}var Nt=null,ni=!1,Ra=!1;function os(e){Nt===null?Nt=[e]:Nt.push(e)}function Sf(e){ni=!0,os(e)}function Gt(){if(!Ra&&Nt!==null){Ra=!0;var e=0,t=me;try{var n=Nt;for(me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Nt=null,ni=!1}catch(i){throw Nt!==null&&(Nt=Nt.slice(e+1)),ll(ta,Gt),i}finally{me=t,Ra=!1}}return null}var Tf=Y.ReactCurrentBatchConfig;function dt(e,t){if(e&&e.defaultProps){t=S({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var ri=Vt(null),ii=null,Nn=null,Pa=null;function Ma(){Pa=Nn=ii=null}function xa(e){var t=ri.current;be(ri),e._currentValue=t}function ka(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function In(e,t){ii=e,Pa=Nn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!=0&&(Ke=!0),e.firstContext=null)}function nt(e){var t=e._currentValue;if(Pa!==e)if(e={context:e,memoizedValue:t,next:null},Nn===null){if(ii===null)throw Error(y(308));Nn=e,ii.dependencies={lanes:0,firstContext:e}}else Nn=Nn.next=e;return t}var pt=null,Ht=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function It(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jt(e,t){var n=e.updateQueue;n!==null&&(n=n.shared,Tu(e)?(e=n.interleaved,e===null?(t.next=t,pt===null?pt=[n]:pt.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(e=n.pending,e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ai(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!=0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ia(e,n)}}function ss(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=d:o=o.next=d,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function oi(e,t,n,r){var i=e.updateQueue;Ht=!1;var o=i.firstBaseUpdate,d=i.lastBaseUpdate,E=i.shared.pending;if(E!==null){i.shared.pending=null;var C=E,U=C.next;C.next=null,d===null?o=U:d.next=U,d=C;var B=e.alternate;B!==null&&(B=B.updateQueue,E=B.lastBaseUpdate,E!==d&&(E===null?B.firstBaseUpdate=U:E.next=U,B.lastBaseUpdate=C))}if(o!==null){var X=i.baseState;d=0,B=U=C=null,E=o;do{var j=E.lane,J=E.eventTime;if((r&j)===j){B!==null&&(B=B.next={eventTime:J,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var q=e,ce=E;switch(j=t,J=n,ce.tag){case 1:if(q=ce.payload,typeof q=="function"){X=q.call(J,X,j);break e}X=q;break e;case 3:q.flags=q.flags&-65537|128;case 0:if(q=ce.payload,j=typeof q=="function"?q.call(J,X,j):q,j==null)break e;X=S({},X,j);break e;case 2:Ht=!0}}E.callback!==null&&E.lane!==0&&(e.flags|=64,j=i.effects,j===null?i.effects=[E]:j.push(E))}else J={eventTime:J,lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},B===null?(U=B=J,C=X):B=B.next=J,d|=j;if(E=E.next,E===null){if(E=i.shared.pending,E===null)break;j=E,E=j.next,j.next=null,i.lastBaseUpdate=j,i.shared.pending=null}}while(1);if(B===null&&(C=X),i.baseState=C,i.firstBaseUpdate=U,i.lastBaseUpdate=B,t=i.shared.interleaved,t!==null){i=t;do d|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);an|=d,e.lanes=d,e.memoizedState=X}}function us(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(y(191,i));i.call(r)}}}var cs=new k.Component().refs;function Ua(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:S({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var li={isMounted:function(e){return(e=e._reactInternals)?Xt(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ze(),i=Wt(e),o=It(r,i);o.payload=t,n!=null&&(o.callback=n),jt(e,o),t=lt(e,i,r),t!==null&&ai(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ze(),i=Wt(e),o=It(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),jt(e,o),t=lt(e,i,r),t!==null&&ai(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ze(),r=Wt(e),i=It(n,r);i.tag=2,t!=null&&(i.callback=t),jt(e,i),t=lt(e,r,n),t!==null&&ai(t,e,r)}};function fs(e,t,n,r,i,o,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,d):t.prototype&&t.prototype.isPureReactComponent?!Zn(n,r)||!Zn(i,o):!0}function ds(e,t,n){var r=!1,i=Ft,o=t.contextType;return typeof o=="object"&&o!==null?o=nt(o):(i=Ye(t)?Zt:Ge.current,r=t.contextTypes,o=(r=r!=null)?Tn(e,i):Ft),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=li,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ps(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&li.enqueueReplaceState(t,t.state,null)}function Va(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=cs,Da(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=nt(o):(o=Ye(t)?Zt:Ge.current,i.context=Tn(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ua(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&li.enqueueReplaceState(i,i.state,null),oi(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}var Cn=[],Ln=0,si=null,ui=0,rt=[],it=0,en=null,Ct=1,Lt="";function tn(e,t){Cn[Ln++]=ui,Cn[Ln++]=si,si=e,ui=t}function hs(e,t,n){rt[it++]=Ct,rt[it++]=Lt,rt[it++]=en,en=e;var r=Ct;e=Lt;var i=32-ct(r)-1;r&=~(1<<i),n+=1;var o=32-ct(t)+i;if(30<o){var d=i-i%5;o=(r&(1<<d)-1).toString(32),r>>=d,i-=d,Ct=1<<32-ct(t)+i|n<<i|r,Lt=o+e}else Ct=1<<o|n<<i|r,Lt=e}function Fa(e){e.return!==null&&(tn(e,1),hs(e,1,0))}function Ga(e){for(;e===si;)si=Cn[--Ln],Cn[Ln]=null,ui=Cn[--Ln],Cn[Ln]=null;for(;e===en;)en=rt[--it],rt[it]=null,Lt=rt[--it],rt[it]=null,Ct=rt[--it],rt[it]=null}var et=null,qe=null,Se=!1,ht=null;function gs(e,t){var n=st(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function vs(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,et=e,qe=St(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,et=e,qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=en!==null?{id:Ct,overflow:Lt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=st(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,et=e,qe=null,!0):!1;default:return!1}}function Ha(e){return(e.mode&1)!=0&&(e.flags&128)==0}function ja(e){if(Se){var t=qe;if(t){var n=t;if(!vs(e,t)){if(Ha(e))throw Error(y(418));t=St(n.nextSibling);var r=et;t&&vs(e,t)?gs(r,n):(e.flags=e.flags&-4097|2,Se=!1,et=e)}}else{if(Ha(e))throw Error(y(418));e.flags=e.flags&-4097|2,Se=!1,et=e}}}function ms(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;et=e}function or(e){if(e!==et)return!1;if(!Se)return ms(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ca(e.type,e.memoizedProps)),t&&(t=qe)){if(Ha(e)){for(e=qe;e;)e=St(e.nextSibling);throw Error(y(418))}for(;t;)gs(e,t),t=St(t.nextSibling)}if(ms(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qe=St(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qe=null}}else qe=et?St(e.stateNode.nextSibling):null;return!0}function On(){qe=et=null,Se=!1}function Ba(e){ht===null?ht=[e]:ht.push(e)}function lr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(y(309));var r=n.stateNode}if(!r)throw Error(y(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(d){var E=i.refs;E===cs&&(E=i.refs={}),d===null?delete E[o]:E[o]=d},t._stringRef=o,t)}if(typeof e!="string")throw Error(y(284));if(!n._owner)throw Error(y(290,e))}return e}function ci(e,t){throw e=Object.prototype.toString.call(t),Error(y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _s(e){var t=e._init;return t(e._payload)}function ys(e){function t(x,w){if(e){var D=x.deletions;D===null?(x.deletions=[w],x.flags|=16):D.push(w)}}function n(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Yt(x,w),x.index=0,x.sibling=null,x}function o(x,w,D){return x.index=D,e?(D=x.alternate,D!==null?(D=D.index,D<w?(x.flags|=2,w):D):(x.flags|=2,w)):(x.flags|=1048576,w)}function d(x){return e&&x.alternate===null&&(x.flags|=2),x}function E(x,w,D,Q){return w===null||w.tag!==6?(w=No(D,x.mode,Q),w.return=x,w):(w=i(w,D),w.return=x,w)}function C(x,w,D,Q){var ne=D.type;return ne===W?B(x,w,D.props.children,Q,D.key):w!==null&&(w.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===M&&_s(ne)===w.type)?(Q=i(w,D.props),Q.ref=lr(x,w,D),Q.return=x,Q):(Q=Ri(D.type,D.key,D.props,null,x.mode,Q),Q.ref=lr(x,w,D),Q.return=x,Q)}function U(x,w,D,Q){return w===null||w.tag!==4||w.stateNode.containerInfo!==D.containerInfo||w.stateNode.implementation!==D.implementation?(w=Io(D,x.mode,Q),w.return=x,w):(w=i(w,D.children||[]),w.return=x,w)}function B(x,w,D,Q,ne){return w===null||w.tag!==7?(w=un(D,x.mode,Q,ne),w.return=x,w):(w=i(w,D),w.return=x,w)}function X(x,w,D){if(typeof w=="string"&&w!==""||typeof w=="number")return w=No(""+w,x.mode,D),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ee:return D=Ri(w.type,w.key,w.props,null,x.mode,D),D.ref=lr(x,null,w),D.return=x,D;case K:return w=Io(w,x.mode,D),w.return=x,w;case M:var Q=w._init;return X(x,Q(w._payload),D)}if(Dn(w)||z(w))return w=un(w,x.mode,D,null),w.return=x,w;ci(x,w)}return null}function j(x,w,D,Q){var ne=w!==null?w.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return ne!==null?null:E(x,w,""+D,Q);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ee:return D.key===ne?C(x,w,D,Q):null;case K:return D.key===ne?U(x,w,D,Q):null;case M:return ne=D._init,j(x,w,ne(D._payload),Q)}if(Dn(D)||z(D))return ne!==null?null:B(x,w,D,Q,null);ci(x,D)}return null}function J(x,w,D,Q,ne){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return x=x.get(D)||null,E(w,x,""+Q,ne);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case ee:return x=x.get(Q.key===null?D:Q.key)||null,C(w,x,Q,ne);case K:return x=x.get(Q.key===null?D:Q.key)||null,U(w,x,Q,ne);case M:var ie=Q._init;return J(x,w,D,ie(Q._payload),ne)}if(Dn(Q)||z(Q))return x=x.get(D)||null,B(w,x,Q,ne,null);ci(w,Q)}return null}function q(x,w,D,Q){for(var ne=null,ie=null,ae=w,se=w=0,Ue=null;ae!==null&&se<D.length;se++){ae.index>se?(Ue=ae,ae=null):Ue=ae.sibling;var ve=j(x,ae,D[se],Q);if(ve===null){ae===null&&(ae=Ue);break}e&&ae&&ve.alternate===null&&t(x,ae),w=o(ve,w,se),ie===null?ne=ve:ie.sibling=ve,ie=ve,ae=Ue}if(se===D.length)return n(x,ae),Se&&tn(x,se),ne;if(ae===null){for(;se<D.length;se++)ae=X(x,D[se],Q),ae!==null&&(w=o(ae,w,se),ie===null?ne=ae:ie.sibling=ae,ie=ae);return Se&&tn(x,se),ne}for(ae=r(x,ae);se<D.length;se++)Ue=J(ae,x,se,D[se],Q),Ue!==null&&(e&&Ue.alternate!==null&&ae.delete(Ue.key===null?se:Ue.key),w=o(Ue,w,se),ie===null?ne=Ue:ie.sibling=Ue,ie=Ue);return e&&ae.forEach(function(qt){return t(x,qt)}),Se&&tn(x,se),ne}function ce(x,w,D,Q){var ne=z(D);if(typeof ne!="function")throw Error(y(150));if(D=ne.call(D),D==null)throw Error(y(151));for(var ie=ne=null,ae=w,se=w=0,Ue=null,ve=D.next();ae!==null&&!ve.done;se++,ve=D.next()){ae.index>se?(Ue=ae,ae=null):Ue=ae.sibling;var qt=j(x,ae,ve.value,Q);if(qt===null){ae===null&&(ae=Ue);break}e&&ae&&qt.alternate===null&&t(x,ae),w=o(qt,w,se),ie===null?ne=qt:ie.sibling=qt,ie=qt,ae=Ue}if(ve.done)return n(x,ae),Se&&tn(x,se),ne;if(ae===null){for(;!ve.done;se++,ve=D.next())ve=X(x,ve.value,Q),ve!==null&&(w=o(ve,w,se),ie===null?ne=ve:ie.sibling=ve,ie=ve);return Se&&tn(x,se),ne}for(ae=r(x,ae);!ve.done;se++,ve=D.next())ve=J(ae,x,se,ve.value,Q),ve!==null&&(e&&ve.alternate!==null&&ae.delete(ve.key===null?se:ve.key),w=o(ve,w,se),ie===null?ne=ve:ie.sibling=ve,ie=ve);return e&&ae.forEach(function(td){return t(x,td)}),Se&&tn(x,se),ne}function we(x,w,D,Q){if(typeof D=="object"&&D!==null&&D.type===W&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case ee:e:{for(var ne=D.key,ie=w;ie!==null;){if(ie.key===ne){if(ne=D.type,ne===W){if(ie.tag===7){n(x,ie.sibling),w=i(ie,D.props.children),w.return=x,x=w;break e}}else if(ie.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===M&&_s(ne)===ie.type){n(x,ie.sibling),w=i(ie,D.props),w.ref=lr(x,ie,D),w.return=x,x=w;break e}n(x,ie);break}else t(x,ie);ie=ie.sibling}D.type===W?(w=un(D.props.children,x.mode,Q,D.key),w.return=x,x=w):(Q=Ri(D.type,D.key,D.props,null,x.mode,Q),Q.ref=lr(x,w,D),Q.return=x,x=Q)}return d(x);case K:e:{for(ie=D.key;w!==null;){if(w.key===ie)if(w.tag===4&&w.stateNode.containerInfo===D.containerInfo&&w.stateNode.implementation===D.implementation){n(x,w.sibling),w=i(w,D.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else t(x,w);w=w.sibling}w=Io(D,x.mode,Q),w.return=x,x=w}return d(x);case M:return ie=D._init,we(x,w,ie(D._payload),Q)}if(Dn(D))return q(x,w,D,Q);if(z(D))return ce(x,w,D,Q);ci(x,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,D),w.return=x,x=w):(n(x,w),w=No(D,x.mode,Q),w.return=x,x=w),d(x)):n(x,w)}return we}var wn=ys(!0),Es=ys(!1),sr={},yt=Vt(sr),ur=Vt(sr),cr=Vt(sr);function nn(e){if(e===sr)throw Error(y(174));return e}function $a(e,t){switch(ye(cr,t),ye(ur,e),ye(yt,sr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wi(t,e)}be(yt),ye(yt,t)}function An(){be(yt),be(ur),be(cr)}function bs(e){nn(cr.current);var t=nn(yt.current),n=Wi(t,e.type);t!==n&&(ye(ur,e),ye(yt,n))}function za(e){ur.current===e&&(be(yt),be(ur))}var Te=Vt(0);function fi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!=0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wa=[];function Qa(){for(var e=0;e<Wa.length;e++)Wa[e]._workInProgressVersionPrimary=null;Wa.length=0}var di=Y.ReactCurrentDispatcher,Ya=Y.ReactCurrentBatchConfig,rn=0,Ne=null,Pe=null,De=null,pi=!1,fr=!1,dr=0,Nf=0;function He(){throw Error(y(321))}function qa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ft(e[n],t[n]))return!1;return!0}function Ka(e,t,n,r,i,o){if(rn=o,Ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,di.current=e===null||e.memoizedState===null?Of:wf,e=n(r,i),fr){o=0;do{if(fr=!1,dr=0,25<=o)throw Error(y(301));o+=1,De=Pe=null,t.updateQueue=null,di.current=Af,e=n(r,i)}while(fr)}if(di.current=vi,t=Pe!==null&&Pe.next!==null,rn=0,De=Pe=Ne=null,pi=!1,t)throw Error(y(300));return e}function Xa(){var e=dr!==0;return dr=0,e}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Ne.memoizedState=De=e:De=De.next=e,De}function at(){if(Pe===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=De===null?Ne.memoizedState:De.next;if(t!==null)De=t,Pe=e;else{if(e===null)throw Error(y(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},De===null?Ne.memoizedState=De=e:De=De.next=e}return De}function pr(e,t){return typeof t=="function"?t(e):t}function Ja(e){var t=at(),n=t.queue;if(n===null)throw Error(y(311));n.lastRenderedReducer=e;var r=Pe,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var d=i.next;i.next=o.next,o.next=d}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var E=d=null,C=null,U=o;do{var B=U.lane;if((rn&B)===B)C!==null&&(C=C.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),r=U.hasEagerState?U.eagerState:e(r,U.action);else{var X={lane:B,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};C===null?(E=C=X,d=r):C=C.next=X,Ne.lanes|=B,an|=B}U=U.next}while(U!==null&&U!==o);C===null?d=r:C.next=E,ft(r,t.memoizedState)||(Ke=!0),t.memoizedState=r,t.baseState=d,t.baseQueue=C,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ne.lanes|=o,an|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Za(e){var t=at(),n=t.queue;if(n===null)throw Error(y(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var d=i=i.next;do o=e(o,d.action),d=d.next;while(d!==i);ft(o,t.memoizedState)||(Ke=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ss(){}function Ts(e,t){var n=Ne,r=at(),i=t(),o=!ft(r.memoizedState,i);if(o&&(r.memoizedState=i,Ke=!0),r=r.queue,eo(Cs.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||De!==null&&De.memoizedState.tag&1){if(n.flags|=2048,hr(9,Is.bind(null,n,r,i,t),void 0,null),Me===null)throw Error(y(349));(rn&30)!=0||Ns(n,t,i)}return i}function Ns(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Is(e,t,n,r){t.value=n,t.getSnapshot=r,Ls(t)&&lt(e,1,-1)}function Cs(e,t,n){return n(function(){Ls(t)&&lt(e,1,-1)})}function Ls(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ft(e,n)}catch{return!0}}function Os(e){var t=Et();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:e},t.queue=e,e=e.dispatch=Lf.bind(null,Ne,e),[t.memoizedState,e]}function hr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ws(){return at().memoizedState}function hi(e,t,n,r){var i=Et();Ne.flags|=e,i.memoizedState=hr(1|t,n,void 0,r===void 0?null:r)}function gi(e,t,n,r){var i=at();r=r===void 0?null:r;var o=void 0;if(Pe!==null){var d=Pe.memoizedState;if(o=d.destroy,r!==null&&qa(r,d.deps)){i.memoizedState=hr(t,n,o,r);return}}Ne.flags|=e,i.memoizedState=hr(1|t,n,o,r)}function As(e,t){return hi(8390656,8,e,t)}function eo(e,t){return gi(2048,8,e,t)}function Rs(e,t){return gi(4,2,e,t)}function Ps(e,t){return gi(4,4,e,t)}function Ms(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xs(e,t,n){return n=n!=null?n.concat([e]):null,gi(4,4,Ms.bind(null,t,e),n)}function to(){}function ks(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ds(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Us(e,t,n){return(rn&21)==0?(e.baseState&&(e.baseState=!1,Ke=!0),e.memoizedState=n):(ft(n,t)||(n=fl(),Ne.lanes|=n,an|=n,e.baseState=!0),t)}function If(e,t){var n=me;me=n!==0&&4>n?n:4,e(!0);var r=Ya.transition;Ya.transition={};try{e(!1),t()}finally{me=n,Ya.transition=r}}function Vs(){return at().memoizedState}function Cf(e,t,n){var r=Wt(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Fs(e)?Gs(t,n):(Hs(e,t,n),n=ze(),e=lt(e,r,n),e!==null&&js(e,t,r))}function Lf(e,t,n){var r=Wt(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fs(e))Gs(t,i);else{Hs(e,t,i);var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var d=t.lastRenderedState,E=o(d,n);if(i.hasEagerState=!0,i.eagerState=E,ft(E,d))return}catch{}finally{}n=ze(),e=lt(e,r,n),e!==null&&js(e,t,r)}}function Fs(e){var t=e.alternate;return e===Ne||t!==null&&t===Ne}function Gs(e,t){fr=pi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hs(e,t,n){Tu(e)?(e=t.interleaved,e===null?(n.next=n,pt===null?pt=[t]:pt.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(e=t.pending,e===null?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function js(e,t,n){if((n&4194240)!=0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ia(e,n)}}var vi={readContext:nt,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},Of={readContext:nt,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:As,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,hi(4194308,4,Ms.bind(null,t,e),n)},useLayoutEffect:function(e,t){return hi(4194308,4,e,t)},useInsertionEffect:function(e,t){return hi(4,2,e,t)},useMemo:function(e,t){var n=Et();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Et();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Cf.bind(null,Ne,e),[r.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:Os,useDebugValue:to,useDeferredValue:function(e){return Et().memoizedState=e},useTransition:function(){var e=Os(!1),t=e[0];return e=If.bind(null,e[1]),Et().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ne,i=Et();if(Se){if(n===void 0)throw Error(y(407));n=n()}else{if(n=t(),Me===null)throw Error(y(349));(rn&30)!=0||Ns(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,As(Cs.bind(null,r,o,e),[e]),r.flags|=2048,hr(9,Is.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Et(),t=Me.identifierPrefix;if(Se){var n=Lt,r=Ct;n=(r&~(1<<32-ct(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=dr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Nf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wf={readContext:nt,useCallback:ks,useContext:nt,useEffect:eo,useImperativeHandle:xs,useInsertionEffect:Rs,useLayoutEffect:Ps,useMemo:Ds,useReducer:Ja,useRef:ws,useState:function(){return Ja(pr)},useDebugValue:to,useDeferredValue:function(e){var t=at();return Us(t,Pe.memoizedState,e)},useTransition:function(){var e=Ja(pr)[0],t=at().memoizedState;return[e,t]},useMutableSource:Ss,useSyncExternalStore:Ts,useId:Vs,unstable_isNewReconciler:!1},Af={readContext:nt,useCallback:ks,useContext:nt,useEffect:eo,useImperativeHandle:xs,useInsertionEffect:Rs,useLayoutEffect:Ps,useMemo:Ds,useReducer:Za,useRef:ws,useState:function(){return Za(pr)},useDebugValue:to,useDeferredValue:function(e){var t=at();return Pe===null?t.memoizedState=e:Us(t,Pe.memoizedState,e)},useTransition:function(){var e=Za(pr)[0],t=at().memoizedState;return[e,t]},useMutableSource:Ss,useSyncExternalStore:Ts,useId:Vs,unstable_isNewReconciler:!1};function no(e,t){try{var n="",r=t;do n+=fe(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i}}function ro(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Rf=typeof WeakMap=="function"?WeakMap:Map;function Bs(e,t,n){n=It(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ni||(Ni=!0,vo=r),ro(e,t)},n}function $s(e,t,n){n=It(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ro(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ro(e,t),typeof r!="function"&&($t===null?$t=new Set([this]):$t.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function zs(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Rf;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=$f.bind(null,e,t,n),t.then(e,e))}function Ws(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qs(e,t,n,r,i){return(e.mode&1)==0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=It(-1,1),t.tag=2,jt(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Ys,io,qs,Ks;Ys=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},io=function(){},qs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,nn(yt.current);var o=null;switch(n){case"input":i=ji(e,i),r=ji(e,r),o=[];break;case"select":i=S({},i,{value:void 0}),r=S({},r,{value:void 0}),o=[];break;case"textarea":i=zi(e,i),r=zi(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Jr)}Qi(n,r);var d;n=null;for(U in i)if(!r.hasOwnProperty(U)&&i.hasOwnProperty(U)&&i[U]!=null)if(U==="style"){var E=i[U];for(d in E)E.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(P.hasOwnProperty(U)?o||(o=[]):(o=o||[]).push(U,null));for(U in r){var C=r[U];if(E=i!=null?i[U]:void 0,r.hasOwnProperty(U)&&C!==E&&(C!=null||E!=null))if(U==="style")if(E){for(d in E)!E.hasOwnProperty(d)||C&&C.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in C)C.hasOwnProperty(d)&&E[d]!==C[d]&&(n||(n={}),n[d]=C[d])}else n||(o||(o=[]),o.push(U,n)),n=C;else U==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,E=E?E.__html:void 0,C!=null&&E!==C&&(o=o||[]).push(U,C)):U==="children"?typeof C!="string"&&typeof C!="number"||(o=o||[]).push(U,""+C):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(P.hasOwnProperty(U)?(C!=null&&U==="onScroll"&&Ee("scroll",e),o||E===C||(o=[])):(o=o||[]).push(U,C))}n&&(o=o||[]).push("style",n);var U=o;(t.updateQueue=U)&&(t.flags|=4)}},Ks=function(e,t,n,r){n!==r&&(t.flags|=4)};function gr(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function je(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Pf(e,t,n){var r=t.pendingProps;switch(Ga(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(t),null;case 1:return Ye(t.type)&&ei(),je(t),null;case 3:return r=t.stateNode,An(),be(Qe),be(Ge),Qa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(or(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)==0||(t.flags|=1024,ht!==null&&(yo(ht),ht=null))),io(e,t),je(t),null;case 5:za(t);var i=nn(cr.current);if(n=t.type,e!==null&&t.stateNode!=null)qs(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(y(166));return je(t),null}if(e=nn(yt.current),or(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[_t]=t,r[ir]=o,e=(t.mode&1)!=0,n){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(i=0;i<tr.length;i++)Ee(tr[i],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":Ho(r,o),Ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ee("invalid",r);break;case"textarea":$o(r,o),Ee("invalid",r)}Qi(n,o),i=null;for(var d in o)if(o.hasOwnProperty(d)){var E=o[d];d==="children"?typeof E=="string"?r.textContent!==E&&(o.suppressHydrationWarning!==!0&&Xr(r.textContent,E,e),i=["children",E]):typeof E=="number"&&r.textContent!==""+E&&(o.suppressHydrationWarning!==!0&&Xr(r.textContent,E,e),i=["children",""+E]):P.hasOwnProperty(d)&&E!=null&&d==="onScroll"&&Ee("scroll",r)}switch(n){case"input":Ir(r),Bo(r,o,!0);break;case"textarea":Ir(r),Wo(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Jr)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{d=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qo(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=d.createElement(n,{is:r.is}):(e=d.createElement(n),n==="select"&&(d=e,r.multiple?d.multiple=!0:r.size&&(d.size=r.size))):e=d.createElementNS(e,n),e[_t]=t,e[ir]=r,Ys(e,t,!1,!1),t.stateNode=e;e:{switch(d=Yi(n,r),n){case"dialog":Ee("cancel",e),Ee("close",e),i=r;break;case"iframe":case"object":case"embed":Ee("load",e),i=r;break;case"video":case"audio":for(i=0;i<tr.length;i++)Ee(tr[i],e);i=r;break;case"source":Ee("error",e),i=r;break;case"img":case"image":case"link":Ee("error",e),Ee("load",e),i=r;break;case"details":Ee("toggle",e),i=r;break;case"input":Ho(e,r),i=ji(e,r),Ee("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=S({},r,{value:void 0}),Ee("invalid",e);break;case"textarea":$o(e,r),i=zi(e,r),Ee("invalid",e);break;default:i=r}Qi(n,i),E=i;for(o in E)if(E.hasOwnProperty(o)){var C=E[o];o==="style"?Ko(e,C):o==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&Yo(e,C)):o==="children"?typeof C=="string"?(n!=="textarea"||C!=="")&&Un(e,C):typeof C=="number"&&Un(e,""+C):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(P.hasOwnProperty(o)?C!=null&&o==="onScroll"&&Ee("scroll",e):C!=null&&H(e,o,C,d))}switch(n){case"input":Ir(e),Bo(e,r,!1);break;case"textarea":Ir(e),Wo(e);break;case"option":r.value!=null&&e.setAttribute("value",""+he(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?cn(e,!!r.multiple,o,!1):r.defaultValue!=null&&cn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return je(t),null;case 6:if(e&&t.stateNode!=null)Ks(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(y(166));if(n=nn(cr.current),nn(yt.current),or(t)){if(r=t.stateNode,n=t.memoizedProps,r[_t]=t,(o=r.nodeValue!==n)&&(e=et,e!==null))switch(e.tag){case 3:Xr(r.nodeValue,n,(e.mode&1)!=0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xr(r.nodeValue,n,(e.mode&1)!=0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_t]=t,t.stateNode=r}return je(t),null;case 13:if(be(Te),r=t.memoizedState,Se&&qe!==null&&(t.mode&1)!=0&&(t.flags&128)==0){for(r=qe;r;)r=St(r.nextSibling);return On(),t.flags|=98560,t}if(r!==null&&r.dehydrated!==null){if(r=or(t),e===null){if(!r)throw Error(y(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(y(317));r[_t]=t}else On(),(t.flags&128)==0&&(t.memoizedState=null),t.flags|=4;return je(t),null}return ht!==null&&(yo(ht),ht=null),(t.flags&128)!=0?(t.lanes=n,t):(r=r!==null,n=!1,e===null?or(t):n=e.memoizedState!==null,r!==n&&r&&(t.child.flags|=8192,(t.mode&1)!=0&&(e===null||(Te.current&1)!=0?xe===0&&(xe=3):So())),t.updateQueue!==null&&(t.flags|=4),je(t),null);case 4:return An(),io(e,t),e===null&&nr(t.stateNode.containerInfo),je(t),null;case 10:return xa(t.type._context),je(t),null;case 17:return Ye(t.type)&&ei(),je(t),null;case 19:if(be(Te),o=t.memoizedState,o===null)return je(t),null;if(r=(t.flags&128)!=0,d=o.rendering,d===null)if(r)gr(o,!1);else{if(xe!==0||e!==null&&(e.flags&128)!=0)for(e=t.child;e!==null;){if(d=fi(e),d!==null){for(t.flags|=128,gr(o,!1),r=d.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,d=o.alternate,d===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,e=d.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ye(Te,Te.current&1|2),t.child}e=e.sibling}o.tail!==null&&Oe()>Mn&&(t.flags|=128,r=!0,gr(o,!1),t.lanes=4194304)}else{if(!r)if(e=fi(d),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),gr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Se)return je(t),null}else 2*Oe()-o.renderingStartTime>Mn&&n!==1073741824&&(t.flags|=128,r=!0,gr(o,!1),t.lanes=4194304);o.isBackwards?(d.sibling=t.child,t.child=d):(n=o.last,n!==null?n.sibling=d:t.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Oe(),t.sibling=null,n=Te.current,ye(Te,r?n&1|2:n&1),t):(je(t),null);case 22:case 23:return bo(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!=0?(tt&1073741824)!=0&&(je(t),t.subtreeFlags&6&&(t.flags|=8192)):je(t),null;case 24:return null;case 25:return null}throw Error(y(156,t.tag))}var Mf=Y.ReactCurrentOwner,Ke=!1;function $e(e,t,n,r){t.child=e===null?Es(t,null,n,r):wn(t,e.child,n,r)}function Xs(e,t,n,r,i){n=n.render;var o=t.ref;return In(t,i),r=Ka(e,t,n,r,o,i),n=Xa(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ot(e,t,i)):(Se&&n&&Fa(t),t.flags|=1,$e(e,t,r,i),t.child)}function Js(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!To(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Zs(e,t,o,r,i)):(e=Ri(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,(e.lanes&i)==0){var d=o.memoizedProps;if(n=n.compare,n=n!==null?n:Zn,n(d,r)&&e.ref===t.ref)return Ot(e,t,i)}return t.flags|=1,e=Yt(o,r),e.ref=t.ref,e.return=t,t.child=e}function Zs(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Zn(o,r)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=r=o,(e.lanes&i)!=0)(e.flags&131072)!=0&&(Ke=!0);else return t.lanes=e.lanes,Ot(e,t,i)}return ao(e,t,n,r,i)}function eu(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)==0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Pn,tt),tt|=n;else if((n&1073741824)!=0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ye(Pn,tt),tt|=r;else return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(Pn,tt),tt|=e,null;else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ye(Pn,tt),tt|=r;return $e(e,t,i,n),t.child}function tu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ao(e,t,n,r,i){var o=Ye(n)?Zt:Ge.current;return o=Tn(t,o),In(t,i),n=Ka(e,t,n,r,o,i),r=Xa(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ot(e,t,i)):(Se&&r&&Fa(t),t.flags|=1,$e(e,t,n,i),t.child)}function nu(e,t,n,r,i){if(Ye(n)){var o=!0;ti(t)}else o=!1;if(In(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),ds(t,n,r),Va(t,n,r,i),r=!0;else if(e===null){var d=t.stateNode,E=t.memoizedProps;d.props=E;var C=d.context,U=n.contextType;typeof U=="object"&&U!==null?U=nt(U):(U=Ye(n)?Zt:Ge.current,U=Tn(t,U));var B=n.getDerivedStateFromProps,X=typeof B=="function"||typeof d.getSnapshotBeforeUpdate=="function";X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==r||C!==U)&&ps(t,d,r,U),Ht=!1;var j=t.memoizedState;d.state=j,oi(t,r,d,i),C=t.memoizedState,E!==r||j!==C||Qe.current||Ht?(typeof B=="function"&&(Ua(t,n,B,r),C=t.memoizedState),(E=Ht||fs(t,n,E,r,j,C,U))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=C),d.props=r,d.state=C,d.context=U,r=E):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,ls(e,t),E=t.memoizedProps,U=t.type===t.elementType?E:dt(t.type,E),d.props=U,X=t.pendingProps,j=d.context,C=n.contextType,typeof C=="object"&&C!==null?C=nt(C):(C=Ye(n)?Zt:Ge.current,C=Tn(t,C));var J=n.getDerivedStateFromProps;(B=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==X||j!==C)&&ps(t,d,r,C),Ht=!1,j=t.memoizedState,d.state=j,oi(t,r,d,i);var q=t.memoizedState;E!==X||j!==q||Qe.current||Ht?(typeof J=="function"&&(Ua(t,n,J,r),q=t.memoizedState),(U=Ht||fs(t,n,U,r,j,q,C)||!1)?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,q,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,q,C)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=q),d.props=r,d.state=q,d.context=C,r=U):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),r=!1)}return oo(e,t,n,r,o,i)}function oo(e,t,n,r,i,o){tu(e,t);var d=(t.flags&128)!=0;if(!r&&!d)return i&&as(t,n,!1),Ot(e,t,o);r=t.stateNode,Mf.current=t;var E=d&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&d?(t.child=wn(t,e.child,null,o),t.child=wn(t,null,E,o)):$e(e,t,E,o),t.memoizedState=r.state,i&&as(t,n,!0),t.child}function ru(e){var t=e.stateNode;t.pendingContext?rs(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rs(e,t.context,!1),$a(e,t.containerInfo)}function iu(e,t,n,r,i){return On(),Ba(i),t.flags|=256,$e(e,t,n,r),t.child}var mi={dehydrated:null,treeContext:null,retryLane:0};function _i(e){return{baseLanes:e,cachePool:null,transitions:null}}function au(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function ou(e,t,n){var r=t.pendingProps,i=Te.current,o=!1,d=(t.flags&128)!=0,E;if((E=d)||(E=e!==null&&e.memoizedState===null?!1:(i&2)!=0),E?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ye(Te,i&1),e===null)return ja(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)==0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},(r&1)==0&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Pi(i,r,0,null),e=un(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=_i(n),t.memoizedState=mi,e):lo(t,i));if(i=e.memoizedState,i!==null){if(E=i.dehydrated,E!==null){if(d)return t.flags&256?(t.flags&=-257,yi(e,t,n,Error(y(422)))):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Pi({mode:"visible",children:r.children},i,0,null),o=un(o,i,n,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,(t.mode&1)!=0&&wn(t,e.child,null,n),t.child.memoizedState=_i(n),t.memoizedState=mi,o);if((t.mode&1)==0)t=yi(e,t,n,null);else if(E.data==="$!")t=yi(e,t,n,Error(y(419)));else if(r=(n&e.childLanes)!=0,Ke||r){if(r=Me,r!==null){switch(n&-n){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}r=(o&(r.suspendedLanes|n))!=0?0:o,r!==0&&r!==i.retryLane&&(i.retryLane=r,lt(e,r,-1))}So(),t=yi(e,t,n,Error(y(421)))}else E.data==="$?"?(t.flags|=128,t.child=e.child,t=zf.bind(null,e),E._reactRetry=t,t=null):(n=i.treeContext,qe=St(E.nextSibling),et=t,Se=!0,ht=null,n!==null&&(rt[it++]=Ct,rt[it++]=Lt,rt[it++]=en,Ct=n.id,Lt=n.overflow,en=t),t=lo(t,t.pendingProps.children),t.flags|=4096);return t}return o?(r=su(e,t,r.children,r.fallback,n),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?_i(n):au(i,n),o.childLanes=e.childLanes&~n,t.memoizedState=mi,r):(n=lu(e,t,r.children,n),t.memoizedState=null,n)}return o?(r=su(e,t,r.children,r.fallback,n),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?_i(n):au(i,n),o.childLanes=e.childLanes&~n,t.memoizedState=mi,r):(n=lu(e,t,r.children,n),t.memoizedState=null,n)}function lo(e,t){return t=Pi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function lu(e,t,n,r){var i=e.child;return e=i.sibling,n=Yt(i,{mode:"visible",children:n}),(t.mode&1)==0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function su(e,t,n,r,i){var o=t.mode;e=e.child;var d=e.sibling,E={mode:"hidden",children:n};return(o&1)==0&&t.child!==e?(n=t.child,n.childLanes=0,n.pendingProps=E,t.deletions=null):(n=Yt(e,E),n.subtreeFlags=e.subtreeFlags&14680064),d!==null?r=Yt(d,r):(r=un(r,o,i,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,r}function yi(e,t,n,r){return r!==null&&Ba(r),wn(t,e.child,null,n),e=lo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ka(e.return,t,n)}function so(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function cu(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if($e(e,t,r.children,n),r=Te.current,(r&2)!=0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!=0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uu(e,n,t);else if(e.tag===19)uu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ye(Te,r),(t.mode&1)==0)t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&fi(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),so(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&fi(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}so(t,!0,n,null,o);break;case"together":so(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ot(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),an|=t.lanes,(n&t.childLanes)==0)return null;if(e!==null&&t.child!==e.child)throw Error(y(153));if(t.child!==null){for(e=t.child,n=Yt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Yt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function xf(e,t,n){switch(t.tag){case 3:ru(t),On();break;case 5:bs(t);break;case 1:Ye(t.type)&&ti(t);break;case 4:$a(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ye(ri,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ye(Te,Te.current&1),t.flags|=128,null):(n&t.child.childLanes)!=0?ou(e,t,n):(ye(Te,Te.current&1),e=Ot(e,t,n),e!==null?e.sibling:null);ye(Te,Te.current&1);break;case 19:if(r=(n&t.childLanes)!=0,(e.flags&128)!=0){if(r)return cu(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ye(Te,Te.current),r)break;return null;case 22:case 23:return t.lanes=0,eu(e,t,n)}return Ot(e,t,n)}function kf(e,t){switch(Ga(t),t.tag){case 1:return Ye(t.type)&&ei(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return An(),be(Qe),be(Ge),Qa(),e=t.flags,(e&65536)!=0&&(e&128)==0?(t.flags=e&-65537|128,t):null;case 5:return za(t),null;case 13:if(be(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(y(340));On()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(Te),null;case 4:return An(),null;case 10:return xa(t.type._context),null;case 22:case 23:return bo(),null;case 24:return null;default:return null}}var Ei=!1,Be=!1,Df=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Rn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(e,t,r)}else n.current=null}function fu(e,t,n){try{n()}catch(r){Ce(e,t,r)}}var du=!1;function Uf(e,t){if(Na=Ur,e=Fl(),_a(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var d=0,E=-1,C=-1,U=0,B=0,X=e,j=null;t:for(;;){for(var J;X!==n||i!==0&&X.nodeType!==3||(E=d+i),X!==o||r!==0&&X.nodeType!==3||(C=d+r),X.nodeType===3&&(d+=X.nodeValue.length),(J=X.firstChild)!==null;)j=X,X=J;for(;;){if(X===e)break t;if(j===n&&++U===i&&(E=d),j===o&&++B===r&&(C=d),(J=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=J}n=E===-1||C===-1?null:{start:E,end:C}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ia={focusedElem:e,selectionRange:n},Ur=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!=0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var q=t.alternate;if((t.flags&1024)!=0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(q!==null){var ce=q.memoizedProps,we=q.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?ce:dt(t.type,ce),we);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var D=t.stateNode.containerInfo;if(D.nodeType===1)D.textContent="";else if(D.nodeType===9){var Q=D.body;Q!=null&&(Q.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(y(163))}}catch(ne){Ce(t,t.return,ne)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return q=du,du=!1,q}function vr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&fu(t,n,o)}i=i.next}while(i!==r)}}function bi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function uo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function pu(e){var t=e.alternate;t!==null&&(e.alternate=null,pu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_t],delete t[ir],delete t[wa],delete t[Ef],delete t[bf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hu(e){return e.tag===5||e.tag===3||e.tag===4}function gu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function co(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Jr));else if(r!==4&&(e=e.child,e!==null))for(co(e,t,n),e=e.sibling;e!==null;)co(e,t,n),e=e.sibling}function fo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(fo(e,t,n),e=e.sibling;e!==null;)fo(e,t,n),e=e.sibling}var Ve=null,gt=!1;function Bt(e,t,n){for(n=n.child;n!==null;)vu(e,t,n),n=n.sibling}function vu(e,t,n){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(Rr,n)}catch{}switch(n.tag){case 5:Be||Rn(n,t);case 6:var r=Ve,i=gt;Ve=null,Bt(e,t,n),Ve=r,gt=i,Ve!==null&&(gt?(e=Ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(gt?(e=Ve,n=n.stateNode,e.nodeType===8?Oa(e.parentNode,n):e.nodeType===1&&Oa(e,n),Qn(e)):Oa(Ve,n.stateNode));break;case 4:r=Ve,i=gt,Ve=n.stateNode.containerInfo,gt=!0,Bt(e,t,n),Ve=r,gt=i;break;case 0:case 11:case 14:case 15:if(!Be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,d=o.destroy;o=o.tag,d!==void 0&&((o&2)!=0||(o&4)!=0)&&fu(n,t,d),i=i.next}while(i!==r)}Bt(e,t,n);break;case 1:if(!Be&&(Rn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(E){Ce(n,t,E)}Bt(e,t,n);break;case 21:Bt(e,t,n);break;case 22:n.mode&1?(Be=(r=Be)||n.memoizedState!==null,Bt(e,t,n),Be=r):Bt(e,t,n);break;default:Bt(e,t,n)}}function mu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Df),t.forEach(function(r){var i=Wf.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,d=t,E=d;e:for(;E!==null;){switch(E.tag){case 5:Ve=E.stateNode,gt=!1;break e;case 3:Ve=E.stateNode.containerInfo,gt=!0;break e;case 4:Ve=E.stateNode.containerInfo,gt=!0;break e}E=E.return}if(Ve===null)throw Error(y(160));vu(o,d,i),Ve=null,gt=!1;var C=i.alternate;C!==null&&(C.return=null),i.return=null}catch(U){Ce(i,t,U)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_u(t,e),t=t.sibling}function _u(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vt(t,e),bt(e),r&4){try{vr(3,e,e.return),bi(3,e)}catch(q){Ce(e,e.return,q)}try{vr(5,e,e.return)}catch(q){Ce(e,e.return,q)}}break;case 1:vt(t,e),bt(e),r&512&&n!==null&&Rn(n,n.return);break;case 5:if(vt(t,e),bt(e),r&512&&n!==null&&Rn(n,n.return),e.flags&32){var i=e.stateNode;try{Un(i,"")}catch(q){Ce(e,e.return,q)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,d=n!==null?n.memoizedProps:o,E=e.type,C=e.updateQueue;if(e.updateQueue=null,C!==null)try{E==="input"&&o.type==="radio"&&o.name!=null&&jo(i,o),Yi(E,d);var U=Yi(E,o);for(d=0;d<C.length;d+=2){var B=C[d],X=C[d+1];B==="style"?Ko(i,X):B==="dangerouslySetInnerHTML"?Yo(i,X):B==="children"?Un(i,X):H(i,B,X,U)}switch(E){case"input":Bi(i,o);break;case"textarea":zo(i,o);break;case"select":var j=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var J=o.value;J!=null?cn(i,!!o.multiple,J,!1):j!==!!o.multiple&&(o.defaultValue!=null?cn(i,!!o.multiple,o.defaultValue,!0):cn(i,!!o.multiple,o.multiple?[]:"",!1))}i[ir]=o}catch(q){Ce(e,e.return,q)}}break;case 6:if(vt(t,e),bt(e),r&4){if(e.stateNode===null)throw Error(y(162));U=e.stateNode,B=e.memoizedProps;try{U.nodeValue=B}catch(q){Ce(e,e.return,q)}}break;case 3:if(vt(t,e),bt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qn(t.containerInfo)}catch(q){Ce(e,e.return,q)}break;case 4:vt(t,e),bt(e);break;case 13:vt(t,e),bt(e),U=e.child,U.flags&8192&&U.memoizedState!==null&&(U.alternate===null||U.alternate.memoizedState===null)&&(go=Oe()),r&4&&mu(e);break;case 22:if(U=n!==null&&n.memoizedState!==null,e.mode&1?(Be=(B=Be)||U,vt(t,e),Be=B):vt(t,e),bt(e),r&8192){B=e.memoizedState!==null;e:for(X=null,j=e;;){if(j.tag===5){if(X===null){X=j;try{i=j.stateNode,B?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(E=j.stateNode,C=j.memoizedProps.style,d=C!=null&&C.hasOwnProperty("display")?C.display:null,E.style.display=qo("display",d))}catch(q){Ce(e,e.return,q)}}}else if(j.tag===6){if(X===null)try{j.stateNode.nodeValue=B?"":j.memoizedProps}catch(q){Ce(e,e.return,q)}}else if((j.tag!==22&&j.tag!==23||j.memoizedState===null||j===e)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===e)break e;for(;j.sibling===null;){if(j.return===null||j.return===e)break e;X===j&&(X=null),j=j.return}X===j&&(X=null),j.sibling.return=j.return,j=j.sibling}if(B&&!U&&(e.mode&1)!=0)for(Z=e,e=e.child;e!==null;){for(U=Z=e;Z!==null;){switch(B=Z,X=B.child,B.tag){case 0:case 11:case 14:case 15:vr(4,B,B.return);break;case 1:if(Rn(B,B.return),o=B.stateNode,typeof o.componentWillUnmount=="function"){j=B,J=B.return;try{i=j,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(q){Ce(j,J,q)}}break;case 5:Rn(B,B.return);break;case 22:if(B.memoizedState!==null){bu(U);continue}}X!==null?(X.return=B,Z=X):bu(U)}e=e.sibling}}break;case 19:vt(t,e),bt(e),r&4&&mu(e);break;case 21:break;default:vt(t,e),bt(e)}}function bt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(hu(n)){var r=n;break e}n=n.return}throw Error(y(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Un(i,""),r.flags&=-33);var o=gu(e);fo(e,o,i);break;case 3:case 4:var d=r.stateNode.containerInfo,E=gu(e);co(e,E,d);break;default:throw Error(y(161))}}catch(C){Ce(e,e.return,C)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vf(e,t,n){Z=e,yu(e)}function yu(e,t,n){for(var r=(e.mode&1)!=0;Z!==null;){var i=Z,o=i.child;if(i.tag===22&&r){var d=i.memoizedState!==null||Ei;if(!d){var E=i.alternate,C=E!==null&&E.memoizedState!==null||Be;E=Ei;var U=Be;if(Ei=d,(Be=C)&&!U)for(Z=i;Z!==null;)d=Z,C=d.child,d.tag===22&&d.memoizedState!==null?Su(i):C!==null?(C.return=d,Z=C):Su(i);for(;o!==null;)Z=o,yu(o),o=o.sibling;Z=i,Ei=E,Be=U}Eu(e)}else(i.subtreeFlags&8772)!=0&&o!==null?(o.return=i,Z=o):Eu(e)}}function Eu(e){for(;Z!==null;){var t=Z;if((t.flags&8772)!=0){var n=t.alternate;try{if((t.flags&8772)!=0)switch(t.tag){case 0:case 11:case 15:Be||bi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Be)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:dt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&us(t,o,r);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}us(t,d,n)}break;case 5:var E=t.stateNode;if(n===null&&t.flags&4){n=E;var C=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&n.focus();break;case"img":C.src&&(n.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var U=t.alternate;if(U!==null){var B=U.memoizedState;if(B!==null){var X=B.dehydrated;X!==null&&Qn(X)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(y(163))}Be||t.flags&512&&uo(t)}catch(j){Ce(t,t.return,j)}}if(t===e){Z=null;break}if(n=t.sibling,n!==null){n.return=t.return,Z=n;break}Z=t.return}}function bu(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Z=n;break}Z=t.return}}function Su(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bi(4,t)}catch(C){Ce(t,n,C)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(C){Ce(t,i,C)}}var o=t.return;try{uo(t)}catch(C){Ce(t,o,C)}break;case 5:var d=t.return;try{uo(t)}catch(C){Ce(t,d,C)}}}catch(C){Ce(t,t.return,C)}if(t===e){Z=null;break}var E=t.sibling;if(E!==null){E.return=t.return,Z=E;break}Z=t.return}}var Ff=Math.ceil,Si=Y.ReactCurrentDispatcher,po=Y.ReactCurrentOwner,ot=Y.ReactCurrentBatchConfig,ge=0,Me=null,Ae=null,Fe=0,tt=0,Pn=Vt(0),xe=0,mr=null,an=0,Ti=0,ho=0,_r=null,Xe=null,go=0,Mn=1/0,wt=null,Ni=!1,vo=null,$t=null,Ii=!1,zt=null,Ci=0,yr=0,mo=null,Li=-1,Oi=0;function ze(){return(ge&6)!=0?Oe():Li!==-1?Li:Li=Oe()}function Wt(e){return(e.mode&1)==0?1:(ge&2)!=0&&Fe!==0?Fe&-Fe:Tf.transition!==null?(Oi===0&&(Oi=fl()),Oi):(e=me,e!==0||(e=window.event,e=e===void 0?16:El(e.type)),e)}function lt(e,t,n){if(50<yr)throw yr=0,mo=null,Error(y(185));var r=wi(e,t);return r===null?null:(jn(r,t,n),((ge&2)==0||r!==Me)&&(r===Me&&((ge&2)==0&&(Ti|=t),xe===4&&Qt(r,Fe)),Je(r,n),t===1&&ge===0&&(e.mode&1)==0&&(Mn=Oe()+500,ni&&Gt())),r)}function wi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}function Tu(e){return(Me!==null||pt!==null)&&(e.mode&1)!=0&&(ge&2)==0}function Je(e,t){var n=e.callbackNode;Nc(e,t);var r=xr(e,e===Me?Fe:0);if(r===0)n!==null&&sl(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&sl(n),t===1)e.tag===0?Sf(Iu.bind(null,e)):os(Iu.bind(null,e)),_f(function(){ge===0&&Gt()}),n=null;else{switch(dl(r)){case 1:n=ta;break;case 4:n=ul;break;case 16:n=Ar;break;case 536870912:n=cl;break;default:n=Ar}n=Mu(n,Nu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Nu(e,t){if(Li=-1,Oi=0,(ge&6)!=0)throw Error(y(327));var n=e.callbackNode;if(xn()&&e.callbackNode!==n)return null;var r=xr(e,e===Me?Fe:0);if(r===0)return null;if((r&30)!=0||(r&e.expiredLanes)!=0||t)t=Ai(e,r);else{t=r;var i=ge;ge|=2;var o=Lu();(Me!==e||Fe!==t)&&(wt=null,Mn=Oe()+500,ln(e,t));do try{jf();break}catch(E){Cu(e,E)}while(1);Ma(),Si.current=o,ge=i,Ae!==null?t=0:(Me=null,Fe=0,t=xe)}if(t!==0){if(t===2&&(i=na(e),i!==0&&(r=i,t=_o(e,i))),t===1)throw n=mr,ln(e,0),Qt(e,r),Je(e,Oe()),n;if(t===6)Qt(e,r);else{if(i=e.current.alternate,(r&30)==0&&!Gf(i)&&(t=Ai(e,r),t===2&&(o=na(e),o!==0&&(r=o,t=_o(e,o))),t===1))throw n=mr,ln(e,0),Qt(e,r),Je(e,Oe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(y(345));case 2:sn(e,Xe,wt);break;case 3:if(Qt(e,r),(r&130023424)===r&&(t=go+500-Oe(),10<t)){if(xr(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ze(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=La(sn.bind(null,e,Xe,wt),t);break}sn(e,Xe,wt);break;case 4:if(Qt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var d=31-ct(r);o=1<<d,d=t[d],d>i&&(i=d),r&=~o}if(r=i,r=Oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ff(r/1960))-r,10<r){e.timeoutHandle=La(sn.bind(null,e,Xe,wt),r);break}sn(e,Xe,wt);break;case 5:sn(e,Xe,wt);break;default:throw Error(y(329))}}}return Je(e,Oe()),e.callbackNode===n?Nu.bind(null,e):null}function _o(e,t){var n=_r;return e.current.memoizedState.isDehydrated&&(ln(e,t).flags|=256),e=Ai(e,t),e!==2&&(t=Xe,Xe=n,t!==null&&yo(t)),e}function yo(e){Xe===null?Xe=e:Xe.push.apply(Xe,e)}function Gf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ft(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qt(e,t){for(t&=~ho,t&=~Ti,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ct(t),r=1<<n;e[n]=-1,t&=~r}}function Iu(e){if((ge&6)!=0)throw Error(y(327));xn();var t=xr(e,0);if((t&1)==0)return Je(e,Oe()),null;var n=Ai(e,t);if(e.tag!==0&&n===2){var r=na(e);r!==0&&(t=r,n=_o(e,r))}if(n===1)throw n=mr,ln(e,0),Qt(e,t),Je(e,Oe()),n;if(n===6)throw Error(y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sn(e,Xe,wt),Je(e,Oe()),null}function Eo(e,t){var n=ge;ge|=1;try{return e(t)}finally{ge=n,ge===0&&(Mn=Oe()+500,ni&&Gt())}}function on(e){zt!==null&&zt.tag===0&&(ge&6)==0&&xn();var t=ge;ge|=1;var n=ot.transition,r=me;try{if(ot.transition=null,me=1,e)return e()}finally{me=r,ot.transition=n,ge=t,(ge&6)==0&&Gt()}}function bo(){tt=Pn.current,be(Pn)}function ln(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,mf(n)),Ae!==null)for(n=Ae.return;n!==null;){var r=n;switch(Ga(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ei();break;case 3:An(),be(Qe),be(Ge),Qa();break;case 5:za(r);break;case 4:An();break;case 13:be(Te);break;case 19:be(Te);break;case 10:xa(r.type._context);break;case 22:case 23:bo()}n=n.return}if(Me=e,Ae=e=Yt(e.current,null),Fe=tt=t,xe=0,mr=null,ho=Ti=an=0,Xe=_r=null,pt!==null){for(t=0;t<pt.length;t++)if(n=pt[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var d=o.next;o.next=i,r.next=d}n.pending=r}pt=null}return e}function Cu(e,t){do{var n=Ae;try{if(Ma(),di.current=vi,pi){for(var r=Ne.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}pi=!1}if(rn=0,De=Pe=Ne=null,fr=!1,dr=0,po.current=null,n===null||n.return===null){xe=1,mr=t,Ae=null;break}e:{var o=e,d=n.return,E=n,C=t;if(t=Fe,E.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var U=C,B=E,X=B.tag;if((B.mode&1)==0&&(X===0||X===11||X===15)){var j=B.alternate;j?(B.updateQueue=j.updateQueue,B.memoizedState=j.memoizedState,B.lanes=j.lanes):(B.updateQueue=null,B.memoizedState=null)}var J=Ws(d);if(J!==null){J.flags&=-257,Qs(J,d,E,o,t),J.mode&1&&zs(o,U,t),t=J,C=U;var q=t.updateQueue;if(q===null){var ce=new Set;ce.add(C),t.updateQueue=ce}else q.add(C);break e}else{if((t&1)==0){zs(o,U,t),So();break e}C=Error(y(426))}}else if(Se&&E.mode&1){var we=Ws(d);if(we!==null){(we.flags&65536)==0&&(we.flags|=256),Qs(we,d,E,o,t),Ba(C);break e}}o=C,xe!==4&&(xe=2),_r===null?_r=[o]:_r.push(o),C=no(C,E),E=d;do{switch(E.tag){case 3:E.flags|=65536,t&=-t,E.lanes|=t;var x=Bs(E,C,t);ss(E,x);break e;case 1:o=C;var w=E.type,D=E.stateNode;if((E.flags&128)==0&&(typeof w.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&($t===null||!$t.has(D)))){E.flags|=65536,t&=-t,E.lanes|=t;var Q=$s(E,o,t);ss(E,Q);break e}}E=E.return}while(E!==null)}wu(n)}catch(ne){t=ne,Ae===n&&n!==null&&(Ae=n=n.return);continue}break}while(1)}function Lu(){var e=Si.current;return Si.current=vi,e===null?vi:e}function So(){(xe===0||xe===3||xe===2)&&(xe=4),Me===null||(an&268435455)==0&&(Ti&268435455)==0||Qt(Me,Fe)}function Ai(e,t){var n=ge;ge|=2;var r=Lu();(Me!==e||Fe!==t)&&(wt=null,ln(e,t));do try{Hf();break}catch(i){Cu(e,i)}while(1);if(Ma(),ge=n,Si.current=r,Ae!==null)throw Error(y(261));return Me=null,Fe=0,xe}function Hf(){for(;Ae!==null;)Ou(Ae)}function jf(){for(;Ae!==null&&!gc();)Ou(Ae)}function Ou(e){var t=Pu(e.alternate,e,tt);e.memoizedProps=e.pendingProps,t===null?wu(e):Ae=t,po.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)==0){if(n=Pf(n,t,tt),n!==null){Ae=n;return}}else{if(n=kf(n,t),n!==null){n.flags&=32767,Ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xe=6,Ae=null;return}}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);xe===0&&(xe=5)}function sn(e,t,n){var r=me,i=ot.transition;try{ot.transition=null,me=1,Bf(e,t,n,r)}finally{ot.transition=i,me=r}return null}function Bf(e,t,n,r){do xn();while(zt!==null);if((ge&6)!=0)throw Error(y(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(y(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Ic(e,o),e===Me&&(Ae=Me=null,Fe=0),(n.subtreeFlags&2064)==0&&(n.flags&2064)==0||Ii||(Ii=!0,Mu(Ar,function(){return xn(),null})),o=(n.flags&15990)!=0,(n.subtreeFlags&15990)!=0||o){o=ot.transition,ot.transition=null;var d=me;me=1;var E=ge;ge|=4,po.current=null,Uf(e,n),_u(n,e),df(Ia),Ur=!!Na,Ia=Na=null,e.current=n,Vf(n),vc(),ge=E,me=d,ot.transition=o}else e.current=n;if(Ii&&(Ii=!1,zt=e,Ci=i),o=e.pendingLanes,o===0&&($t=null),yc(n.stateNode),Je(e,Oe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(Ni)throw Ni=!1,e=vo,vo=null,e;return(Ci&1)!=0&&e.tag!==0&&xn(),o=e.pendingLanes,(o&1)!=0?e===mo?yr++:(yr=0,mo=e):yr=0,Gt(),null}function xn(){if(zt!==null){var e=dl(Ci),t=ot.transition,n=me;try{if(ot.transition=null,me=16>e?16:e,zt===null)var r=!1;else{if(e=zt,zt=null,Ci=0,(ge&6)!=0)throw Error(y(331));var i=ge;for(ge|=4,Z=e.current;Z!==null;){var o=Z,d=o.child;if((Z.flags&16)!=0){var E=o.deletions;if(E!==null){for(var C=0;C<E.length;C++){var U=E[C];for(Z=U;Z!==null;){var B=Z;switch(B.tag){case 0:case 11:case 15:vr(8,B,o)}var X=B.child;if(X!==null)X.return=B,Z=X;else for(;Z!==null;){B=Z;var j=B.sibling,J=B.return;if(pu(B),B===U){Z=null;break}if(j!==null){j.return=J,Z=j;break}Z=J}}}var q=o.alternate;if(q!==null){var ce=q.child;if(ce!==null){q.child=null;do{var we=ce.sibling;ce.sibling=null,ce=we}while(ce!==null)}}Z=o}}if((o.subtreeFlags&2064)!=0&&d!==null)d.return=o,Z=d;else e:for(;Z!==null;){if(o=Z,(o.flags&2048)!=0)switch(o.tag){case 0:case 11:case 15:vr(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,Z=x;break e}Z=o.return}}var w=e.current;for(Z=w;Z!==null;){d=Z;var D=d.child;if((d.subtreeFlags&2064)!=0&&D!==null)D.return=d,Z=D;else e:for(d=w;Z!==null;){if(E=Z,(E.flags&2048)!=0)try{switch(E.tag){case 0:case 11:case 15:bi(9,E)}}catch(ne){Ce(E,E.return,ne)}if(E===d){Z=null;break e}var Q=E.sibling;if(Q!==null){Q.return=E.return,Z=Q;break e}Z=E.return}}if(ge=i,Gt(),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(Rr,e)}catch{}r=!0}return r}finally{me=n,ot.transition=t}}return!1}function Au(e,t,n){t=no(n,t),t=Bs(e,t,1),jt(e,t),t=ze(),e=wi(e,1),e!==null&&(jn(e,1,t),Je(e,t))}function Ce(e,t,n){if(e.tag===3)Au(e,e,n);else for(;t!==null;){if(t.tag===3){Au(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($t===null||!$t.has(r))){e=no(n,e),e=$s(t,e,1),jt(t,e),e=ze(),t=wi(t,1),t!==null&&(jn(t,1,e),Je(t,e));break}}t=t.return}}function $f(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ze(),e.pingedLanes|=e.suspendedLanes&n,Me===e&&(Fe&n)===n&&(xe===4||xe===3&&(Fe&130023424)===Fe&&500>Oe()-go?ln(e,0):ho|=n),Je(e,t)}function Ru(e,t){t===0&&((e.mode&1)==0?t=1:(t=Mr,Mr<<=1,(Mr&130023424)==0&&(Mr=4194304)));var n=ze();e=wi(e,t),e!==null&&(jn(e,t,n),Je(e,n))}function zf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ru(e,n)}function Wf(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(y(314))}r!==null&&r.delete(t),Ru(e,n)}var Pu;Pu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)Ke=!0;else{if((e.lanes&n)==0&&(t.flags&128)==0)return Ke=!1,xf(e,t,n);Ke=(e.flags&131072)!=0}else Ke=!1,Se&&(t.flags&1048576)!=0&&hs(t,ui,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Tn(t,Ge.current);In(t,n),i=Ka(null,t,r,e,i,n);var o=Xa();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ye(r)?(o=!0,ti(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Da(t),i.updater=li,t.stateNode=i,i._reactInternals=t,Va(t,r,e,n),t=oo(null,t,r,!0,o,n)):(t.tag=0,Se&&o&&Fa(t),$e(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Yf(r),e=dt(r,e),i){case 0:t=ao(null,t,r,e,n);break e;case 1:t=nu(null,t,r,e,n);break e;case 11:t=Xs(null,t,r,e,n);break e;case 14:t=Js(null,t,r,dt(r.type,e),n);break e}throw Error(y(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:dt(r,i),ao(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:dt(r,i),nu(e,t,r,i,n);case 3:e:{if(ru(t),e===null)throw Error(y(387));r=t.pendingProps,o=t.memoizedState,i=o.element,ls(e,t),oi(t,r,null,n);var d=t.memoizedState;if(r=d.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Error(y(423)),t=iu(e,t,r,n,i);break e}else if(r!==i){i=Error(y(424)),t=iu(e,t,r,n,i);break e}else for(qe=St(t.stateNode.containerInfo.firstChild),et=t,Se=!0,ht=null,n=Es(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(On(),r===i){t=Ot(e,t,n);break e}$e(e,t,r,n)}t=t.child}return t;case 5:return bs(t),e===null&&ja(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,d=i.children,Ca(r,i)?d=null:o!==null&&Ca(r,o)&&(t.flags|=32),tu(e,t),$e(e,t,d,n),t.child;case 6:return e===null&&ja(t),null;case 13:return ou(e,t,n);case 4:return $a(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=wn(t,null,r,n):$e(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:dt(r,i),Xs(e,t,r,i,n);case 7:return $e(e,t,t.pendingProps,n),t.child;case 8:return $e(e,t,t.pendingProps.children,n),t.child;case 12:return $e(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,d=i.value,ye(ri,r._currentValue),r._currentValue=d,o!==null)if(ft(o.value,d)){if(o.children===i.children&&!Qe.current){t=Ot(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var E=o.dependencies;if(E!==null){d=o.child;for(var C=E.firstContext;C!==null;){if(C.context===r){if(o.tag===1){C=It(-1,n&-n),C.tag=2;var U=o.updateQueue;if(U!==null){U=U.shared;var B=U.pending;B===null?C.next=C:(C.next=B.next,B.next=C),U.pending=C}}o.lanes|=n,C=o.alternate,C!==null&&(C.lanes|=n),ka(o.return,n,t),E.lanes|=n;break}C=C.next}}else if(o.tag===10)d=o.type===t.type?null:o.child;else if(o.tag===18){if(d=o.return,d===null)throw Error(y(341));d.lanes|=n,E=d.alternate,E!==null&&(E.lanes|=n),ka(d,n,t),d=o.sibling}else d=o.child;if(d!==null)d.return=o;else for(d=o;d!==null;){if(d===t){d=null;break}if(o=d.sibling,o!==null){o.return=d.return,d=o;break}d=d.return}o=d}$e(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,In(t,n),i=nt(i),r=r(i),t.flags|=1,$e(e,t,r,n),t.child;case 14:return r=t.type,i=dt(r,t.pendingProps),i=dt(r.type,i),Js(e,t,r,i,n);case 15:return Zs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:dt(r,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ye(r)?(e=!0,ti(t)):e=!1,In(t,n),ds(t,r,i),Va(t,r,i,n),oo(null,t,r,!0,e,n);case 19:return cu(e,t,n);case 22:return eu(e,t,n)}throw Error(y(156,t.tag))};function Mu(e,t){return ll(e,t)}function Qf(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(e,t,n,r){return new Qf(e,t,n,r)}function To(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yf(e){if(typeof e=="function")return To(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Re)return 11;if(e===L)return 14}return 2}function Yt(e,t){var n=e.alternate;return n===null?(n=st(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ri(e,t,n,r,i,o){var d=2;if(r=e,typeof e=="function")To(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case W:return un(n.children,i,o,t);case le:d=8,i|=8;break;case oe:return e=st(12,n,t,i|2),e.elementType=oe,e.lanes=o,e;case m:return e=st(13,n,t,i),e.elementType=m,e.lanes=o,e;case g:return e=st(19,n,t,i),e.elementType=g,e.lanes=o,e;case O:return Pi(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case de:d=10;break e;case Ie:d=9;break e;case Re:d=11;break e;case L:d=14;break e;case M:d=16,r=null;break e}throw Error(y(130,e==null?e:typeof e,""))}return t=st(d,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function un(e,t,n,r){return e=st(7,e,r,t),e.lanes=n,e}function Pi(e,t,n,r){return e=st(22,e,r,t),e.elementType=O,e.lanes=n,e.stateNode={},e}function No(e,t,n){return e=st(6,e,null,t),e.lanes=n,e}function Io(e,t,n){return t=st(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qf(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ra(0),this.expirationTimes=ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ra(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Co(e,t,n,r,i,o,d,E,C){return e=new qf(e,t,n,E,C),t===1?(t=1,o===!0&&(t|=8)):t=0,o=st(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(o),e}function Kf(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function xu(e){if(!e)return Ft;e=e._reactInternals;e:{if(Xt(e)!==e||e.tag!==1)throw Error(y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ye(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(y(171))}if(e.tag===1){var n=e.type;if(Ye(n))return is(e,n,t)}return t}function ku(e,t,n,r,i,o,d,E,C){return e=Co(n,r,!0,e,i,o,d,E,C),e.context=xu(null),n=e.current,r=ze(),i=Wt(n),o=It(r,i),o.callback=t!=null?t:null,jt(n,o),e.current.lanes=i,jn(e,i,r),Je(e,r),e}function Mi(e,t,n,r){var i=t.current,o=ze(),d=Wt(i);return n=xu(n),t.context===null?t.context=n:t.pendingContext=n,t=It(o,d),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),jt(i,t),e=lt(i,d,o),e!==null&&ai(e,i,d),d}function xi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Du(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Lo(e,t){Du(e,t),(e=e.alternate)&&Du(e,t)}function Xf(){return null}var Uu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Oo(e){this._internalRoot=e}ki.prototype.render=Oo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(y(409));Mi(e,t,null,null)},ki.prototype.unmount=Oo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;on(function(){Mi(null,e,null,null)}),t[Tt]=null}};function ki(e){this._internalRoot=e}ki.prototype.unstable_scheduleHydration=function(e){if(e){var t=gl();e={blockedOn:null,target:e,priority:t};for(var n=0;n<kt.length&&t!==0&&t<kt[n].priority;n++);kt.splice(n,0,e),n===0&&_l(e)}};function wo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Di(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vu(){}function Jf(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var U=xi(d);o.call(U)}}var d=ku(t,r,e,0,null,!1,!1,"",Vu);return e._reactRootContainer=d,e[Tt]=d.current,nr(e.nodeType===8?e.parentNode:e),on(),d}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var E=r;r=function(){var U=xi(C);E.call(U)}}var C=Co(e,0,!1,null,null,!1,!1,"",Vu);return e._reactRootContainer=C,e[Tt]=C.current,nr(e.nodeType===8?e.parentNode:e),on(function(){Mi(t,C,n,r)}),C}function Ui(e,t,n,r,i){var o=n._reactRootContainer;if(o){var d=o;if(typeof i=="function"){var E=i;i=function(){var C=xi(d);E.call(C)}}Mi(t,d,e,i)}else d=Jf(n,t,e,i,r);return xi(d)}pl=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Hn(t.pendingLanes);n!==0&&(ia(t,n|1),Je(t,Oe()),(ge&6)==0&&(Mn=Oe()+500,Gt()))}break;case 13:var r=ze();on(function(){return lt(e,1,r)}),Lo(e,1)}},aa=function(e){if(e.tag===13){var t=ze();lt(e,134217728,t),Lo(e,134217728)}},hl=function(e){if(e.tag===13){var t=ze(),n=Wt(e);lt(e,n,t),Lo(e,n)}},gl=function(){return me},vl=function(e,t){var n=me;try{return me=e,t()}finally{me=n}},Xi=function(e,t,n){switch(t){case"input":if(Bi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Zr(r);if(!i)throw Error(y(90));Go(r),Bi(r,i)}}}break;case"textarea":zo(e,n);break;case"select":t=n.value,t!=null&&cn(e,!!n.multiple,t,!1)}},el=Eo,tl=on;var Zf={usingClientEntryPoint:!1,Events:[ar,bn,Zr,Jo,Zo,Eo]},Er={findFiberByHostInstance:Jt,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},ed={bundleType:Er.bundleType,version:Er.version,rendererPackageName:Er.rendererPackageName,rendererConfig:Er.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=al(e),e===null?null:e.stateNode},findFiberByHostInstance:Er.findFiberByHostInstance||Xf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(br=__REACT_DEVTOOLS_GLOBAL_HOOK__,!br.isDisabled&&br.supportsFiber))try{Rr=br.inject(ed),mt=br}catch{}var br;s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zf,s.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wo(t))throw Error(y(200));return Kf(e,t,null,n)},s.createRoot=function(e,t){if(!wo(e))throw Error(y(299));var n=!1,r="",i=Uu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Co(e,1,!1,null,null,n,!1,r,i),e[Tt]=t.current,nr(e.nodeType===8?e.parentNode:e),new Oo(t)},s.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(y(188)):(e=Object.keys(e).join(","),Error(y(268,e)));return e=al(t),e=e===null?null:e.stateNode,e},s.flushSync=function(e){return on(e)},s.hydrate=function(e,t,n){if(!Di(t))throw Error(y(200));return Ui(null,e,t,!0,n)},s.hydrateRoot=function(e,t,n){if(!wo(e))throw Error(y(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",d=Uu;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=ku(t,null,e,1,n!=null?n:null,i,!1,o,d),e[Tt]=t.current,nr(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ki(t)},s.render=function(e,t,n){if(!Di(t))throw Error(y(200));return Ui(null,e,t,!1,n)},s.unmountComponentAtNode=function(e){if(!Di(e))throw Error(y(40));return e._reactRootContainer?(on(function(){Ui(null,null,e,!1,function(){e._reactRootContainer=null,e[Tt]=null})}),!0):!1},s.unstable_batchedUpdates=Eo,s.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Di(n))throw Error(y(200));if(e==null||e._reactInternals===void 0)throw Error(y(38));return Ui(e,t,n,!1,r)},s.version="18.1.0-next-22edb9f77-20220426"}),ud=Rt((s,k)=>{function R(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(R)}catch(y){console.error(y)}}R(),k.exports=sd()}),cd=Rt(s=>{var k=ud();s.createRoot=k.createRoot,s.hydrateRoot=k.hydrateRoot}),fd=Rt((s,k)=>{(function(){var R={}.hasOwnProperty;function y(){for(var A=[],P=0;P<arguments.length;P++){var _=arguments[P];if(_){var I=typeof _;if(I==="string"||I==="number")A.push(_);else if(Array.isArray(_)){if(_.length){var u=y.apply(null,_);u&&A.push(u)}}else if(I==="object")if(_.toString===Object.prototype.toString)for(var b in _)R.call(_,b)&&_[b]&&A.push(b);else A.push(_.toString())}}return A.join(" ")}typeof k<"u"&&k.exports?(y.default=y,k.exports=y):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return y}):window.classNames=y})()}),dd=Rt((s,k)=>{(function(R,y){typeof s=="object"&&typeof k=="object"?k.exports=y():typeof define=="function"&&define.amd?define("IIIFTreeComponent",[],y):typeof s=="object"?s.IIIFTreeComponent=y():R.IIIFTreeComponent=y()})(typeof self<"u"?self:s,function(){return function(R){var y={};function A(P){if(y[P])return y[P].exports;var _=y[P]={i:P,l:!1,exports:{}};return R[P].call(_.exports,_,_.exports,A),_.l=!0,_.exports}return A.m=R,A.c=y,A.d=function(P,_,I){A.o(P,_)||Object.defineProperty(P,_,{enumerable:!0,get:I})},A.r=function(P){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(P,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(P,"__esModule",{value:!0})},A.t=function(P,_){if(1&_&&(P=A(P)),8&_||4&_&&typeof P=="object"&&P&&P.__esModule)return P;var I=Object.create(null);if(A.r(I),Object.defineProperty(I,"default",{enumerable:!0,value:P}),2&_&&typeof P!="string")for(var u in P)A.d(I,u,function(b){return P[b]}.bind(null,u));return I},A.n=function(P){var _=P&&P.__esModule?function(){return P.default}:function(){return P};return A.d(_,"a",_),_},A.o=function(P,_){return Object.prototype.hasOwnProperty.call(P,_)},A.p="",A(A.s=2)}([function(R,y,A){R.exports=function(P){var _={};function I(u){if(_[u])return _[u].exports;var b=_[u]={i:u,l:!1,exports:{}};return P[u].call(b.exports,b,b.exports,I),b.l=!0,b.exports}return I.m=P,I.c=_,I.d=function(u,b,T){I.o(u,b)||Object.defineProperty(u,b,{enumerable:!0,get:T})},I.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},I.t=function(u,b){if(1&b&&(u=I(u)),8&b||4&b&&typeof u=="object"&&u&&u.__esModule)return u;var T=Object.create(null);if(I.r(T),Object.defineProperty(T,"default",{enumerable:!0,value:u}),2&b&&typeof u!="string")for(var h in u)I.d(T,h,function(v){return u[v]}.bind(null,h));return T},I.n=function(u){var b=u&&u.__esModule?function(){return u.default}:function(){return u};return I.d(b,"a",b),b},I.o=function(u,b){return Object.prototype.hasOwnProperty.call(u,b)},I.p="",I(I.s=4)}([function(P,_,I){function u(b){for(var T in b)_.hasOwnProperty(T)||(_[T]=b[T])}Object.defineProperty(_,"__esModule",{value:!0}),u(I(6)),u(I(7)),u(I(8)),u(I(9)),u(I(10)),u(I(11)),u(I(12)),u(I(13)),u(I(14)),u(I(15)),u(I(16)),u(I(17)),u(I(18)),u(I(19)),u(I(20)),u(I(21)),u(I(22)),u(I(23)),u(I(24)),u(I(25)),u(I(26)),u(I(27)),u(I(28)),u(I(29)),u(I(30)),u(I(31)),u(I(32)),u(I(2))},function(P,_,I){Object.defineProperty(_,"__esModule",{value:!0}),function(u){u.BOOKMARKING="oa:bookmarking",u.CLASSIFYING="oa:classifying",u.COMMENTING="oa:commenting",u.DESCRIBING="oa:describing",u.EDITING="oa:editing",u.HIGHLIGHTING="oa:highlighting",u.IDENTIFYING="oa:identifying",u.LINKING="oa:linking",u.MODERATING="oa:moderating",u.PAINTING="sc:painting",u.QUESTIONING="oa:questioning",u.REPLYING="oa:replying",u.TAGGING="oa:tagging",u.TRANSCRIBING="oad:transcribing"}(_.AnnotationMotivation||(_.AnnotationMotivation={})),function(u){u.AUTO_ADVANCE="auto-advance",u.CONTINUOUS="continuous",u.FACING_PAGES="facing-pages",u.HIDDEN="hidden",u.INDIVIDUALS="individuals",u.MULTI_PART="multi-part",u.NO_NAV="no-nav",u.NON_PAGED="non-paged",u.PAGED="paged",u.REPEAT="repeat",u.SEQUENCE="sequence",u.THUMBNAIL_NAV="thumbnail-nav",u.TOGETHER="together",u.UNORDERED="unordered"}(_.Behavior||(_.Behavior={})),function(u){u.CANVAS="canvas",u.CHOICE="choice",u.CONTENT_AS_TEXT="contentastext",u.DOCUMENT="document",u.IMAGE="image",u.MOVING_IMAGE="movingimage",u.PDF="pdf",u.PHYSICAL_OBJECT="physicalobject",u.SOUND="sound",u.TEXTUALBODY="textualbody",u.VIDEO="video"}(_.ExternalResourceType||(_.ExternalResourceType={})),function(u){u.ANNOTATION="annotation",u.CANVAS="canvas",u.COLLECTION="collection",u.MANIFEST="manifest",u.RANGE="range",u.SEQUENCE="sequence"}(_.IIIFResourceType||(_.IIIFResourceType={})),function(u){u.AUDIO_MP4="audio/mp4",u.CORTO="application/corto",u.DRACO="application/draco",u.GLTF="model/gltf+json",u.JPG="image/jpeg",u.M3U8="application/vnd.apple.mpegurl",u.MP3="audio/mp3",u.MPEG_DASH="application/dash+xml",u.OBJ="text/plain",u.PDF="application/pdf",u.PLY="application/ply",u.THREEJS="application/vnd.threejs+json",u.VIDEO_MP4="video/mp4",u.WEBM="video/webm"}(_.MediaType||(_.MediaType={})),function(u){u.DOC="application/msword",u.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",u.PDF="application/pdf"}(_.RenderingFormat||(_.RenderingFormat={})),function(u){u.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",u.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",u.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",u.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",u.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",u.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",u.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",u.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",u.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",u.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",u.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",u.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",u.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",u.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",u.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",u.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",u.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",u.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",u.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",u.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",u.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",u.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",u.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",u.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",u.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",u.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",u.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",u.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",u.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",u.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",u.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",u.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",u.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",u.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",u.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",u.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",u.SEARCH_0="http://iiif.io/api/search/0/search",u.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",u.SEARCH_1="http://iiif.io/api/search/1/search",u.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",u.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",u.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",u.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",u.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",u.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",u.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"}(_.ServiceProfile||(_.ServiceProfile={})),function(u){u.BOTTOM_TO_TOP="bottom-to-top",u.LEFT_TO_RIGHT="left-to-right",u.RIGHT_TO_LEFT="right-to-left",u.TOP_TO_BOTTOM="top-to-bottom"}(_.ViewingDirection||(_.ViewingDirection={})),function(u){u.CONTINUOUS="continuous",u.INDIVIDUALS="individuals",u.NON_PAGED="non-paged",u.PAGED="paged",u.TOP="top"}(_.ViewingHint||(_.ViewingHint={}))},function(P,_,I){var u=this&&this.__awaiter||function(l,a,c,f){return new(c||(c=Promise))(function(N,V){function H(K){try{ee(f.next(K))}catch(W){V(W)}}function Y(K){try{ee(f.throw(K))}catch(W){V(W)}}function ee(K){var W;K.done?N(K.value):(W=K.value,W instanceof c?W:new c(function(le){le(W)})).then(H,Y)}ee((f=f.apply(l,a||[])).next())})},b=this&&this.__generator||function(l,a){var c,f,N,V,H={label:0,sent:function(){if(1&N[0])throw N[1];return N[1]},trys:[],ops:[]};return V={next:Y(0),throw:Y(1),return:Y(2)},typeof Symbol=="function"&&(V[Symbol.iterator]=function(){return this}),V;function Y(ee){return function(K){return function(W){if(c)throw new TypeError("Generator is already executing.");for(;H;)try{if(c=1,f&&(N=2&W[0]?f.return:W[0]?f.throw||((N=f.return)&&N.call(f),0):f.next)&&!(N=N.call(f,W[1])).done)return N;switch(f=0,N&&(W=[2&W[0],N.value]),W[0]){case 0:case 1:N=W;break;case 4:return H.label++,{value:W[1],done:!1};case 5:H.label++,f=W[1],W=[0];continue;case 7:W=H.ops.pop(),H.trys.pop();continue;default:if(!(N=(N=H.trys).length>0&&N[N.length-1])&&(W[0]===6||W[0]===2)){H=0;continue}if(W[0]===3&&(!N||W[1]>N[0]&&W[1]<N[3])){H.label=W[1];break}if(W[0]===6&&H.label<N[1]){H.label=N[1],N=W;break}if(N&&H.label<N[2]){H.label=N[2],H.ops.push(W);break}N[2]&&H.ops.pop(),H.trys.pop();continue}W=a.call(l,H)}catch(le){W=[6,le],f=0}finally{c=N=0}if(5&W[0])throw W[1];return{value:W[0]?W[1]:void 0,done:!0}}([ee,K])}}};Object.defineProperty(_,"__esModule",{value:!0});var T=I(0),h=I(1),v=I(33);I(34);var p=function(){function l(){}return l.getMediaType=function(a){return(a=(a=a.toLowerCase()).split(";")[0]).trim()},l.getImageQuality=function(a){return a===h.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1||a===h.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2||a===h.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1||a===h.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2||a===h.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1||a===h.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2||a===h.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1||a===h.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2||a===h.ServiceProfile.IMAGE_1_LEVEL_1||a===h.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1||a===h.ServiceProfile.IMAGE_1_LEVEL_2||a===h.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2?"native":"default"},l.getInexactLocale=function(a){return a.indexOf("-")!==-1?a.substr(0,a.indexOf("-")):a},l.getLocalisedValue=function(a,c){if(!Array.isArray(a))return a;for(var f=0;f<a.length;f++){var N=a[f];if(c===N["@language"])return N["@value"]}var V=c.substr(0,c.indexOf("-"));for(f=0;f<a.length;f++){var H=a[f];if(H["@language"]===V)return H["@value"]}return null},l.generateTreeNodeIds=function(a,c){var f;c===void 0&&(c=0),f=a.parentNode?a.parentNode.id+"-"+c:"0",a.id=f;for(var N=0;N<a.nodes.length;N++){var V=a.nodes[N];l.generateTreeNodeIds(V,N)}},l.normaliseType=function(a){return(a=a.toLowerCase()).indexOf(":")!==-1?a.split(":")[1]:a},l.normaliseUrl=function(a){return(a=a.substr(a.indexOf("://"))).indexOf("#")!==-1&&(a=a.split("#")[0]),a},l.normalisedUrlsMatch=function(a,c){return l.normaliseUrl(a)===l.normaliseUrl(c)},l.isImageProfile=function(a){return!!(l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_1_LEVEL_0)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_1_LEVEL_1)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_1_LEVEL_2)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_2_LEVEL_0)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_2_LEVEL_1)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_2_LEVEL_2)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},l.isLevel0ImageProfile=function(a){return!!(l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_0)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_1_LEVEL_0)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_2_LEVEL_0)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0))},l.isLevel1ImageProfile=function(a){return!!(l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_1_LEVEL_1)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_2_LEVEL_1)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1))},l.isLevel2ImageProfile=function(a){return!!(l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_1_LEVEL_2)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_2_LEVEL_2)||l.normalisedUrlsMatch(a,h.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},l.parseManifest=function(a,c){return T.Deserialiser.parse(a,c)},l.checkStatus=function(a){if(a.ok)return a;var c=new Error(a.statusText);return c.response=a,Promise.reject(c)},l.loadManifest=function(a){return new Promise(function(c){fetch(a).then(l.checkStatus).then(function(f){return f.json()}).then(function(f){c(f)})})},l.loadExternalResourcesAuth1=function(a,c,f,N,V,H,Y,ee){return new Promise(function(K,W){var le=a.map(function(oe){return l.loadExternalResourceAuth1(oe,c,f,N,V,H,Y,ee)});Promise.all(le).then(function(){K(a)}).catch(function(oe){W(oe)})})},l.loadExternalResourceAuth1=function(a,c,f,N,V,H,Y,ee){return u(this,void 0,void 0,function(){var K;return b(this,function(W){switch(W.label){case 0:return[4,N(a)];case 1:return(K=W.sent())?[4,a.getData(K)]:[3,6];case 2:return W.sent(),a.status!==v.OK?[3,3]:[2,a];case 3:return[4,l.doAuthChain(a,c,f,V,H,Y,ee)];case 4:W.sent(),W.label=5;case 5:if(a.status===v.OK||a.status===v.MOVED_TEMPORARILY)return[2,a];throw l.createAuthorizationFailedError();case 6:return[4,a.getData()];case 7:return W.sent(),a.status!==v.MOVED_TEMPORARILY&&a.status!==v.UNAUTHORIZED?[3,9]:[4,l.doAuthChain(a,c,f,V,H,Y,ee)];case 8:W.sent(),W.label=9;case 9:if(a.status===v.OK||a.status===v.MOVED_TEMPORARILY)return[2,a];throw l.createAuthorizationFailedError()}})})},l.doAuthChain=function(a,c,f,N,V,H,Y){return u(this,void 0,void 0,function(){var ee,K,W,le,oe,de,Ie,Re;return b(this,function(m){switch(m.label){case 0:return a.isAccessControlled()?((ee=a.externalService)&&(ee.options=a.options),(K=a.kioskService)&&(K.options=a.options),(W=a.clickThroughService)&&(W.options=a.options),(le=a.loginService)&&(le.options=a.options),a.isResponseHandled||a.status!==v.MOVED_TEMPORARILY?[3,2]:[4,H(a)]):[2,a];case 1:return m.sent(),[2,a];case 2:return oe=null,de=null,(oe=ee)?(de=oe,[4,l.attemptResourceWithToken(a,f,oe)]):[3,4];case 3:return m.sent(),[2,a];case 4:return(oe=K)?(de=oe,(Ie=c(oe))?[4,N(Ie)]:[3,7]):[3,7];case 5:return m.sent(),[4,l.attemptResourceWithToken(a,f,oe)];case 6:return m.sent(),[2,a];case 7:return(oe=W)?(de=oe,[4,V(a,oe)]):[3,11];case 8:return(Re=m.sent())?[4,N(Re)]:[3,11];case 9:return m.sent(),[4,l.attemptResourceWithToken(a,f,oe)];case 10:return m.sent(),[2,a];case 11:return(oe=le)?(de=oe,[4,V(a,oe)]):[3,15];case 12:return(Re=m.sent())?[4,N(Re)]:[3,15];case 13:return m.sent(),[4,l.attemptResourceWithToken(a,f,oe)];case 14:return m.sent(),[2,a];case 15:return de&&Y(a,de),[2]}})})},l.attemptResourceWithToken=function(a,c,f){return u(this,void 0,void 0,function(){var N,V;return b(this,function(H){switch(H.label){case 0:return(N=f.getService(h.ServiceProfile.AUTH_1_TOKEN))?[4,c(a,N)]:[3,3];case 1:return(V=H.sent())&&V.accessToken?[4,a.getData(V)]:[3,3];case 2:return H.sent(),[2,a];case 3:return[2]}})})},l.loadExternalResourcesAuth09=function(a,c,f,N,V,H,Y,ee,K,W){return new Promise(function(le,oe){var de=a.map(function(Ie){return l.loadExternalResourceAuth09(Ie,c,f,N,V,H,Y,ee,K,W)});Promise.all(de).then(function(){le(a)}).catch(function(Ie){oe(Ie)})})},l.loadExternalResourceAuth09=function(a,c,f,N,V,H,Y,ee,K,W){return new Promise(function(le,oe){W&&W.pessimisticAccessControl?a.getData().then(function(){a.isAccessControlled()?a.clickThroughService?(le(f(a)),le(N(a))):V(a).then(function(){H(a,!0).then(function(de){a.getData(de).then(function(){le(K(a))}).catch(function(Ie){oe(l.createInternalServerError(Ie))})}).catch(function(de){oe(l.createInternalServerError(de))})}).catch(function(de){oe(l.createInternalServerError(de))}):le(a)}).catch(function(de){oe(l.createInternalServerError(de))}):ee(a,c).then(function(de){de?a.getData(de).then(function(){a.status===v.OK?le(K(a)):l.authorize(a,c,f,N,V,H,Y,ee).then(function(){le(K(a))}).catch(function(Ie){oe(l.createAuthorizationFailedError())})}).catch(function(Ie){oe(l.createAuthorizationFailedError())}):l.authorize(a,c,f,N,V,H,Y,ee).then(function(){le(K(a))}).catch(function(Ie){oe(l.createAuthorizationFailedError())})}).catch(function(de){oe(l.createAuthorizationFailedError())})})},l.createError=function(a,c){var f=new Error;return f.message=c,f.name=String(a),f},l.createAuthorizationFailedError=function(){return l.createError(T.StatusCode.AUTHORIZATION_FAILED,"Authorization failed")},l.createRestrictedError=function(){return l.createError(T.StatusCode.RESTRICTED,"Restricted")},l.createInternalServerError=function(a){return l.createError(T.StatusCode.INTERNAL_SERVER_ERROR,a)},l.authorize=function(a,c,f,N,V,H,Y,ee){return new Promise(function(K,W){a.getData().then(function(){a.isAccessControlled()?ee(a,c).then(function(le){le?a.getData(le).then(function(){a.status===v.OK?K(a):l.showAuthInteraction(a,c,f,N,V,H,Y,K,W)}).catch(function(oe){W(l.createInternalServerError(oe))}):H(a,!1).then(function(oe){oe?Y(a,oe,c).then(function(){a.getData(oe).then(function(){a.status===v.OK?K(a):l.showAuthInteraction(a,c,f,N,V,H,Y,K,W)}).catch(function(de){W(l.createInternalServerError(de))})}).catch(function(de){W(l.createInternalServerError(de))}):l.showAuthInteraction(a,c,f,N,V,H,Y,K,W)})}).catch(function(le){W(l.createInternalServerError(le))}):K(a)})})},l.showAuthInteraction=function(a,c,f,N,V,H,Y,ee,K){a.status!==v.MOVED_TEMPORARILY||a.isResponseHandled?a.clickThroughService&&!a.isResponseHandled?f(a).then(function(){H(a,!0).then(function(W){Y(a,W,c).then(function(){a.getData(W).then(function(){ee(a)}).catch(function(le){K(l.createInternalServerError(le))})}).catch(function(le){K(l.createInternalServerError(le))})}).catch(function(W){K(l.createInternalServerError(W))})}):V(a).then(function(){H(a,!0).then(function(W){Y(a,W,c).then(function(){a.getData(W).then(function(){ee(a)}).catch(function(le){K(l.createInternalServerError(le))})}).catch(function(le){K(l.createInternalServerError(le))})}).catch(function(W){K(l.createInternalServerError(W))})}):ee(a)},l.getService=function(a,c){for(var f=this.getServices(a),N=0;N<f.length;N++){var V=f[N];if(V.getProfile()===c)return V}return null},l.getResourceById=function(a,c){return l.traverseAndFind(a.__jsonld,"@id",c)},l.traverseAndFind=function(a,c,f){if(a.hasOwnProperty(c)&&a[c]===f)return a;for(var N=0;N<Object.keys(a).length;N++)if(typeof a[Object.keys(a)[N]]=="object"){var V=l.traverseAndFind(a[Object.keys(a)[N]],c,f);if(V!=null)return V}},l.getServices=function(a){var c,f=[];if(!(c=a.__jsonld?a.__jsonld.service:a.service))return f;Array.isArray(c)||(c=[c]);for(var N=0;N<c.length;N++){var V=c[N];if(typeof V=="string"){var H=this.getResourceById(a.options.resource,V);H&&f.push(new T.Service(H.__jsonld||H,a.options))}else f.push(new T.Service(V,a.options))}return f},l.getTemporalComponent=function(a){var c=/t=([^&]+)/g.exec(a),f=null;return c&&c[1]&&(f=c[1].split(",")),f},l}();_.Utils=p},function(P,_,I){I.r(_),_.default=function(u,b){return b=b||{},new Promise(function(T,h){var v=new XMLHttpRequest,p=[],l=[],a={},c=function(){return{ok:(v.status/100|0)==2,statusText:v.statusText,status:v.status,url:v.responseURL,text:function(){return Promise.resolve(v.responseText)},json:function(){return Promise.resolve(JSON.parse(v.responseText))},blob:function(){return Promise.resolve(new Blob([v.response]))},clone:c,headers:{keys:function(){return p},entries:function(){return l},get:function(N){return a[N.toLowerCase()]},has:function(N){return N.toLowerCase()in a}}}};for(var f in v.open(b.method||"get",u,!0),v.onload=function(){v.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(N,V,H){p.push(V=V.toLowerCase()),l.push([V,H]),a[V]=a[V]?a[V]+","+H:H}),T(c())},v.onerror=h,v.withCredentials=b.credentials=="include",b.headers)v.setRequestHeader(f,b.headers[f]);v.send(b.body||null)})}},function(P,_,I){P.exports=I(5)},function(P,_,I){Object.defineProperty(_,"__esModule",{value:!0}),function(b){for(var T in b)_.hasOwnProperty(T)||(_[T]=b[T])}(I(0));var u=I(2);_.loadManifest=function(b){return u.Utils.loadManifest(b)},_.parseManifest=function(b,T){return u.Utils.parseManifest(b,T)}},function(P,_,I){Object.defineProperty(_,"__esModule",{value:!0});var u=function(){function b(T){this.__jsonld=T,this.context=this.getProperty("context"),this.id=this.getProperty("id")}return b.prototype.getProperty=function(T){var h=null;return this.__jsonld&&((h=this.__jsonld[T])||(h=this.__jsonld["@"+T])),h},b}();_.JSONLDResource=u},function(P,_,I){var u,b=this&&this.__extends||(u=function(p,l){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f])})(p,l)},function(p,l){function a(){this.constructor=p}u(p,l),p.prototype=l===null?Object.create(l):(a.prototype=l.prototype,new a)});Object.defineProperty(_,"__esModule",{value:!0});var T=I(0),h=I(1),v=function(p){function l(a,c){var f=p.call(this,a)||this;return f.options=c,f}return b(l,p),l.prototype.getIIIFResourceType=function(){return T.Utils.normaliseType(this.getProperty("type"))},l.prototype.getLabel=function(){var a=this.getProperty("label");return a?T.LanguageMap.parse(a,this.options.locale):[]},l.prototype.getDefaultLabel=function(){return T.LanguageMap.getValue(this.getLabel())},l.prototype.getMetadata=function(){var a=this.getProperty("metadata"),c=[];if(!a)return c;for(var f=0;f<a.length;f++){var N=a[f],V=new T.LabelValuePair(this.options.locale);V.parse(N),c.push(V)}return c},l.prototype.getRendering=function(a){for(var c=this.getRenderings(),f=0;f<c.length;f++){var N=c[f];if(N.getFormat()===a)return N}return null},l.prototype.getRenderings=function(){var a,c=[];if(!(a=this.__jsonld?this.__jsonld.rendering:this.rendering))return c;Array.isArray(a)||(a=[a]);for(var f=0;f<a.length;f++){var N=a[f];c.push(new T.Rendering(N,this.options))}return c},l.prototype.getService=function(a){return T.Utils.getService(this,a)},l.prototype.getServices=function(){return T.Utils.getServices(this)},l.prototype.getThumbnail=function(){var a=this.getProperty("thumbnail");return Array.isArray(a)&&(a=a[0]),a?new T.Thumbnail(a,this.options):null},l.prototype.isAnnotation=function(){return this.getIIIFResourceType()===h.IIIFResourceType.ANNOTATION},l.prototype.isCanvas=function(){return this.getIIIFResourceType()===h.IIIFResourceType.CANVAS},l.prototype.isCollection=function(){return this.getIIIFResourceType()===h.IIIFResourceType.COLLECTION},l.prototype.isManifest=function(){return this.getIIIFResourceType()===h.IIIFResourceType.MANIFEST},l.prototype.isRange=function(){return this.getIIIFResourceType()===h.IIIFResourceType.RANGE},l.prototype.isSequence=function(){return this.getIIIFResourceType()===h.IIIFResourceType.SEQUENCE},l}(T.JSONLDResource);_.ManifestResource=v},function(P,_,I){var u,b=this&&this.__extends||(u=function(v,p){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,a){l.__proto__=a}||function(l,a){for(var c in a)a.hasOwnProperty(c)&&(l[c]=a[c])})(v,p)},function(v,p){function l(){this.constructor=v}u(v,p),v.prototype=p===null?Object.create(p):(l.prototype=p.prototype,new l)});Object.defineProperty(_,"__esModule",{value:!0});var T=I(0),h=function(v){function p(l,a){return v.call(this,l,a)||this}return b(p,v),p.prototype.getFormat=function(){var l=this.getProperty("format");return l?l.toLowerCase():null},p.prototype.getResources=function(){var l=[];if(!this.__jsonld.resources)return l;for(var a=0;a<this.__jsonld.resources.length;a++){var c=this.__jsonld.resources[a],f=new T.Annotation(c,this.options);l.push(f)}return l},p.prototype.getType=function(){var l=this.getProperty("type");return l?T.Utils.normaliseType(l):null},p.prototype.getWidth=function(){return this.getProperty("width")},p.prototype.getHeight=function(){return this.getProperty("height")},p.prototype.getMaxWidth=function(){return this.getProperty("maxWidth")},p.prototype.getMaxHeight=function(){return this.getProperty("maxHeight")?null:this.getMaxWidth()},p}(T.ManifestResource);_.Resource=h},function(P,_,I){var u,b=this&&this.__extends||(u=function(p,l){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f])})(p,l)},function(p,l){function a(){this.constructor=p}u(p,l),p.prototype=l===null?Object.create(l):(a.prototype=l.prototype,new a)});Object.defineProperty(_,"__esModule",{value:!0});var T=I(0),h=I(1),v=function(p){function l(a,c){var f=p.call(this,a,c)||this;f.index=-1,f.isLoaded=!1;var N={defaultLabel:"-",locale:"en-GB",resource:f,pessimisticAccessControl:!1};return f.options=Object.assign(N,c),f}return b(l,p),l.prototype.getAttribution=function(){var a=this.getProperty("attribution");return a?T.LanguageMap.parse(a,this.options.locale):[]},l.prototype.getDescription=function(){var a=this.getProperty("description");return a?T.LanguageMap.parse(a,this.options.locale):[]},l.prototype.getIIIFResourceType=function(){return T.Utils.normaliseType(this.getProperty("type"))},l.prototype.getLogo=function(){var a=this.getProperty("logo");return a?typeof a=="string"?a:(Array.isArray(a)&&a.length&&(a=a[0]),a["@id"]||a.id):null},l.prototype.getLicense=function(){return T.Utils.getLocalisedValue(this.getProperty("license"),this.options.locale)},l.prototype.getNavDate=function(){return new Date(this.getProperty("navDate"))},l.prototype.getRelated=function(){return this.getProperty("related")},l.prototype.getSeeAlso=function(){return this.getProperty("seeAlso")},l.prototype.getTrackingLabel=function(){var a=this.getService(h.ServiceProfile.TRACKING_EXTENSIONS);return a?a.getProperty("trackingLabel"):""},l.prototype.getDefaultTree=function(){return this.defaultTree=new T.TreeNode("root"),this.defaultTree.data=this,this.defaultTree},l.prototype.getRequiredStatement=function(){var a=null,c=this.getProperty("requiredStatement");if(c)(a=new T.LabelValuePair(this.options.locale)).parse(c);else{var f=this.getAttribution();f&&((a=new T.LabelValuePair(this.options.locale)).value=f)}return a},l.prototype.isCollection=function(){return this.getIIIFResourceType()===h.IIIFResourceType.COLLECTION},l.prototype.isManifest=function(){return this.getIIIFResourceType()===h.IIIFResourceType.MANIFEST},l.prototype.load=function(){var a=this;return new Promise(function(c){if(a.isLoaded)c(a);else{var f=a.options;f.navDate=a.getNavDate();var N=a.__jsonld.id;N||(N=a.__jsonld["@id"]),T.Utils.loadManifest(N).then(function(V){a.parentLabel=T.LanguageMap.getValue(a.getLabel(),f.locale);var H=T.Deserialiser.parse(V,f);(a=Object.assign(a,H)).index=f.index,c(a)})}})},l}(T.ManifestResource);_.IIIFResource=v},function(P,_,I){var u,b=this&&this.__extends||(u=function(v,p){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,a){l.__proto__=a}||function(l,a){for(var c in a)a.hasOwnProperty(c)&&(l[c]=a[c])})(v,p)},function(v,p){function l(){this.constructor=v}u(v,p),v.prototype=p===null?Object.create(p):(l.prototype=p.prototype,new l)});Object.defineProperty(_,"__esModule",{value:!0});var T=I(0),h=function(v){function p(l,a){return v.call(this,l,a)||this}return b(p,v),p.prototype.getBody=function(){var l=[],a=this.getProperty("body");if(a)if(Array.isArray(a))for(var c=0;c<a.length;c++)if((V=a[c]).items)for(var f=0;f<V.items.length;f++){var N=V.items[f];l.push(new T.AnnotationBody(N,this.options))}else l.push(new T.AnnotationBody(V,this.options));else if(a.items)for(c=0;c<a.items.length;c++){var V=a.items[c];l.push(new T.AnnotationBody(V,this.options))}else l.push(new T.AnnotationBody(a,this.options));return l},p.prototype.getMotivation=function(){return this.getProperty("motivation")||null},p.prototype.getOn=function(){return this.getProperty("on")},p.prototype.getTarget=function(){return this.getProperty("target")},p.prototype.getResource=function(){return new T.Resource(this.getProperty("resource"),this.options)},p}(T.ManifestResource);_.Annotation=h},function(P,_,I){var u,b=this&&this.__extends||(u=function(v,p){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,a){l.__proto__=a}||function(l,a){for(var c in a)a.hasOwnProperty(c)&&(l[c]=a[c])})(v,p)},function(v,p){function l(){this.constructor=v}u(v,p),v.prototype=p===null?Object.create(p):(l.prototype=p.prototype,new l)});Object.defineProperty(_,"__esModule",{value:!0});var T=I(0),h=function(v){function p(l,a){return v.call(this,l,a)||this}return b(p,v),p.prototype.getFormat=function(){var l=this.getProperty("format");return l?T.Utils.getMediaType(l):null},p.prototype.getType=function(){return this.getProperty("type")?T.Utils.normaliseType(this.getProperty("type")):null},p.prototype.getWidth=function(){return this.getProperty("width")},p.prototype.getHeight=function(){return this.getProperty("height")},p}(T.ManifestResource);_.AnnotationBody=h},function(P,_,I){var u,b=this&&this.__extends||(u=function(v,p){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,a){l.__proto__=a}||function(l,a){for(var c in a)a.hasOwnProperty(c)&&(l[c]=a[c])})(v,p)},function(v,p){function l(){this.constructor=v}u(v,p),v.prototype=p===null?Object.create(p):(l.prototype=p.prototype,new l)});Object.defineProperty(_,"__esModule",{value:!0});var T=I(0),h=function(v){function p(l,a,c){var f=v.call(this,a)||this;return f.label=l,f.options=c,f}return b(p,v),p.prototype.getIIIFResourceType=function(){return T.Utils.normaliseType(this.getProperty("type"))},p.prototype.getLabel=function(){return this.label},p.prototype.getResources=function(){var l=this;return this.getProperty("resources").map(function(a){return new T.Annotation(a,l.options)})},p.prototype.load=function(){var l=this;return new Promise(function(a,c){if(l.isLoaded)a(l);else{var f=l.__jsonld.id;f||(f=l.__jsonld["@id"]),T.Utils.loadManifest(f).then(function(N){l.__jsonld=N,l.context=l.getProperty("context"),l.id=l.getProperty("id"),l.isLoaded=!0,a(l)}).catch(c)}})},p}(T.JSONLDResource);_.AnnotationList=h},function(P,_,I){var u,b=this&&this.__extends||(u=function(h,v){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,l){p.__proto__=l}||function(p,l){for(var a in l)l.hasOwnProperty(a)&&(p[a]=l[a])})(h,v)},function(h,v){function p(){this.constructor=h}u(h,v),h.prototype=v===null?Object.create(v):(p.prototype=v.prototype,new p)});Object.defineProperty(_,"__esModule",{value:!0});var T=function(h){function v(p,l){return h.call(this,p,l)||this}return b(v,h),v.prototype.getItems=function(){return this.getProperty("items")},v}(I(0).ManifestResource);_.AnnotationPage=T},function(P,_,I){var u,b=this&&this.__extends||(u=function(v,p){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,a){l.__proto__=a}||function(l,a){for(var c in a)a.hasOwnProperty(c)&&(l[c]=a[c])})(v,p)},function(v,p){function l(){this.constructor=v}u(v,p),v.prototype=p===null?Object.create(p):(l.prototype=p.prototype,new l)});Object.defineProperty(_,"__esModule",{value:!0});var T=I(0),h=function(v){function p(l,a){return v.call(this,l,a)||this}return b(p,v),p.prototype.getCanonicalImageUri=function(l){var a,c=null,f="default",N=l;if(this.externalResource&&this.externalResource.data&&this.externalResource.data["@id"])c=this.externalResource.data["@id"],N||(N=this.externalResource.data.width),this.externalResource.data["@context"]&&(this.externalResource.data["@context"].indexOf("/1.0/context.json")>-1||this.externalResource.data["@context"].indexOf("/1.1/context.json")>-1||this.externalResource.data["@context"].indexOf("/1/context.json")>-1)&&(f="native");else{var V=this.getImages();if(V&&V.length){var H=V[0].getResource(),Y=H.getServices();if(N||(N=H.getWidth()),Y.length){var ee=Y[0];c=ee.id,f=T.Utils.getImageQuality(ee.getProfile())}else if(N===H.getWidth())return H.id}if(!c){var K=this.getProperty("thumbnail");if(K){if(typeof K=="string")return K;if(K["@id"])return K["@id"];if(K.length)return K[0].id}}}return a=N+",",c&&c.endsWith("/")&&(c=c.substr(0,c.length-1)),[c,"full",a,0,f+".jpg"].join("/")},p.prototype.getMaxDimensions=function(){var l,a=null;return this.externalResource&&this.externalResource.data&&this.externalResource.data.profile&&(l=this.externalResource.data.profile,Array.isArray(l)&&(l=l.filter(function(c){return c.maxWidth})[0])&&(a=new T.Size(l.maxWidth,l.maxHeight?l.maxHeight:l.maxWidth))),a},p.prototype.getContent=function(){var l=[],a=this.__jsonld.items||this.__jsonld.content;if(!a)return l;var c=null;if(a.length&&(c=new T.AnnotationPage(a[0],this.options)),!c)return l;for(var f=c.getItems(),N=0;N<f.length;N++){var V=f[N],H=new T.Annotation(V,this.options);l.push(H)}return l},p.prototype.getDuration=function(){return this.getProperty("duration")},p.prototype.getImages=function(){var l=[];if(!this.__jsonld.images)return l;for(var a=0;a<this.__jsonld.images.length;a++){var c=this.__jsonld.images[a],f=new T.Annotation(c,this.options);l.push(f)}return l},p.prototype.getIndex=function(){return this.getProperty("index")},p.prototype.getOtherContent=function(){var l=this,a=(Array.isArray(this.getProperty("otherContent"))?this.getProperty("otherContent"):[this.getProperty("otherContent")]).filter(function(c){return c&&typeof(f=c["@type"])=="string"&&f.toLowerCase()==f.toLowerCase();var f}).map(function(c,f){return new T.AnnotationList(c.label||"Annotation list "+f,c,l.options)}).map(function(c){return c.load()});return Promise.all(a)},p.prototype.getWidth=function(){return this.getProperty("width")},p.prototype.getHeight=function(){return this.getProperty("height")},p}(T.Resource);_.Canvas=h},function(P,_,I){var u,b=this&&this.__extends||(u=function(p,l){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f])})(p,l)},function(p,l){function a(){this.constructor=p}u(p,l),p.prototype=l===null?Object.create(l):(a.prototype=l.prototype,new a)});Object.defineProperty(_,"__esModule",{value:!0});var T=I(1),h=I(0),v=function(p){function l(a,c){var f=p.call(this,a,c)||this;return f.items=[],f._collections=null,f._manifests=null,a.__collection=f,f}return b(l,p),l.prototype.getCollections=function(){return this._collections?this._collections:this._collections=this.items.filter(function(a){return a.isCollection()})},l.prototype.getManifests=function(){return this._manifests?this._manifests:this._manifests=this.items.filter(function(a){return a.isManifest()})},l.prototype.getCollectionByIndex=function(a){for(var c,f=this.getCollections(),N=0;N<f.length;N++){var V=f[N];V.index===a&&(c=V)}if(c)return c.options.index=a,c.load();throw new Error("Collection index not found")},l.prototype.getManifestByIndex=function(a){for(var c,f=this.getManifests(),N=0;N<f.length;N++){var V=f[N];V.index===a&&(c=V)}if(c)return c.options.index=a,c.load();throw new Error("Manifest index not found")},l.prototype.getTotalCollections=function(){return this.getCollections().length},l.prototype.getTotalManifests=function(){return this.getManifests().length},l.prototype.getTotalItems=function(){return this.items.length},l.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):T.ViewingDirection.LEFT_TO_RIGHT},l.prototype.getDefaultTree=function(){return p.prototype.getDefaultTree.call(this),this.defaultTree.data.type=h.Utils.normaliseType(h.TreeNodeType.COLLECTION),this._parseManifests(this),this._parseCollections(this),h.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},l.prototype._parseManifests=function(a){if(a.getManifests()&&a.getManifests().length)for(var c=0;c<a.getManifests().length;c++){var f=a.getManifests()[c],N=f.getDefaultTree();N.label=f.parentLabel||h.LanguageMap.getValue(f.getLabel(),this.options.locale)||"manifest "+(c+1),N.navDate=f.getNavDate(),N.data.id=f.id,N.data.type=h.Utils.normaliseType(h.TreeNodeType.MANIFEST),a.defaultTree.addNode(N)}},l.prototype._parseCollections=function(a){if(a.getCollections()&&a.getCollections().length)for(var c=0;c<a.getCollections().length;c++){var f=a.getCollections()[c],N=f.getDefaultTree();N.label=f.parentLabel||h.LanguageMap.getValue(f.getLabel(),this.options.locale)||"collection "+(c+1),N.navDate=f.getNavDate(),N.data.id=f.id,N.data.type=h.Utils.normaliseType(h.TreeNodeType.COLLECTION),a.defaultTree.addNode(N)}},l}(h.IIIFResource);_.Collection=v},function(P,_,I){Object.defineProperty(_,"__esModule",{value:!0});var u=function(){function b(T,h){this.start=T,this.end=h}return b.prototype.getLength=function(){return this.end-this.start},b}();_.Duration=u},function(P,_,I){Object.defineProperty(_,"__esModule",{value:!0});var u=I(0),b=function(){function T(h){this.defaultLocale=h}return T.prototype.parse=function(h){this.resource=h,this.label=u.LanguageMap.parse(this.resource.label,this.defaultLocale),this.value=u.LanguageMap.parse(this.resource.value,this.defaultLocale)},T.prototype.getLabel=function(){return this.label?u.LanguageMap.getValue(this.label,this.defaultLocale):null},T.prototype.setLabel=function(h){var v=this;if(this.label&&this.label.length){var p=this.label.filter(function(l){return l.locale===v.defaultLocale||l.locale===u.Utils.getInexactLocale(v.defaultLocale)})[0];p&&(p.value=h)}},T.prototype.getValue=function(){if(this.value){var h=this.defaultLocale;return this.label&&this.label.length&&this.label[0].locale&&(h=this.label[0].locale),u.LanguageMap.getValue(this.value,h)}return null},T.prototype.setValue=function(h){var v=this;if(this.value&&this.value.length){var p=this.value.filter(function(l){return l.locale===v.defaultLocale||l.locale===u.Utils.getInexactLocale(v.defaultLocale)})[0];p&&(p.value=h)}},T}();_.LabelValuePair=b},function(P,_,I){Object.defineProperty(_,"__esModule",{value:!0}),_.Language=function(u,b){Array.isArray(u)?u.length===1?this.value=u[0]:this.value=u.join("<br/>"):this.value=u,this.locale=b}},function(P,_,I){var u,b=this&&this.__extends||(u=function(v,p){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,a){l.__proto__=a}||function(l,a){for(var c in a)a.hasOwnProperty(c)&&(l[c]=a[c])})(v,p)},function(v,p){function l(){this.constructor=v}u(v,p),v.prototype=p===null?Object.create(p):(l.prototype=p.prototype,new l)});Object.defineProperty(_,"__esModule",{value:!0});var T=I(0),h=function(v){function p(){return v!==null&&v.apply(this,arguments)||this}return b(p,v),p.parse=function(l,a){var c,f=[];if(!l)return f;if(Array.isArray(l))for(var N=0;N<l.length;N++){var V=l[N];c=typeof V=="string"?new T.Language(V,a):new T.Language(V["@value"],V["@language"]||a),f.push(c)}else{if(typeof l=="string")return c=new T.Language(l,a),f.push(c),f;l["@value"]?(c=new T.Language(l["@value"],l["@language"]||a),f.push(c)):Object.keys(l).forEach(function(H){if(!l[H].length)throw new Error("language must have a value");c=new T.Language(l[H],H),f.push(c)})}return f},p.getValue=function(l,a){if(l.length){if(a){var c=l.filter(function(f){return f.locale===a||T.Utils.getInexactLocale(f.locale)===T.Utils.getInexactLocale(a)})[0];if(c)return c.value}return l[0].value}return null},p}(Array);_.LanguageMap=h},function(P,_,I){var u,b=this&&this.__extends||(u=function(p,l){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f])})(p,l)},function(p,l){function a(){this.constructor=p}u(p,l),p.prototype=l===null?Object.create(l):(a.prototype=l.prototype,new a)});Object.defineProperty(_,"__esModule",{value:!0});var T=I(1),h=I(0),v=function(p){function l(a,c){var f=p.call(this,a,c)||this;if(f.index=0,f._allRanges=null,f.items=[],f._topRanges=[],f.__jsonld.structures&&f.__jsonld.structures.length)for(var N=f._getTopRanges(),V=0;V<N.length;V++){var H=N[V];f._parseRanges(H,String(V))}return f}return b(l,p),l.prototype.getPosterCanvas=function(){var a=this.getProperty("posterCanvas");return a&&(a=new h.Canvas(a,this.options)),a},l.prototype.getBehavior=function(){var a=this.getProperty("behavior");return Array.isArray(a)&&(a=a[0]),a||null},l.prototype.getDefaultTree=function(){if(p.prototype.getDefaultTree.call(this),this.defaultTree.data.type=h.Utils.normaliseType(h.TreeNodeType.MANIFEST),!this.isLoaded)return this.defaultTree;var a=this.getTopRanges();return a.length&&a[0].getTree(this.defaultTree),h.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},l.prototype._getTopRanges=function(){var a=[];if(this.__jsonld.structures&&this.__jsonld.structures.length){for(var c=0;c<this.__jsonld.structures.length;c++){var f=this.__jsonld.structures[c];f.viewingHint===T.ViewingHint.TOP&&a.push(f)}if(!a.length){var N={};N.ranges=this.__jsonld.structures,a.push(N)}}return a},l.prototype.getTopRanges=function(){return this._topRanges},l.prototype._getRangeById=function(a){if(this.__jsonld.structures&&this.__jsonld.structures.length)for(var c=0;c<this.__jsonld.structures.length;c++){var f=this.__jsonld.structures[c];if(f["@id"]===a||f.id===a)return f}return null},l.prototype._parseRanges=function(a,c,f){var N,V=null;if(typeof a=="string"&&(V=a,a=this._getRangeById(V)),a){(N=new h.Range(a,this.options)).parentRange=f,N.path=c,f?f.items.push(N):this._topRanges.push(N);var H=a.items||a.members;if(H)for(var Y=0;Y<H.length;Y++){var ee=H[Y];if(ee["@type"]&&ee["@type"].toLowerCase()==="sc:range"||ee.type&&ee.type.toLowerCase()==="range")this._parseRanges(ee,c+"/"+Y,N);else if(ee["@type"]&&ee["@type"].toLowerCase()==="sc:canvas"||ee.type&&ee.type.toLowerCase()==="canvas"){N.canvases||(N.canvases=[]);var K=ee.id||ee["@id"];N.canvases.push(K)}}else if(a.ranges)for(Y=0;Y<a.ranges.length;Y++)this._parseRanges(a.ranges[Y],c+"/"+Y,N)}else console.warn("Range:",V,"does not exist")},l.prototype.getAllRanges=function(){if(this._allRanges!=null)return this._allRanges;this._allRanges=[];for(var a=this.getTopRanges(),c=function(V){var H=a[V];H.id&&f._allRanges.push(H);var Y=function(K,W){K.add(W);var le=W.getRanges();return le.length?le.reduce(Y,K):K},ee=Array.from(H.getRanges().reduce(Y,new Set));f._allRanges=f._allRanges.concat(ee)},f=this,N=0;N<a.length;N++)c(N);return this._allRanges},l.prototype.getRangeById=function(a){for(var c=this.getAllRanges(),f=0;f<c.length;f++){var N=c[f];if(N.id===a)return N}return null},l.prototype.getRangeByPath=function(a){for(var c=this.getAllRanges(),f=0;f<c.length;f++){var N=c[f];if(N.path===a)return N}return null},l.prototype.getSequences=function(){if(this.items.length)return this.items;var a=this.__jsonld.mediaSequences||this.__jsonld.sequences;if(a)for(var c=0;c<a.length;c++){var f=a[c],N=new h.Sequence(f,this.options);this.items.push(N)}else this.__jsonld.items&&(N=new h.Sequence(this.__jsonld.items,this.options),this.items.push(N));return this.items},l.prototype.getSequenceByIndex=function(a){return this.getSequences()[a]},l.prototype.getTotalSequences=function(){return this.getSequences().length},l.prototype.getManifestType=function(){var a=this.getService(T.ServiceProfile.UI_EXTENSIONS);return a?a.getProperty("manifestType"):h.ManifestType.EMPTY},l.prototype.isMultiSequence=function(){return this.getTotalSequences()>1},l.prototype.isPagingEnabled=function(){var a=this.getViewingHint();if(a)return a===T.ViewingHint.PAGED;var c=this.getBehavior();return!!c&&c===T.Behavior.PAGED},l.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},l.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},l}(h.IIIFResource);_.Manifest=v},function(P,_,I){Object.defineProperty(_,"__esModule",{value:!0}),function(u){u.EMPTY="",u.MANUSCRIPT="manuscript",u.MONOGRAPH="monograph"}(_.ManifestType||(_.ManifestType={}))},function(P,_,I){var u,b=this&&this.__extends||(u=function(p,l){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f])})(p,l)},function(p,l){function a(){this.constructor=p}u(p,l),p.prototype=l===null?Object.create(l):(a.prototype=l.prototype,new a)});Object.defineProperty(_,"__esModule",{value:!0});var T=I(0),h=I(1),v=function(p){function l(a,c){var f=p.call(this,a,c)||this;return f._ranges=null,f.canvases=null,f.items=[],f}return b(l,p),l.prototype.getCanvasIds=function(){return this.__jsonld.canvases?this.__jsonld.canvases:this.canvases?this.canvases:[]},l.prototype.getDuration=function(){var a,c;if(this.canvases&&this.canvases.length)for(var f=0;f<this.canvases.length;f++){var N=this.canvases[f],V=T.Utils.getTemporalComponent(N);V&&V.length>1&&(f===0&&(a=Number(V[0])),f===this.canvases.length-1&&(c=Number(V[1])))}else{var H=this.getRanges();for(f=0;f<H.length;f++){var Y=H[f].getDuration();Y&&(f===0&&(a=Y.start),f===H.length-1&&(c=Y.end))}}if(a!==void 0&&c!==void 0)return new T.Duration(a,c)},l.prototype.getRanges=function(){return this._ranges?this._ranges:this._ranges=this.items.filter(function(a){return a.isRange()})},l.prototype.getBehavior=function(){var a=this.getProperty("behavior");return Array.isArray(a)&&(a=a[0]),a||null},l.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},l.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},l.prototype.getTree=function(a){a.data=this,this.treeNode=a;var c=this.getRanges();if(c&&c.length)for(var f=0;f<c.length;f++){var N=c[f],V=new T.TreeNode;a.addNode(V),this._parseTreeNode(V,N)}return T.Utils.generateTreeNodeIds(a),a},l.prototype.spansTime=function(a){var c=this.getDuration();return!!(c&&a>=c.start&&a<=c.end)},l.prototype._parseTreeNode=function(a,c){a.label=T.LanguageMap.getValue(c.getLabel(),this.options.locale),a.data=c,a.data.type=T.Utils.normaliseType(T.TreeNodeType.RANGE),c.treeNode=a;var f=c.getRanges();if(f&&f.length)for(var N=0;N<f.length;N++){var V=f[N];if(V.getBehavior()!==h.Behavior.NO_NAV){var H=new T.TreeNode;a.addNode(H),this._parseTreeNode(H,V)}}},l}(T.ManifestResource);_.Range=v},function(P,_,I){var u,b=this&&this.__extends||(u=function(h,v){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,l){p.__proto__=l}||function(p,l){for(var a in l)l.hasOwnProperty(a)&&(p[a]=l[a])})(h,v)},function(h,v){function p(){this.constructor=h}u(h,v),h.prototype=v===null?Object.create(v):(p.prototype=v.prototype,new p)});Object.defineProperty(_,"__esModule",{value:!0});var T=function(h){function v(p,l){return h.call(this,p,l)||this}return b(v,h),v.prototype.getFormat=function(){return this.getProperty("format")},v}(I(0).ManifestResource);_.Rendering=T},function(P,_,I){var u,b=this&&this.__extends||(u=function(p,l){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f])})(p,l)},function(p,l){function a(){this.constructor=p}u(p,l),p.prototype=l===null?Object.create(l):(a.prototype=l.prototype,new a)});Object.defineProperty(_,"__esModule",{value:!0});var T=I(1),h=I(0),v=function(p){function l(a,c){var f=p.call(this,a,c)||this;return f.items=[],f._thumbnails=null,f}return b(l,p),l.prototype.getCanvases=function(){if(this.items.length)return this.items;var a=this.__jsonld.canvases||this.__jsonld.elements;if(a)for(var c=0;c<a.length;c++){var f=a[c];(N=new h.Canvas(f,this.options)).index=c,this.items.push(N)}else if(this.__jsonld)for(c=0;c<this.__jsonld.length;c++){var N;f=this.__jsonld[c],(N=new h.Canvas(f,this.options)).index=c,this.items.push(N)}return this.items},l.prototype.getCanvasById=function(a){for(var c=0;c<this.getTotalCanvases();c++){var f=this.getCanvasByIndex(c),N=h.Utils.normaliseUrl(f.id);if(h.Utils.normaliseUrl(a)===N)return f}return null},l.prototype.getCanvasByIndex=function(a){return this.getCanvases()[a]},l.prototype.getCanvasIndexById=function(a){for(var c=0;c<this.getTotalCanvases();c++)if(this.getCanvasByIndex(c).id===a)return c;return null},l.prototype.getCanvasIndexByLabel=function(a,c){a=a.trim(),isNaN(a)||(a=parseInt(a,10).toString(),c&&(a+="r"));for(var f,N,V,H=/(\d*)\D+(\d*)/,Y=0;Y<this.getTotalCanvases();Y++){var ee=this.getCanvasByIndex(Y);if(h.LanguageMap.getValue(ee.getLabel(),this.options.locale)===a||(f=H.exec(a))&&(N=f[1],(V=f[2])&&new RegExp("^"+N+"\\D+"+V+"$").test(ee.getLabel().toString())))return Y}return-1},l.prototype.getLastCanvasLabel=function(a){for(var c=this.getTotalCanvases()-1;c>=0;c--){var f=this.getCanvasByIndex(c),N=h.LanguageMap.getValue(f.getLabel(),this.options.locale);if(a){if(/^[a-zA-Z0-9]*$/.test(N))return N}else if(N)return N}return this.options.defaultLabel},l.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},l.prototype.getNextPageIndex=function(a,c){var f;if(c){var N=this.getPagedIndices(a),V=this.getViewingDirection();f=V&&V===T.ViewingDirection.RIGHT_TO_LEFT?N[0]+1:N[N.length-1]+1}else f=a+1;return f>this.getLastPageIndex()?-1:f},l.prototype.getPagedIndices=function(a,c){var f=[];if(c){f=this.isFirstCanvas(a)||this.isLastCanvas(a)?[a]:a%2?[a,a+1]:[a-1,a];var N=this.getViewingDirection();N&&N===T.ViewingDirection.RIGHT_TO_LEFT&&(f=f.reverse())}else f.push(a);return f},l.prototype.getPrevPageIndex=function(a,c){var f;if(c){var N=this.getPagedIndices(a),V=this.getViewingDirection();f=V&&V===T.ViewingDirection.RIGHT_TO_LEFT?N[N.length-1]-1:N[0]-1}else f=a-1;return f},l.prototype.getStartCanvasIndex=function(){var a=this.getStartCanvas();if(a){for(var c=0;c<this.getTotalCanvases();c++)if(this.getCanvasByIndex(c).id===a)return c}return 0},l.prototype.getThumbs=function(a,c){for(var f=[],N=this.getTotalCanvases(),V=0;V<N;V++){var H=this.getCanvasByIndex(V),Y=new h.Thumb(a,H);f.push(Y)}return f},l.prototype.getThumbnails=function(){if(this._thumbnails!=null)return this._thumbnails;this._thumbnails=[];for(var a=this.getCanvases(),c=0;c<a.length;c++){var f=a[c].getThumbnail();f&&this._thumbnails.push(f)}return this._thumbnails},l.prototype.getStartCanvas=function(){return this.getProperty("startCanvas")},l.prototype.getTotalCanvases=function(){return this.getCanvases().length},l.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):this.options.resource.getViewingDirection?this.options.resource.getViewingDirection():null},l.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},l.prototype.isCanvasIndexOutOfRange=function(a){return a>this.getTotalCanvases()-1},l.prototype.isFirstCanvas=function(a){return a===0},l.prototype.isLastCanvas=function(a){return a===this.getTotalCanvases()-1},l.prototype.isMultiCanvas=function(){return this.getTotalCanvases()>1},l.prototype.isPagingEnabled=function(){var a=this.getViewingHint();return!!a&&a===T.ViewingHint.PAGED},l.prototype.isTotalCanvasesEven=function(){return this.getTotalCanvases()%2==0},l}(h.ManifestResource);_.Sequence=v},function(P,_,I){Object.defineProperty(_,"__esModule",{value:!0});var u=I(0),b=function(){function T(){}return T.parse=function(h,v){return typeof h=="string"&&(h=JSON.parse(h)),this.parseJson(h,v)},T.parseJson=function(h,v){var p;if(v&&v.navDate&&!isNaN(v.navDate.getTime())&&(h.navDate=v.navDate.toString()),h["@type"])switch(h["@type"]){case"sc:Collection":p=this.parseCollection(h,v);break;case"sc:Manifest":p=this.parseManifest(h,v);break;default:return null}else switch(h.type){case"Collection":p=this.parseCollection(h,v);break;case"Manifest":p=this.parseManifest(h,v);break;default:return null}return p.isLoaded=!0,p},T.parseCollection=function(h,v){var p=new u.Collection(h,v);return v?(p.index=v.index||0,v.resource&&(p.parentCollection=v.resource.parentCollection)):p.index=0,this.parseCollections(p,v),this.parseManifests(p,v),this.parseItems(p,v),p},T.parseCollections=function(h,v){var p;if(h.__jsonld.collections?p=h.__jsonld.collections:h.__jsonld.items&&(p=h.__jsonld.items.filter(function(c){return c.type.toLowerCase()==="collection"})),p)for(var l=0;l<p.length;l++){v&&(v.index=l);var a=this.parseCollection(p[l],v);a.index=l,a.parentCollection=h,h.items.push(a)}},T.parseManifest=function(h,v){return new u.Manifest(h,v)},T.parseManifests=function(h,v){var p;if(h.__jsonld.manifests?p=h.__jsonld.manifests:h.__jsonld.items&&(p=h.__jsonld.items.filter(function(c){return c.type.toLowerCase()==="manifest"})),p)for(var l=0;l<p.length;l++){var a=this.parseManifest(p[l],v);a.index=l,a.parentCollection=h,h.items.push(a)}},T.parseItem=function(h,v){if(h["@type"]){if(h["@type"].toLowerCase()==="sc:manifest")return this.parseManifest(h,v);if(h["@type"].toLowerCase()==="sc:collection")return this.parseCollection(h,v)}else if(h.type){if(h.type.toLowerCase()==="manifest")return this.parseManifest(h,v);if(h.type.toLowerCase()==="collection")return this.parseCollection(h,v)}return null},T.parseItems=function(h,v){var p=h.__jsonld.members||h.__jsonld.items;if(p)for(var l=function(N){v&&(v.index=N);var V=a.parseItem(p[N],v);return V?h.items.filter(function(H){return H.id===V.id})[0]?"continue":(V.index=N,V.parentCollection=h,void h.items.push(V)):{value:void 0}},a=this,c=0;c<p.length;c++){var f=l(c);if(typeof f=="object")return f.value}},T}();_.Deserialiser=b},function(P,_,I){var u,b=this&&this.__extends||(u=function(v,p){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,a){l.__proto__=a}||function(l,a){for(var c in a)a.hasOwnProperty(c)&&(l[c]=a[c])})(v,p)},function(v,p){function l(){this.constructor=v}u(v,p),v.prototype=p===null?Object.create(p):(l.prototype=p.prototype,new l)});Object.defineProperty(_,"__esModule",{value:!0});var T=I(0),h=function(v){function p(l,a){return v.call(this,l,a)||this}return b(p,v),p.prototype.getProfile=function(){var l=this.getProperty("profile");return l||(l=this.getProperty("dcterms:conformsTo")),Array.isArray(l)?l[0]:l},p.prototype.getConfirmLabel=function(){return T.Utils.getLocalisedValue(this.getProperty("confirmLabel"),this.options.locale)},p.prototype.getDescription=function(){return T.Utils.getLocalisedValue(this.getProperty("description"),this.options.locale)},p.prototype.getFailureDescription=function(){return T.Utils.getLocalisedValue(this.getProperty("failureDescription"),this.options.locale)},p.prototype.getFailureHeader=function(){return T.Utils.getLocalisedValue(this.getProperty("failureHeader"),this.options.locale)},p.prototype.getHeader=function(){return T.Utils.getLocalisedValue(this.getProperty("header"),this.options.locale)},p.prototype.getServiceLabel=function(){return T.Utils.getLocalisedValue(this.getProperty("label"),this.options.locale)},p.prototype.getInfoUri=function(){var l=this.id;return l.endsWith("/")||(l+="/"),l+"info.json"},p}(T.ManifestResource);_.Service=h},function(P,_,I){Object.defineProperty(_,"__esModule",{value:!0}),_.Size=function(u,b){this.width=u,this.height=b}},function(P,_,I){Object.defineProperty(_,"__esModule",{value:!0}),function(u){u[u.AUTHORIZATION_FAILED=1]="AUTHORIZATION_FAILED",u[u.FORBIDDEN=2]="FORBIDDEN",u[u.INTERNAL_SERVER_ERROR=3]="INTERNAL_SERVER_ERROR",u[u.RESTRICTED=4]="RESTRICTED"}(_.StatusCode||(_.StatusCode={}))},function(P,_,I){Object.defineProperty(_,"__esModule",{value:!0});var u=I(0);_.Thumb=function(b,T){this.data=T,this.index=T.index,this.width=b;var h=T.getHeight()/T.getWidth();this.height=h?Math.floor(this.width*h):b,this.uri=T.getCanonicalImageUri(b),this.label=u.LanguageMap.getValue(T.getLabel())}},function(P,_,I){var u,b=this&&this.__extends||(u=function(h,v){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,l){p.__proto__=l}||function(p,l){for(var a in l)l.hasOwnProperty(a)&&(p[a]=l[a])})(h,v)},function(h,v){function p(){this.constructor=h}u(h,v),h.prototype=v===null?Object.create(v):(p.prototype=v.prototype,new p)});Object.defineProperty(_,"__esModule",{value:!0});var T=function(h){function v(p,l){return h.call(this,p,l)||this}return b(v,h),v}(I(0).Resource);_.Thumbnail=T},function(P,_,I){Object.defineProperty(_,"__esModule",{value:!0});var u=I(0),b=function(){function T(h,v){this.label=h,this.data=v||{},this.nodes=[]}return T.prototype.addNode=function(h){this.nodes.push(h),h.parentNode=this},T.prototype.isCollection=function(){return this.data.type===u.Utils.normaliseType(u.TreeNodeType.COLLECTION)},T.prototype.isManifest=function(){return this.data.type===u.Utils.normaliseType(u.TreeNodeType.MANIFEST)},T.prototype.isRange=function(){return this.data.type===u.Utils.normaliseType(u.TreeNodeType.RANGE)},T}();_.TreeNode=b},function(P,_,I){Object.defineProperty(_,"__esModule",{value:!0}),function(u){u.COLLECTION="collection",u.MANIFEST="manifest",u.RANGE="range"}(_.TreeNodeType||(_.TreeNodeType={}))},function(P,_,I){P.exports=function(u){var b={};function T(h){if(b[h])return b[h].exports;var v=b[h]={i:h,l:!1,exports:{}};return u[h].call(v.exports,v,v.exports,T),v.l=!0,v.exports}return T.m=u,T.c=b,T.d=function(h,v,p){T.o(h,v)||Object.defineProperty(h,v,{enumerable:!0,get:p})},T.r=function(h){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},T.t=function(h,v){if(1&v&&(h=T(h)),8&v||4&v&&typeof h=="object"&&h&&h.__esModule)return h;var p=Object.create(null);if(T.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:h}),2&v&&typeof h!="string")for(var l in h)T.d(p,l,function(a){return h[a]}.bind(null,l));return p},T.n=function(h){var v=h&&h.__esModule?function(){return h.default}:function(){return h};return T.d(v,"a",v),v},T.o=function(h,v){return Object.prototype.hasOwnProperty.call(h,v)},T.p="",T(T.s=0)}([function(u,b,T){u.exports=T(1)},function(u,b,T){Object.defineProperty(b,"__esModule",{value:!0}),b.CONTINUE=100,b.SWITCHING_PROTOCOLS=101,b.PROCESSING=102,b.OK=200,b.CREATED=201,b.ACCEPTED=202,b.NON_AUTHORITATIVE_INFORMATION=203,b.NO_CONTENT=204,b.RESET_CONTENT=205,b.PARTIAL_CONTENT=206,b.MULTI_STATUS=207,b.MULTIPLE_CHOICES=300,b.MOVED_PERMANENTLY=301,b.MOVED_TEMPORARILY=302,b.SEE_OTHER=303,b.NOT_MODIFIED=304,b.USE_PROXY=305,b.TEMPORARY_REDIRECT=307,b.BAD_REQUEST=400,b.UNAUTHORIZED=401,b.PAYMENT_REQUIRED=402,b.FORBIDDEN=403,b.NOT_FOUND=404,b.METHOD_NOT_ALLOWED=405,b.NOT_ACCEPTABLE=406,b.PROXY_AUTHENTICATION_REQUIRED=407,b.REQUEST_TIME_OUT=408,b.CONFLICT=409,b.GONE=410,b.LENGTH_REQUIRED=411,b.PRECONDITION_FAILED=412,b.REQUEST_ENTITY_TOO_LARGE=413,b.REQUEST_URI_TOO_LARGE=414,b.UNSUPPORTED_MEDIA_TYPE=415,b.REQUESTED_RANGE_NOT_SATISFIABLE=416,b.EXPECTATION_FAILED=417,b.IM_A_TEAPOT=418,b.UNPROCESSABLE_ENTITY=422,b.LOCKED=423,b.FAILED_DEPENDENCY=424,b.UNORDERED_COLLECTION=425,b.UPGRADE_REQUIRED=426,b.PRECONDITION_REQUIRED=428,b.TOO_MANY_REQUESTS=429,b.REQUEST_HEADER_FIELDS_TOO_LARGE=431,b.INTERNAL_SERVER_ERROR=500,b.NOT_IMPLEMENTED=501,b.BAD_GATEWAY=502,b.SERVICE_UNAVAILABLE=503,b.GATEWAY_TIME_OUT=504,b.HTTP_VERSION_NOT_SUPPORTED=505,b.VARIANT_ALSO_NEGOTIATES=506,b.INSUFFICIENT_STORAGE=507,b.BANDWIDTH_LIMIT_EXCEEDED=509,b.NOT_EXTENDED=510,b.NETWORK_AUTHENTICATION_REQUIRED=511}])},function(P,_,I){P.exports=window.fetch||(window.fetch=I(3).default||I(3))}])},function(R,y,A){R.exports=function(P){var _={};function I(u){if(_[u])return _[u].exports;var b=_[u]={i:u,l:!1,exports:{}};return P[u].call(b.exports,b,b.exports,I),b.l=!0,b.exports}return I.m=P,I.c=_,I.d=function(u,b,T){I.o(u,b)||Object.defineProperty(u,b,{enumerable:!0,get:T})},I.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},I.t=function(u,b){if(1&b&&(u=I(u)),8&b||4&b&&typeof u=="object"&&u&&u.__esModule)return u;var T=Object.create(null);if(I.r(T),Object.defineProperty(T,"default",{enumerable:!0,value:u}),2&b&&typeof u!="string")for(var h in u)I.d(T,h,function(v){return u[v]}.bind(null,h));return T},I.n=function(u){var b=u&&u.__esModule?function(){return u.default}:function(){return u};return I.d(b,"a",b),b},I.o=function(u,b){return Object.prototype.hasOwnProperty.call(u,b)},I.p="",I(I.s=0)}([function(P,_,I){P.exports=I(1)},function(P,_,I){Object.defineProperty(_,"__esModule",{value:!0}),_.CONTINUE=100,_.SWITCHING_PROTOCOLS=101,_.PROCESSING=102,_.OK=200,_.CREATED=201,_.ACCEPTED=202,_.NON_AUTHORITATIVE_INFORMATION=203,_.NO_CONTENT=204,_.RESET_CONTENT=205,_.PARTIAL_CONTENT=206,_.MULTI_STATUS=207,_.MULTIPLE_CHOICES=300,_.MOVED_PERMANENTLY=301,_.MOVED_TEMPORARILY=302,_.SEE_OTHER=303,_.NOT_MODIFIED=304,_.USE_PROXY=305,_.TEMPORARY_REDIRECT=307,_.BAD_REQUEST=400,_.UNAUTHORIZED=401,_.PAYMENT_REQUIRED=402,_.FORBIDDEN=403,_.NOT_FOUND=404,_.METHOD_NOT_ALLOWED=405,_.NOT_ACCEPTABLE=406,_.PROXY_AUTHENTICATION_REQUIRED=407,_.REQUEST_TIME_OUT=408,_.CONFLICT=409,_.GONE=410,_.LENGTH_REQUIRED=411,_.PRECONDITION_FAILED=412,_.REQUEST_ENTITY_TOO_LARGE=413,_.REQUEST_URI_TOO_LARGE=414,_.UNSUPPORTED_MEDIA_TYPE=415,_.REQUESTED_RANGE_NOT_SATISFIABLE=416,_.EXPECTATION_FAILED=417,_.IM_A_TEAPOT=418,_.UNPROCESSABLE_ENTITY=422,_.LOCKED=423,_.FAILED_DEPENDENCY=424,_.UNORDERED_COLLECTION=425,_.UPGRADE_REQUIRED=426,_.PRECONDITION_REQUIRED=428,_.TOO_MANY_REQUESTS=429,_.REQUEST_HEADER_FIELDS_TOO_LARGE=431,_.INTERNAL_SERVER_ERROR=500,_.NOT_IMPLEMENTED=501,_.BAD_GATEWAY=502,_.SERVICE_UNAVAILABLE=503,_.GATEWAY_TIME_OUT=504,_.HTTP_VERSION_NOT_SUPPORTED=505,_.VARIANT_ALSO_NEGOTIATES=506,_.INSUFFICIENT_STORAGE=507,_.BANDWIDTH_LIMIT_EXCEEDED=509,_.NOT_EXTENDED=510,_.NETWORK_AUTHENTICATION_REQUIRED=511}])},function(R,y,A){R.exports=A(3)},function(R,y,A){var P,_=this&&this.__extends||(P=function(h,v){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,l){p.__proto__=l}||function(p,l){for(var a in l)l.hasOwnProperty(a)&&(p[a]=l[a])})(h,v)},function(h,v){function p(){this.constructor=h}P(h,v),h.prototype=v===null?Object.create(v):(p.prototype=v.prototype,new p)});Object.defineProperty(y,"__esModule",{value:!0});var I=A(0),u=A(5),b=function(h){function v(p){var l=h.call(this,p)||this;return l._data=l.data(),l._data=l.options.data,l._init(),l._resize(),l}return _(v,h),v.prototype._init=function(){h.prototype._init.call(this),this._$element=$(this.el);var p=this;return this._$tree=$('<ul class="tree"></ul>'),this._$element.append(this._$tree),$.templates({pageTemplate:"{^{for nodes}}					{^{tree/}}				{{/for}}",treeTemplate:`<li>						{^{if nodes && nodes.length}}							<div class="toggle" data-link="class{merge:expanded toggle='expanded'}"></div>						{{else}}						<div class="spacer"></div>						{{/if}}						{^{if multiSelectEnabled}}							<input id="tree-checkbox-{{>id}}" type="checkbox" data-link="checked{:multiSelected ? 'checked' : ''}" class="multiSelect" />						{{/if}}						{^{if selected}}							<a id="tree-link-{{>id}}" href="#" title="{{>label}}" class="selected">{{>label}}</a>						{{else}}							<a id="tree-link-{{>id}}" href="#" title="{{>label}}">{{>label}}</a>						{{/if}}				</li>				{^{if expanded}}					<li>							<ul>									{^{for nodes}}										{^{tree/}}									{{/for}}							</ul>					</li>				{{/if}}`}),$.views.tags({tree:{toggleExpanded:function(){var l=this.data;p._setNodeExpanded(l,!l.expanded)},toggleMultiSelect:function(){var l=this.data;if(p._setNodeMultiSelected(l,!l.multiSelected),l.isRange()){var a=p._getMultiSelectState();a&&a.selectRange(l.data,l.multiSelected)}p.fire(T.TREE_NODE_MULTISELECTED,l)},init:function(l,a,c){this.data=l.view.data},onAfterLink:function(){var l=this;l.contents("li").first().on("click",".toggle",function(){l.toggleExpanded()}).on("click","a",function(a){a.preventDefault();var c=l.data;c.nodes.length&&p._data.branchNodesExpandOnClick&&l.toggleExpanded(),c.multiSelectEnabled?l.toggleMultiSelect():c.nodes.length?p._data.branchNodesSelectable&&(p.fire(T.TREE_NODE_SELECTED,c),p.selectNode(c)):(p.fire(T.TREE_NODE_SELECTED,c),p.selectNode(c))}).on("click","input.multiSelect",function(a){l.toggleMultiSelect()})},template:$.templates.treeTemplate}}),!0},v.prototype.set=function(p){var l=this;if(this._data=Object.assign(this._data,p),this._data.helper){this._rootNode=this._data.helper.getTree(this._data.topRangeIndex,this._data.treeSortType),this._flattenedTree=null,this._multiSelectableNodes=null,this._$tree.link($.templates.pageTemplate,this._rootNode);var a=this._getMultiSelectState();if(a)for(var c=function(V){var H=a.ranges[V],Y=f._getMultiSelectableNodes().filter(function(ee){return ee.data.id===H.id})[0];Y&&(f._setNodeMultiSelectEnabled(Y,H.multiSelectEnabled),f._setNodeMultiSelected(Y,H.multiSelected))},f=this,N=0;N<a.ranges.length;N++)c(N);this._data.autoExpand&&this.getAllNodes().forEach(function(V,H){l._setNodeExpanded(V,!0)})}},v.prototype._getMultiSelectState=function(){return this._data.helper?this._data.helper.getMultiSelectState():null},v.prototype.data=function(){return{autoExpand:!1,branchNodesExpandOnClick:!0,branchNodesSelectable:!0,helper:null,topRangeIndex:0,treeSortType:u.TreeSortType.NONE}},v.prototype.allNodesSelected=function(){var p=this._getMultiSelectableNodes(),l=this.getMultiSelectedNodes();return p.length===l.length},v.prototype._getMultiSelectableNodes=function(){var p=this;if(this._multiSelectableNodes)return this._multiSelectableNodes;var l=this.getAllNodes();return l?this._multiSelectableNodes=l.filter(function(a){return p._nodeIsMultiSelectable(a)}):[]},v.prototype._nodeIsMultiSelectable=function(p){return!!(p.data.type===I.TreeNodeType.MANIFEST&&p.nodes&&p.nodes.length>0||p.data.type===I.TreeNodeType.RANGE)},v.prototype.getAllNodes=function(){return this._flattenedTree?this._flattenedTree:this._data.helper?this._flattenedTree=this._data.helper.getFlattenedTree(this._rootNode):[]},v.prototype.getMultiSelectedNodes=function(){var p=this;return this.getAllNodes().filter(function(l){return p._nodeIsMultiSelectable(l)&&l.multiSelected})},v.prototype.getNodeById=function(p){return this.getAllNodes().filter(function(l){return l.id===p})[0]},v.prototype.expandParents=function(p,l){p&&p.parentNode&&(this._setNodeExpanded(p.parentNode,l),this.expandParents(p.parentNode,l))},v.prototype._setNodeSelected=function(p,l){$.observable(p).setProperty("selected",l)},v.prototype._setNodeExpanded=function(p,l){$.observable(p).setProperty("expanded",l)},v.prototype._setNodeMultiSelected=function(p,l){$.observable(p).setProperty("multiSelected",l)},v.prototype._setNodeMultiSelectEnabled=function(p,l){$.observable(p).setProperty("multiSelectEnabled",l)},v.prototype.selectPath=function(p){if(this._rootNode){var l=p.split("/");l.length>=1&&l.shift();var a=this.getNodeByPath(this._rootNode,l);this.selectNode(a)}},v.prototype.deselectCurrentNode=function(){this.selectedNode&&this._setNodeSelected(this.selectedNode,!1)},v.prototype.selectNode=function(p){this._rootNode&&(this.deselectCurrentNode(),this.selectedNode=p,this._setNodeSelected(this.selectedNode,!0))},v.prototype.expandNode=function(p,l){this._rootNode&&this._setNodeExpanded(p,l)},v.prototype.getNodeByPath=function(p,l){if(l.length===0)return p;var a=Number(l.shift()),c=p.nodes[a];return this.getNodeByPath(c,l)},v.prototype.show=function(){this._$element.show()},v.prototype.hide=function(){this._$element.hide()},v.prototype._resize=function(){},v}(A(4).BaseComponent);y.TreeComponent=b;var T=function(){function h(){}return h.TREE_NODE_MULTISELECTED="treeNodeMultiSelected",h.TREE_NODE_SELECTED="treeNodeSelected",h}();y.Events=T},function(R,y,A){A.r(y),A.d(y,"BaseComponent",function(){return P});var P=function(){function _(I){this.options=I,this.options.data=Object.assign({},this.data(),I.data)}return _.prototype._init=function(){return this.el=this.options.target,this.el?(this.el.innerHTML="",!0):(console.warn("element not found"),!1)},_.prototype.data=function(){return{}},_.prototype.on=function(I,u,b){var T=this._e||(this._e={});(T[I]||(T[I]=[])).push({fn:u,ctx:b})},_.prototype.fire=function(I){for(var u=[],b=1;b<arguments.length;b++)u[b-1]=arguments[b];for(var T=[].slice.call(arguments,1),h=((this._e||(this._e={}))[I]||[]).slice(),v=0,p=h.length;v<p;v++)h[v].fn.apply(h[v].ctx,T)},_.prototype._resize=function(){},_.prototype.set=function(I){},_}()},function(R,y,A){A.r(y);var P,_,I,u,b,T,h,v,p,l,a=function(m){this.isVisible=!0;var g=m.on.match(/.*xywh=(\d*),(\d*),(\d*),(\d*)/);this.x=Number(g[1]),this.y=Number(g[2]),this.width=Number(g[3]),this.height=Number(g[4]),this.chars=m.resource.chars},c=function(){function m(g,L){this.rects=[],this.canvasIndex=L,this.addRect(g)}return m.prototype.addRect=function(g){var L=new a(g);L.canvasIndex=this.canvasIndex,L.index=this.rects.length,this.rects.push(L),this.rects.sort(function(M,O){return M.index-O.index})},m}(),f=A(0),N=function(){function m(){this.isEnabled=!1,this.ranges=[],this.canvases=[]}return m.prototype.allCanvasesSelected=function(){return this.canvases.length>0&&this.getAllSelectedCanvases().length===this.canvases.length},m.prototype.allRangesSelected=function(){return this.ranges.length>0&&this.getAllSelectedRanges().length===this.ranges.length},m.prototype.allSelected=function(){return this.allRangesSelected()&&this.allCanvasesSelected()},m.prototype.getAll=function(){return this.canvases.concat(this.ranges)},m.prototype.getAllSelectedCanvases=function(){return this.canvases.filter(function(g){return g.multiSelected})},m.prototype.getAllSelectedRanges=function(){return this.ranges.filter(function(g){return g.multiSelected})},m.prototype.getCanvasById=function(g){return this.canvases.filter(function(L){return f.Utils.normaliseUrl(L.id)===f.Utils.normaliseUrl(g)})[0]},m.prototype.getCanvasesByIds=function(g){for(var L=[],M=0;M<g.length;M++){var O=g[M];L.push(this.getCanvasById(O))}return L},m.prototype.getRangeCanvases=function(g){var L=g.getCanvasIds();return this.getCanvasesByIds(L)},m.prototype.selectAll=function(g){this.selectRanges(this.ranges,g),this.selectCanvases(this.canvases,g)},m.prototype.selectCanvas=function(g,L){this.canvases.filter(function(M){return M.id===g.id})[0].multiSelected=L},m.prototype.selectAllCanvases=function(g){this.selectCanvases(this.canvases,g)},m.prototype.selectCanvases=function(g,L){for(var M=0;M<g.length;M++)g[M].multiSelected=L},m.prototype.selectRange=function(g,L){var M=this.ranges.filter(function(F){return F.id===g.id})[0];M.multiSelected=L;var O=this.getRangeCanvases(M);this.selectCanvases(O,L)},m.prototype.selectAllRanges=function(g){this.selectRanges(this.ranges,g)},m.prototype.selectRanges=function(g,L){for(var M=0;M<g.length;M++){var O=g[M];O.multiSelected=L;var F=this.getCanvasesByIds(O.getCanvasIds());this.selectCanvases(F,L)}},m.prototype.setEnabled=function(g){this.isEnabled=g;for(var L=this.getAll(),M=0;M<L.length;M++){var O=L[M];O.multiSelectEnabled=this.isEnabled,g||(O.multiSelected=!1)}},m}(),V=function(){function m(g,L){this.items=[],this.resource=g,this.label=L}return m.prototype.addItem=function(g){this.items.push(g)},m.prototype.addMetadata=function(g,L){L===void 0&&(L=!1);for(var M=0;M<g.length;M++){var O=g[M];O.isRootLevel=L,this.addItem(O)}},m}();(function(m){m.DATE="date",m.NONE="none"})(P||(P={})),function(m){m.BOOKMARKING="oa:bookmarking",m.CLASSIFYING="oa:classifying",m.COMMENTING="oa:commenting",m.DESCRIBING="oa:describing",m.EDITING="oa:editing",m.HIGHLIGHTING="oa:highlighting",m.IDENTIFYING="oa:identifying",m.LINKING="oa:linking",m.MODERATING="oa:moderating",m.PAINTING="sc:painting",m.QUESTIONING="oa:questioning",m.REPLYING="oa:replying",m.TAGGING="oa:tagging",m.TRANSCRIBING="oad:transcribing"}(_||(_={})),function(m){m.AUTO_ADVANCE="auto-advance",m.CONTINUOUS="continuous",m.FACING_PAGES="facing-pages",m.HIDDEN="hidden",m.INDIVIDUALS="individuals",m.MULTI_PART="multi-part",m.NO_NAV="no-nav",m.NON_PAGED="non-paged",m.PAGED="paged",m.REPEAT="repeat",m.SEQUENCE="sequence",m.THUMBNAIL_NAV="thumbnail-nav",m.TOGETHER="together",m.UNORDERED="unordered"}(I||(I={})),function(m){m.CANVAS="canvas",m.CHOICE="choice",m.CONTENT_AS_TEXT="contentastext",m.DATASET="dataset",m.DOCUMENT="document",m.IMAGE="image",m.MODEL="model",m.MOVING_IMAGE="movingimage",m.PDF="pdf",m.PHYSICAL_OBJECT="physicalobject",m.SOUND="sound",m.TEXT="text",m.TEXTUALBODY="textualbody",m.VIDEO="video"}(u||(u={})),function(m){m.ANNOTATION="annotation",m.CANVAS="canvas",m.COLLECTION="collection",m.MANIFEST="manifest",m.RANGE="range",m.SEQUENCE="sequence"}(b||(b={})),function(m){m.AUDIO_MP4="audio/mp4",m.CORTO="application/corto",m.DRACO="application/draco",m.EPUB="application/epub+zip",m.GLTF="model/gltf+json",m.JPG="image/jpeg",m.M3U8="application/vnd.apple.mpegurl",m.MP3="audio/mp3",m.MPEG_DASH="application/dash+xml",m.OBJ="text/plain",m.OPF="application/oebps-package+xml",m.PDF="application/pdf",m.PLY="application/ply",m.THREEJS="application/vnd.threejs+json",m.VIDEO_MP4="video/mp4",m.WEBM="video/webm"}(T||(T={})),function(m){m.DOC="application/msword",m.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",m.PDF="application/pdf"}(h||(h={})),function(m){m.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",m.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",m.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",m.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",m.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",m.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",m.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",m.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",m.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",m.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",m.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",m.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",m.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",m.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",m.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",m.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",m.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",m.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",m.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",m.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",m.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",m.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",m.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",m.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",m.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",m.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",m.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",m.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",m.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",m.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",m.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",m.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",m.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",m.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",m.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",m.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",m.SEARCH_0="http://iiif.io/api/search/0/search",m.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",m.SEARCH_1="http://iiif.io/api/search/1/search",m.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",m.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",m.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",m.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",m.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",m.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",m.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"}(v||(v={})),function(m){m.BOTTOM_TO_TOP="bottom-to-top",m.LEFT_TO_RIGHT="left-to-right",m.RIGHT_TO_LEFT="right-to-left",m.TOP_TO_BOTTOM="top-to-bottom"}(p||(p={})),function(m){m.CONTINUOUS="continuous",m.INDIVIDUALS="individuals",m.NON_PAGED="non-paged",m.PAGED="paged",m.TOP="top"}(l||(l={}));var H=function(){function m(){}return m.manifestNotLoaded="Manifest has not loaded yet",m}(),Y=function(){function m(g){this.options=g,this.iiifResource=this.options.iiifResource,this.manifestUri=this.options.manifestUri,this.manifest=this.options.manifest,this.collectionIndex=this.options.collectionIndex||0,this.manifestIndex=this.options.manifestIndex||0,this.sequenceIndex=this.options.sequenceIndex||0,this.canvasIndex=this.options.canvasIndex||0}return m.prototype.getAutoCompleteService=function(){var g=this.getSearchService(),L=null;return g&&((L=g.getService(v.SEARCH_0_AUTO_COMPLETE))||(L=g.getService(v.SEARCH_1_AUTO_COMPLETE))),L},m.prototype.getAttribution=function(){if(!this.manifest)throw new Error(H.manifestNotLoaded);var g=this.manifest.getAttribution();return g?f.LanguageMap.getValue(g,this.options.locale):null},m.prototype.getCanvases=function(){return this.getCurrentSequence().getCanvases()},m.prototype.getCanvasById=function(g){return this.getCurrentSequence().getCanvasById(g)},m.prototype.getCanvasesById=function(g){for(var L=[],M=0;M<g.length;M++){var O=g[M],F=this.getCanvasById(O);F&&L.push(F)}return L},m.prototype.getCanvasByIndex=function(g){return this.getCurrentSequence().getCanvasByIndex(g)},m.prototype.getCanvasIndexById=function(g){return this.getCurrentSequence().getCanvasIndexById(g)},m.prototype.getCanvasIndexByLabel=function(g){var L=this.getManifestType()===f.ManifestType.MANUSCRIPT;return this.getCurrentSequence().getCanvasIndexByLabel(g,L)},m.prototype.getCanvasRange=function(g,L){var M=this.getCanvasRanges(g);if(L){for(var O=0;O<M.length;O++){var F=M[O];if(F.path===L)return F}return null}return M[0]},m.prototype.getCanvasRanges=function(g){if(!this.manifest)throw new Error(H.manifestNotLoaded);return g.ranges||(g.ranges=this.manifest.getAllRanges().filter(function(L){return L.getCanvasIds().some(function(M){return f.Utils.normaliseUrl(M)===f.Utils.normaliseUrl(g.id)})})),g.ranges},m.prototype.getCollectionIndex=function(g){if(!g.parentCollection||g.parentCollection.parentCollection)return g.parentCollection?g.parentCollection.index:void 0},m.prototype.getCurrentCanvas=function(){return this.getCurrentSequence().getCanvasByIndex(this.canvasIndex)},m.prototype.getCurrentSequence=function(){return this.getSequenceByIndex(this.sequenceIndex)},m.prototype.getDescription=function(){if(!this.manifest)throw new Error(H.manifestNotLoaded);var g=this.manifest.getDescription();return g?f.LanguageMap.getValue(g,this.options.locale):null},m.prototype.getLabel=function(){if(!this.manifest)throw new Error(H.manifestNotLoaded);var g=this.manifest.getLabel();return g?f.LanguageMap.getValue(g,this.options.locale):null},m.prototype.getLastCanvasLabel=function(g){return this.getCurrentSequence().getLastCanvasLabel(g)},m.prototype.getFirstPageIndex=function(){return 0},m.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},m.prototype.getLicense=function(){if(!this.manifest)throw new Error(H.manifestNotLoaded);return this.manifest.getLicense()},m.prototype.getLogo=function(){if(!this.manifest)throw new Error(H.manifestNotLoaded);return this.manifest.getLogo()},m.prototype.getManifestType=function(){if(!this.manifest)throw new Error(H.manifestNotLoaded);var g=this.manifest.getManifestType();return g===f.ManifestType.EMPTY&&(g=f.ManifestType.MONOGRAPH),g},m.prototype.getMetadata=function(g){if(!this.manifest)throw new Error(H.manifestNotLoaded);var L=[],M=this.manifest.getMetadata(),O=new V(this.manifest),F=this.options.locale;M&&M.length&&O.addMetadata(M,!0),this.manifest.getDescription().length&&((G=new f.LabelValuePair(F)).label=[new f.Language("description",F)],G.value=this.manifest.getDescription(),G.isRootLevel=!0,O.addItem(G)),this.manifest.getAttribution().length&&((G=new f.LabelValuePair(F)).label=[new f.Language("attribution",F)],G.value=this.manifest.getAttribution(),G.isRootLevel=!0,O.addItem(G));var z=this.manifest.getLicense();if(z){var S={label:"license",value:g&&g.licenseFormatter?g.licenseFormatter.format(z):z};(G=new f.LabelValuePair(F)).parse(S),G.isRootLevel=!0,O.addItem(G)}if(this.manifest.getLogo()){var G;S={label:"logo",value:'<img src="'+this.manifest.getLogo()+'"/>'},(G=new f.LabelValuePair(F)).parse(S),G.isRootLevel=!0,O.addItem(G)}return L.push(O),g?this._parseMetadataOptions(g,L):L},m.prototype.getRequiredStatement=function(){if(!this.manifest)throw new Error(H.manifestNotLoaded);var g=this.manifest.getRequiredStatement();return g?{label:g.getLabel(),value:g.getValue()}:null},m.prototype._parseMetadataOptions=function(g,L){var M=this.getCurrentSequence(),O=M.getMetadata();if(O&&O.length){var F=new V(M);F.addMetadata(O),L.push(F)}if(g.range){var z=this._getRangeMetadata([],g.range);z=z.reverse(),L=L.concat(z)}if(g.canvases&&g.canvases.length)for(var S=0;S<g.canvases.length;S++){var G=g.canvases[S],te=G.getMetadata();if(te&&te.length){var re=new V(G);re.addMetadata(G.getMetadata()),L.push(re)}for(var ue=G.getImages(),fe=0;fe<ue.length;fe++){var pe=ue[fe],_e=pe.getMetadata();if(_e&&_e.length){var he=new V(pe);he.addMetadata(_e),L.push(he)}}}return L},m.prototype._getRangeMetadata=function(g,L){var M=L.getMetadata();if(M&&M.length){var O=new V(L);O.addMetadata(M),g.push(O)}else if(L.parentRange)return this._getRangeMetadata(g,L.parentRange);return g},m.prototype.getMultiSelectState=function(){return this._multiSelectState||(this._multiSelectState=new N,this._multiSelectState.ranges=this.getRanges().slice(0),this._multiSelectState.canvases=this.getCurrentSequence().getCanvases().slice(0)),this._multiSelectState},m.prototype.getCurrentRange=function(){return this.rangeId?this.getRangeById(this.rangeId):null},m.prototype.getPosterCanvas=function(){if(!this.manifest)throw new Error(H.manifestNotLoaded);return this.manifest.getPosterCanvas()},m.prototype.getPosterImage=function(){var g=this.getPosterCanvas();if(g){var L=g.getContent();if(L&&L.length)return L[0].getBody()[0].id}return null},m.prototype.getPreviousRange=function(g){var L=null;if(L=g||this.getCurrentRange()){var M=this.getFlattenedTree();if(M)for(var O=0;O<M.length;O++){var F=M[O];if(F&&F.data.id===L.id){for(;O>0;)return M[--O].data;break}}}return null},m.prototype.getNextRange=function(g){var L=null;if(L=g||this.getCurrentRange()){var M=this.getFlattenedTree();if(M)for(var O=0;O<M.length;O++){var F=M[O];if(F&&F.data.id===L.id){for(;O<M.length-1;){var z=M[++O];if(z.data.canvases&&z.data.canvases.length)return z.data}break}}}return null},m.prototype.getFlattenedTree=function(g){var L=null;return(L=g||this.getTree())?this._flattenTree(L,"nodes"):null},m.prototype._flattenTree=function(g,L){var M=this,O=[g];return g[L]&&g[L].length>0?O.concat(g[L].map(function(F){return M._flattenTree(F,L)}).reduce(function(F,z){return F.concat(z)},[])):O},m.prototype.getRanges=function(){return this.manifest.getAllRanges()},m.prototype.getRangeByPath=function(g){if(!this.manifest)throw new Error(H.manifestNotLoaded);return this.manifest.getRangeByPath(g)},m.prototype.getRangeById=function(g){if(!this.manifest)throw new Error(H.manifestNotLoaded);return this.manifest.getRangeById(g)},m.prototype.getRangeCanvases=function(g){var L=g.getCanvasIds();return this.getCanvasesById(L)},m.prototype.getRelated=function(){if(!this.manifest)throw new Error(H.manifestNotLoaded);return this.manifest.getRelated()},m.prototype.getSearchService=function(){if(!this.manifest)throw new Error(H.manifestNotLoaded);var g=this.manifest.getService(v.SEARCH_0);return g||(g=this.manifest.getService(v.SEARCH_1)),g},m.prototype.getSeeAlso=function(){if(!this.manifest)throw new Error(H.manifestNotLoaded);return this.manifest.getSeeAlso()},m.prototype.getSequenceByIndex=function(g){if(!this.manifest)throw new Error(H.manifestNotLoaded);return this.manifest.getSequenceByIndex(g)},m.prototype.getShareServiceUrl=function(){if(!this.manifest)throw new Error(H.manifestNotLoaded);var g=null,L=this.manifest.getService(v.SHARE_EXTENSIONS);return L&&(L.length&&(L=L[0]),g=L.__jsonld.shareUrl),g},m.prototype._getSortedTreeNodesByDate=function(g,L){var M=this.getFlattenedTree(L);if(M){var O=M.filter(function(F){return F.data.type===f.TreeNodeType.MANIFEST});this.createDecadeNodes(g,M),this.sortDecadeNodes(g),this.createYearNodes(g,M),this.sortYearNodes(g),this.createMonthNodes(g,O),this.sortMonthNodes(g),this.createDateNodes(g,O),this.pruneDecadeNodes(g)}},m.prototype.getStartCanvasIndex=function(){return this.getCurrentSequence().getStartCanvasIndex()},m.prototype.getThumbs=function(g,L){return this.getCurrentSequence().getThumbs(g,L)},m.prototype.getTopRanges=function(){if(!this.manifest)throw new Error(H.manifestNotLoaded);return this.manifest.getTopRanges()},m.prototype.getTotalCanvases=function(){return this.getCurrentSequence().getTotalCanvases()},m.prototype.getTrackingLabel=function(){if(!this.manifest)throw new Error(H.manifestNotLoaded);return this.manifest.getTrackingLabel()},m.prototype._getTopRanges=function(){return this.iiifResource.getTopRanges()},m.prototype.getTree=function(g,L){if(g===void 0&&(g=0),L===void 0&&(L=P.NONE),!this.iiifResource)return null;var M;if(this.iiifResource.isCollection())M=this.iiifResource.getDefaultTree();else{var O=this._getTopRanges(),F=new f.TreeNode;if(F.label="root",F.data=this.iiifResource,!O.length)return F;M=O[g].getTree(F)}var z=new f.TreeNode;switch(L.toString()){case P.DATE.toString():if(this.treeHasNavDates(M)){this._getSortedTreeNodesByDate(z,M);break}default:z=M}return z},m.prototype.treeHasNavDates=function(g){var L=this.getFlattenedTree(g);return!!L&&L.some(function(M){return!isNaN(M.navDate)})},m.prototype.getViewingDirection=function(){if(!this.manifest)throw new Error(H.manifestNotLoaded);var g=this.getCurrentSequence().getViewingDirection();return g||(g=this.manifest.getViewingDirection()),g},m.prototype.getViewingHint=function(){if(!this.manifest)throw new Error(H.manifestNotLoaded);var g=this.getCurrentSequence().getViewingHint();return g||(g=this.manifest.getViewingHint()),g},m.prototype.hasParentCollection=function(){if(!this.manifest)throw new Error(H.manifestNotLoaded);return!!this.manifest.parentCollection},m.prototype.hasRelatedPage=function(){var g=this.getRelated();return!!g&&(g.length&&(g=g[0]),g.format==="text/html")},m.prototype.hasResources=function(){return this.getCurrentCanvas().getResources().length>0},m.prototype.isBottomToTop=function(){var g=this.getViewingDirection();return!!g&&g===p.BOTTOM_TO_TOP},m.prototype.isCanvasIndexOutOfRange=function(g){return this.getCurrentSequence().isCanvasIndexOutOfRange(g)},m.prototype.isContinuous=function(){var g=this.getViewingHint();return!!g&&g===l.CONTINUOUS},m.prototype.isFirstCanvas=function(g){return g!==void 0?this.getCurrentSequence().isFirstCanvas(g):this.getCurrentSequence().isFirstCanvas(this.canvasIndex)},m.prototype.isHorizontallyAligned=function(){return this.isLeftToRight()||this.isRightToLeft()},m.prototype.isLastCanvas=function(g){return g!==void 0?this.getCurrentSequence().isLastCanvas(g):this.getCurrentSequence().isLastCanvas(this.canvasIndex)},m.prototype.isLeftToRight=function(){var g=this.getViewingDirection();return!!g&&g===p.LEFT_TO_RIGHT},m.prototype.isMultiCanvas=function(){return this.getCurrentSequence().isMultiCanvas()},m.prototype.isMultiSequence=function(){if(!this.manifest)throw new Error(H.manifestNotLoaded);return this.manifest.isMultiSequence()},m.prototype.isPaged=function(){if(!this.manifest)throw new Error(H.manifestNotLoaded);var g=this.getViewingHint();return g?g===l.PAGED:this.manifest.isPagingEnabled()},m.prototype.isPagingAvailable=function(){return this.isPagingEnabled()&&this.getTotalCanvases()>2},m.prototype.isPagingEnabled=function(){if(!this.manifest)throw new Error(H.manifestNotLoaded);return this.manifest.isPagingEnabled()||this.getCurrentSequence().isPagingEnabled()},m.prototype.isRightToLeft=function(){var g=this.getViewingDirection();return!!g&&g===p.RIGHT_TO_LEFT},m.prototype.isTopToBottom=function(){var g=this.getViewingDirection();return!!g&&g===p.TOP_TO_BOTTOM},m.prototype.isTotalCanvasesEven=function(){return this.getCurrentSequence().isTotalCanvasesEven()},m.prototype.isUIEnabled=function(g){if(!this.manifest)throw new Error(H.manifestNotLoaded);var L=this.manifest.getService(v.UI_EXTENSIONS);if(L){var M=L.getProperty("disableUI");if(M&&(M.indexOf(g)!==-1||M.indexOf(g.toLowerCase())!==-1))return!1}return!0},m.prototype.isVerticallyAligned=function(){return this.isTopToBottom()||this.isBottomToTop()},m.prototype.createDateNodes=function(g,L){for(var M=0;M<L.length;M++){var O=L[M],F=this.getNodeYear(O),z=this.getNodeMonth(O),S=new f.TreeNode;S.id=O.id,S.label=this.getNodeDisplayDate(O),S.data=O.data,S.data.type=f.TreeNodeType.MANIFEST,S.data.year=F,S.data.month=z;var G=this.getDecadeNode(g,F);if(G){var te=this.getYearNode(G,F);if(te){var re=this.getMonthNode(te,z);re&&re.addNode(S)}}}},m.prototype.createDecadeNodes=function(g,L){for(var M=0;M<L.length;M++){var O=L[M];if(O.navDate){var F=this.getNodeYear(O),z=Number(F.toString().substr(0,3)+"9");if(!this.getDecadeNode(g,F)){var S=new f.TreeNode;S.label=F+" - "+z,S.navDate=O.navDate,S.data.startYear=F,S.data.endYear=z,g.addNode(S)}}}},m.prototype.createMonthNodes=function(g,L){for(var M=0;M<L.length;M++){var O=L[M];if(O.navDate){var F=this.getNodeYear(O),z=this.getNodeMonth(O),S=this.getDecadeNode(g,F),G=null;if(S&&(G=this.getYearNode(S,F)),S&&G&&!this.getMonthNode(G,z)){var te=new f.TreeNode;te.label=this.getNodeDisplayMonth(O),te.navDate=O.navDate,te.data.year=F,te.data.month=z,G.addNode(te)}}}},m.prototype.createYearNodes=function(g,L){for(var M=0;M<L.length;M++){var O=L[M];if(O.navDate){var F=this.getNodeYear(O),z=this.getDecadeNode(g,F);if(z&&!this.getYearNode(z,F)){var S=new f.TreeNode;S.label=F.toString(),S.navDate=O.navDate,S.data.year=F,z.addNode(S)}}}},m.prototype.getDecadeNode=function(g,L){for(var M=0;M<g.nodes.length;M++){var O=g.nodes[M];if(L>=O.data.startYear&&L<=O.data.endYear)return O}return null},m.prototype.getMonthNode=function(g,L){for(var M=0;M<g.nodes.length;M++){var O=g.nodes[M];if(L===this.getNodeMonth(O))return O}return null},m.prototype.getNodeDisplayDate=function(g){return g.navDate.toDateString()},m.prototype.getNodeDisplayMonth=function(g){return["January","February","March","April","May","June","July","August","September","October","November","December"][g.navDate.getMonth()]},m.prototype.getNodeMonth=function(g){return g.navDate.getMonth()},m.prototype.getNodeYear=function(g){return g.navDate.getFullYear()},m.prototype.getYearNode=function(g,L){for(var M=0;M<g.nodes.length;M++){var O=g.nodes[M];if(L===this.getNodeYear(O))return O}return null},m.prototype.pruneDecadeNodes=function(g){for(var L=[],M=0;M<g.nodes.length;M++){var O=g.nodes[M];O.nodes.length||L.push(O)}for(var F=0;F<L.length;F++){var z=L[F],S=g.nodes.indexOf(z);S>-1&&g.nodes.splice(S,1)}},m.prototype.sortDecadeNodes=function(g){g.nodes=g.nodes.sort(function(L,M){return L.data.startYear-M.data.startYear})},m.prototype.sortMonthNodes=function(g){for(var L=this,M=0;M<g.nodes.length;M++)for(var O=g.nodes[M],F=0;F<O.nodes.length;F++){var z=O.nodes[F];z.nodes=z.nodes.sort(function(S,G){return L.getNodeMonth(S)-L.getNodeMonth(G)})}},m.prototype.sortYearNodes=function(g){for(var L=this,M=0;M<g.nodes.length;M++){var O=g.nodes[M];O.nodes=O.nodes.sort(function(F,z){return L.getNodeYear(F)-L.getNodeYear(z)})}},m}(),ee=function(){function m(g){this._options=g,this._options.locale=this._options.locale||"en-GB"}return m.prototype.bootstrap=function(g,L){var M=this;return new Promise(function(O,F){g&&L&&(O=g,F=L),f.Utils.loadManifest(M._options.manifestUri).then(function(z){M._loaded(M,z,O,F)})})},m.prototype._loaded=function(g,L,M,O){var F=f.Utils.parseManifest(L,{locale:g._options.locale});if(F){g._options.iiifResource||(g._options.iiifResource=F);var z=g._options.collectionIndex,S=g._options.manifestIndex;if(F.getIIIFResourceType()===b.COLLECTION){var G=F.getManifests(),te=F.getCollections();G.length||z!==void 0||(z=0),z!==void 0&&te&&te.length?F.getCollectionByIndex(z).then(function(ue){ue||O("Collection index not found"),ue.getTotalManifests()===0&&S===0&&ue.getTotalCollections()>0?(g._options.collectionIndex=0,g._options.manifestUri=ue.id,g.bootstrap(M,O)):S!==void 0&&ue.getManifestByIndex(S).then(function(fe){g._options.manifest=fe;var pe=new Y(g._options);M(pe)})}):F.getManifestByIndex(g._options.manifestIndex).then(function(ue){g._options.manifest=ue;var fe=new Y(g._options);M(fe)})}else{g._options.manifest=F;var re=new Y(g._options);M(re)}}else console.error("Unable to load IIIF resource")},m}(),K=A(1),W=function(){function m(g,L){this.authHoldingPage=null,this.clickThroughService=null,this.externalService=null,this.isProbed=!1,this.isResponseHandled=!1,this.kioskService=null,this.loginService=null,this.logoutService=null,this.probeService=null,this.restrictedService=null,this.tokenService=null,g.externalResource=this,this.dataUri=this._getDataUri(g),this.index=g.index,this.authAPIVersion=L.authApiVersion,this._parseAuthServices(g),this._parseCanvasDimensions(g)}return m.prototype._getImageServiceDescriptor=function(g){for(var L=null,M=0;M<g.length;M++){var O=g[M],F=O.id;F.endsWith("/")||(F+="/"),f.Utils.isImageProfile(O.getProfile())&&(L=F+"info.json")}return L},m.prototype._getDataUri=function(g){var L=g.getContent(),M=g.getImages(),O=null;if(L&&L.length){var F=L[0].getBody();return F.length?(z=F[0].getServices()).length&&(O=this._getImageServiceDescriptor(z))?O:F[0].id:null}if(M&&M.length){var z,S=M[0].getResource();return(z=S.getServices()).length&&(O=this._getImageServiceDescriptor(z))?O:S.id}var G=g.getService(v.IXIF);return G?G.getInfoUri():g.id},m.prototype._parseAuthServices=function(g){if(this.authAPIVersion===.9)this.clickThroughService=f.Utils.getService(g,v.AUTH_0_CLICK_THROUGH),this.loginService=f.Utils.getService(g,v.AUTH_0_LOGIN),this.restrictedService=f.Utils.getService(g,v.AUTH_0_RESTRICTED),this.clickThroughService?(this.logoutService=this.clickThroughService.getService(v.AUTH_0_LOGOUT),this.tokenService=this.clickThroughService.getService(v.AUTH_0_TOKEN)):this.loginService?(this.logoutService=this.loginService.getService(v.AUTH_0_LOGOUT),this.tokenService=this.loginService.getService(v.AUTH_0_TOKEN)):this.restrictedService&&(this.logoutService=this.restrictedService.getService(v.AUTH_0_LOGOUT),this.tokenService=this.restrictedService.getService(v.AUTH_0_TOKEN));else{if(g.isCanvas!==void 0&&g.isCanvas()){var L=g.getContent();if(L&&L.length){var M=L[0].getBody();M&&M.length&&(g=M[0])}}this.clickThroughService=f.Utils.getService(g,v.AUTH_1_CLICK_THROUGH),this.loginService=f.Utils.getService(g,v.AUTH_1_LOGIN),this.externalService=f.Utils.getService(g,v.AUTH_1_EXTERNAL),this.kioskService=f.Utils.getService(g,v.AUTH_1_KIOSK),this.clickThroughService?(this.logoutService=this.clickThroughService.getService(v.AUTH_1_LOGOUT),this.tokenService=this.clickThroughService.getService(v.AUTH_1_TOKEN),this.probeService=this.clickThroughService.getService(v.AUTH_1_PROBE)):this.loginService?(this.logoutService=this.loginService.getService(v.AUTH_1_LOGOUT),this.tokenService=this.loginService.getService(v.AUTH_1_TOKEN),this.probeService=this.loginService.getService(v.AUTH_1_PROBE)):this.externalService?(this.logoutService=this.externalService.getService(v.AUTH_1_LOGOUT),this.tokenService=this.externalService.getService(v.AUTH_1_TOKEN),this.probeService=this.externalService.getService(v.AUTH_1_PROBE)):this.kioskService&&(this.logoutService=this.kioskService.getService(v.AUTH_1_LOGOUT),this.tokenService=this.kioskService.getService(v.AUTH_1_TOKEN),this.probeService=this.kioskService.getService(v.AUTH_1_PROBE))}},m.prototype._parseCanvasDimensions=function(g){var L=g.getImages();if(L&&L.length){var M=L[0].getResource();this.width=M.getWidth(),this.height=M.getHeight()}else if((L=g.getContent()).length){var O=L[0].getBody();O.length&&(this.width=O[0].getWidth(),this.height=O[0].getHeight())}},m.prototype._parseDescriptorDimensions=function(g){g.width!==void 0&&(this.width=g.width),g.height!==void 0&&(this.height=g.height)},m.prototype.isAccessControlled=function(){return!!(this.clickThroughService||this.loginService||this.externalService||this.kioskService||this.probeService)},m.prototype.hasServiceDescriptor=function(){return!!this.dataUri&&this.dataUri.endsWith("info.json")},m.prototype.getData=function(g){var L=this;return L.data={},new Promise(function(M,O){if(L.dataUri)if(L.probeService){L.isProbed=!0;var F=new XMLHttpRequest;F.open("GET",L.probeService.id,!0),F.withCredentials=!0,F.onload=function(){var G=JSON.parse(F.responseText);unescape(G.contentLocation)!==L.dataUri?L.status=K.MOVED_TEMPORARILY:L.status=K.OK,M(L)},F.onerror=function(){L.status=F.status,M(L)},F.send()}else{var z="GET";if(!L.hasServiceDescriptor()){if(!L.isAccessControlled())return L.status=K.OK,void M(L);z="HEAD"}var S=new XMLHttpRequest;S.open(z,L.dataUri,!0),g&&S.setRequestHeader("Authorization","Bearer "+g.accessToken),S.onload=function(){var G=JSON.parse(S.responseText);if(G){var te=unescape(G["@id"]);L.data=G,L._parseAuthServices(L.data),L._parseDescriptorDimensions(L.data),te.endsWith("/info.json")&&(te=te.substr(0,te.lastIndexOf("/")));var re=L.dataUri;re&&re.endsWith("/info.json")&&(re=re.substr(0,re.lastIndexOf("/"))),te!==re&&L.loginService?L.status=K.MOVED_TEMPORARILY:L.status=K.OK,M(L)}else L.status=K.OK,M(L)},S.onerror=function(){L.status=S.status,S.responseText&&L._parseAuthServices(JSON.parse(S.responseText)),M(L)},S.send()}else O("There is no dataUri to fetch")})},m}(),le=function(){},oe=function(){},de=function(m,g){this.value=m,this.locale=g},Ie=function(){function m(g){this.labels=g}return m.prototype.format=function(g){return g.indexOf("<a")!=-1?g:'<a href="'+g+'">'+(this.labels[g]?this.labels[g]:g)+"</a>"},m}();A.d(y,"loadManifest",function(){return Re}),A.d(y,"AnnotationGroup",function(){return c}),A.d(y,"AnnotationRect",function(){return a}),A.d(y,"Bootstrapper",function(){return ee}),A.d(y,"ExternalResource",function(){return W}),A.d(y,"Helper",function(){return Y}),A.d(y,"ILabelValuePair",function(){return le}),A.d(y,"MetadataGroup",function(){return V}),A.d(y,"MetadataOptions",function(){return oe}),A.d(y,"MultiSelectState",function(){return N}),A.d(y,"Translation",function(){return de}),A.d(y,"TreeSortType",function(){return P}),A.d(y,"UriLabeller",function(){return Ie});var Re=function(m){return new ee(m).bootstrap()}}])})}),Mo=class{constructor(s){this.value=s}toString(){return this.value}},xo=Mo;xo.image=new Mo("image"),xo.page=new Mo("page");var pd=At(Nr()),hd=At(cd()),ut=At(Nr()),Gu;(function(s){s.BOOKMARKING="oa:bookmarking",s.CLASSIFYING="oa:classifying",s.COMMENTING="oa:commenting",s.DESCRIBING="oa:describing",s.EDITING="oa:editing",s.HIGHLIGHTING="oa:highlighting",s.IDENTIFYING="oa:identifying",s.LINKING="oa:linking",s.MODERATING="oa:moderating",s.PAINTING="sc:painting",s.QUESTIONING="oa:questioning",s.REPLYING="oa:replying",s.TAGGING="oa:tagging",s.TRANSCRIBING="oad:transcribing"})(Gu||(Gu={}));var Hu;(function(s){s.AUTO_ADVANCE="auto-advance",s.CONTINUOUS="continuous",s.FACING_PAGES="facing-pages",s.HIDDEN="hidden",s.INDIVIDUALS="individuals",s.MULTI_PART="multi-part",s.NO_NAV="no-nav",s.NON_PAGED="non-paged",s.PAGED="paged",s.REPEAT="repeat",s.SEQUENCE="sequence",s.THUMBNAIL_NAV="thumbnail-nav",s.TOGETHER="together",s.UNORDERED="unordered"})(Hu||(Hu={}));var ju;(function(s){s.CANVAS="canvas",s.CHOICE="choice",s.OA_CHOICE="oa:choice",s.CONTENT_AS_TEXT="contentastext",s.DATASET="dataset",s.DOCUMENT="document",s.IMAGE="image",s.MODEL="model",s.MOVING_IMAGE="movingimage",s.PDF="pdf",s.PHYSICAL_OBJECT="physicalobject",s.SOUND="sound",s.TEXT="text",s.TEXTUALBODY="textualbody",s.VIDEO="video"})(ju||(ju={}));var Bu;(function(s){s.ANNOTATION="annotation",s.CANVAS="canvas",s.COLLECTION="collection",s.MANIFEST="manifest",s.RANGE="range",s.SEQUENCE="sequence"})(Bu||(Bu={}));var $u;(function(s){s.AUDIO_MP4="audio/mp4",s.CORTO="application/corto",s.DICOM="application/dicom",s.DRACO="application/draco",s.EPUB="application/epub+zip",s.GIRDER="image/vnd.kitware.girder",s.GLB="model/gltf-binary",s.GLTF="model/gltf+json",s.IIIF_PRESENTATION_2='application/ld+json;profile="http://iiif.io/api/presentation/2/context.json"',s.IIIF_PRESENTATION_3='application/ld+json;profile="http://iiif.io/api/presentation/3/context.json"',s.JPG="image/jpeg",s.M3U8="application/vnd.apple.mpegurl",s.MP3="audio/mp3",s.MPEG_DASH="application/dash+xml",s.OBJ="text/plain",s.OPF="application/oebps-package+xml",s.PDF="application/pdf",s.PLY="application/ply",s.THREEJS="application/vnd.threejs+json",s.USDZ="model/vnd.usd+zip",s.VIDEO_MP4="video/mp4",s.WAV="audio/wav",s.WEBM="video/webm"})($u||($u={}));var zu;(function(s){s.DOC="application/msword",s.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",s.PDF="application/pdf"})(zu||(zu={}));var Wu;(function(s){s.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",s.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",s.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",s.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",s.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",s.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",s.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",s.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",s.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",s.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",s.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",s.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",s.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",s.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",s.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",s.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",s.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",s.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",s.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",s.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",s.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",s.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",s.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",s.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",s.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",s.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",s.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",s.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",s.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",s.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",s.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",s.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",s.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",s.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",s.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",s.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",s.SEARCH_0="http://iiif.io/api/search/0/search",s.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",s.SEARCH_1="http://iiif.io/api/search/1/search",s.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",s.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",s.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",s.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",s.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",s.DOWNLOAD_EXTENSIONS="http://universalviewer.io/download-extensions-profile",s.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",s.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"})(Wu||(Wu={}));var kn;(function(s){s.BOTTOM_TO_TOP="bottom-to-top",s.LEFT_TO_RIGHT="left-to-right",s.RIGHT_TO_LEFT="right-to-left",s.TOP_TO_BOTTOM="top-to-bottom"})(kn||(kn={}));var Gi;(function(s){s.CONTINUOUS="continuous",s.INDIVIDUALS="individuals",s.NON_PAGED="non-paged",s.PAGED="paged",s.TOP="top"})(Gi||(Gi={}));var Tr=At(Nr()),gd=At(Nr());function ko(){return ko=Object.assign||function(s){for(var k=1;k<arguments.length;k++){var R=arguments[k];for(var y in R)Object.prototype.hasOwnProperty.call(R,y)&&(s[y]=R[y])}return s},ko.apply(this,arguments)}function vd(s,k){s.prototype=Object.create(k.prototype),s.prototype.constructor=s,Do(s,k)}function Do(s,k){return Do=Object.setPrototypeOf||function(R,y){return R.__proto__=y,R},Do(s,k)}function md(s,k){if(s==null)return{};var R={},y=Object.keys(s),A,P;for(P=0;P<y.length;P++)A=y[P],!(k.indexOf(A)>=0)&&(R[A]=s[A]);return R}var Uo=new Map,Ro=new WeakMap,Qu=0,_d=void 0;function yd(s){return s?(Ro.has(s)||(Qu+=1,Ro.set(s,Qu.toString())),Ro.get(s)):"0"}function Ed(s){return Object.keys(s).sort().filter(function(k){return s[k]!==void 0}).map(function(k){return k+"_"+(k==="root"?yd(s.root):s[k])}).toString()}function bd(s){var k=Ed(s),R=Uo.get(k);if(!R){var y=new Map,A,P=new IntersectionObserver(function(_){_.forEach(function(I){var u,b=I.isIntersecting&&A.some(function(T){return I.intersectionRatio>=T});s.trackVisibility&&typeof I.isVisible>"u"&&(I.isVisible=b),(u=y.get(I.target))==null||u.forEach(function(T){T(b,I)})})},s);A=P.thresholds||(Array.isArray(s.threshold)?s.threshold:[s.threshold||0]),R={id:k,observer:P,elements:y},Uo.set(k,R)}return R}function ic(s,k,R,y){if(R===void 0&&(R={}),y===void 0&&(y=_d),typeof window.IntersectionObserver>"u"&&y!==void 0){var A=s.getBoundingClientRect();return k(y,{isIntersecting:y,target:s,intersectionRatio:typeof R.threshold=="number"?R.threshold:0,time:0,boundingClientRect:A,intersectionRect:A,rootBounds:A}),function(){}}var P=bd(R),_=P.id,I=P.observer,u=P.elements,b=u.get(s)||[];return u.has(s)||u.set(s,b),b.push(k),I.observe(s),function(){b.splice(b.indexOf(k),1),b.length===0&&(u.delete(s),I.unobserve(s)),u.size===0&&(I.disconnect(),Uo.delete(_))}}var Sd=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function Yu(s){return typeof s.children!="function"}var ac=function(s){vd(k,s);function k(y){var A;return A=s.call(this,y)||this,A.node=null,A._unobserveCb=null,A.handleNode=function(P){A.node&&(A.unobserve(),!P&&!A.props.triggerOnce&&!A.props.skip&&A.setState({inView:!!A.props.initialInView,entry:void 0})),A.node=P||null,A.observeNode()},A.handleChange=function(P,_){P&&A.props.triggerOnce&&A.unobserve(),Yu(A.props)||A.setState({inView:P,entry:_}),A.props.onChange&&A.props.onChange(P,_)},A.state={inView:!!y.initialInView,entry:void 0},A}var R=k.prototype;return R.componentDidUpdate=function(y){(y.rootMargin!==this.props.rootMargin||y.root!==this.props.root||y.threshold!==this.props.threshold||y.skip!==this.props.skip||y.trackVisibility!==this.props.trackVisibility||y.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},R.componentWillUnmount=function(){this.unobserve(),this.node=null},R.observeNode=function(){if(!(!this.node||this.props.skip)){var y=this.props,A=y.threshold,P=y.root,_=y.rootMargin,I=y.trackVisibility,u=y.delay,b=y.fallbackInView;this._unobserveCb=ic(this.node,this.handleChange,{threshold:A,root:P,rootMargin:_,trackVisibility:I,delay:u},b)}},R.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},R.render=function(){if(!Yu(this.props)){var y=this.state,A=y.inView,P=y.entry;return this.props.children({inView:A,entry:P,ref:this.handleNode})}var _=this.props,I=_.children,u=_.as,b=md(_,Sd);return Tr.createElement(u||"div",ko({ref:this.handleNode},b),I)},k}(Tr.Component);ac.displayName="InView";ac.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function Td(s){var k=s===void 0?{}:s,R=k.threshold,y=k.delay,A=k.trackVisibility,P=k.rootMargin,_=k.root,I=k.triggerOnce,u=k.skip,b=k.initialInView,T=k.fallbackInView,h=Tr.useRef(),v=Tr.useState({inView:!!b}),p=v[0],l=v[1],a=Tr.useCallback(function(f){h.current!==void 0&&(h.current(),h.current=void 0),!u&&f&&(h.current=ic(f,function(N,V){l({inView:N,entry:V}),V.isIntersecting&&I&&h.current&&(h.current(),h.current=void 0)},{root:_,rootMargin:P,threshold:R,trackVisibility:A,delay:y},T))},[Array.isArray(R)?R.toString():R,_,P,I,u,A,T,y]);(0,gd.useEffect)(function(){!h.current&&p.entry&&!I&&!u&&l({inView:!!b})});var c=[a,p.inView,p.entry];return c.ref=c[0],c.inView=c[1],c.entry=c[2],c}var oc=At(fd()),Nd=({first:s,onClick:k,paged:R,selected:y,thumb:A,viewingDirection:P})=>{let[_,I]=Td({threshold:0,rootMargin:"0px 0px 0px 0px",triggerOnce:!0});return ut.default.createElement("div",{onClick:()=>k(A),className:(0,oc.default)("thumb",{first:s,placeholder:!A.uri,twoCol:R&&(P===kn.LEFT_TO_RIGHT||P===kn.RIGHT_TO_LEFT),oneCol:!R,selected:y}),tabIndex:0},ut.default.createElement("div",{ref:_,className:"wrap",style:{height:A.height+8+"px"}},I&&ut.default.createElement("img",{src:A.uri,alt:A.label})),ut.default.createElement("div",{className:"info"},ut.default.createElement("span",{className:"label",title:A.label},A.label,"\xA0"),A.data.searchResults&&ut.default.createElement("span",{className:"searchResults"},A.data.searchResults)))},Id=({onClick:s,paged:k,selected:R,thumbs:y,viewingDirection:A})=>{let P=(0,ut.useRef)(null);(0,ut.useEffect)(()=>{var u,b;(b=(u=P.current)==null?void 0:u.querySelector(`#thumb-${R[0]}`))==null||b.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},[R]);function _(u,b,T){return b===Gi.NON_PAGED?!0:u?(T-1)%2!=0:!0}let I=y.findIndex(u=>u.viewingHint!==Gi.NON_PAGED);return ut.default.createElement("div",{ref:P,className:(0,oc.default)("thumbs",{"left-to-right":A===kn.LEFT_TO_RIGHT,"right-to-left":A===kn.RIGHT_TO_LEFT,paged:k})},y.map((u,b)=>ut.default.createElement("span",{key:`thumb-${b}`,id:`thumb-${b}`},ut.default.createElement(Nd,{first:b===I,onClick:s,paged:k,selected:R.includes(b),thumb:u,viewingDirection:A}),_(k,u.viewingHint,b)&&ut.default.createElement("div",{className:"separator"}))))},Cd=Id,Ld=At(Vo()),qu;(function(s){s.BOOKMARKING="oa:bookmarking",s.CLASSIFYING="oa:classifying",s.COMMENTING="oa:commenting",s.DESCRIBING="oa:describing",s.EDITING="oa:editing",s.HIGHLIGHTING="oa:highlighting",s.IDENTIFYING="oa:identifying",s.LINKING="oa:linking",s.MODERATING="oa:moderating",s.PAINTING="sc:painting",s.QUESTIONING="oa:questioning",s.REPLYING="oa:replying",s.TAGGING="oa:tagging",s.TRANSCRIBING="oad:transcribing"})(qu||(qu={}));var Ku;(function(s){s.AUTO_ADVANCE="auto-advance",s.CONTINUOUS="continuous",s.FACING_PAGES="facing-pages",s.HIDDEN="hidden",s.INDIVIDUALS="individuals",s.MULTI_PART="multi-part",s.NO_NAV="no-nav",s.NON_PAGED="non-paged",s.PAGED="paged",s.REPEAT="repeat",s.SEQUENCE="sequence",s.THUMBNAIL_NAV="thumbnail-nav",s.TOGETHER="together",s.UNORDERED="unordered"})(Ku||(Ku={}));var Xu;(function(s){s.CANVAS="canvas",s.CHOICE="choice",s.CONTENT_AS_TEXT="contentastext",s.DOCUMENT="document",s.IMAGE="image",s.MOVING_IMAGE="movingimage",s.PDF="pdf",s.PHYSICAL_OBJECT="physicalobject",s.SOUND="sound",s.TEXTUALBODY="textualbody",s.VIDEO="video"})(Xu||(Xu={}));var Ju;(function(s){s.ANNOTATION="annotation",s.CANVAS="canvas",s.COLLECTION="collection",s.MANIFEST="manifest",s.RANGE="range",s.SEQUENCE="sequence"})(Ju||(Ju={}));var Zu;(function(s){s.AUDIO_MP4="audio/mp4",s.CORTO="application/corto",s.DRACO="application/draco",s.GLTF="model/gltf+json",s.JPG="image/jpeg",s.M3U8="application/vnd.apple.mpegurl",s.MP3="audio/mp3",s.MPEG_DASH="application/dash+xml",s.OBJ="text/plain",s.PDF="application/pdf",s.PLY="application/ply",s.THREEJS="application/vnd.threejs+json",s.VIDEO_MP4="video/mp4",s.WEBM="video/webm"})(Zu||(Zu={}));var ec;(function(s){s.DOC="application/msword",s.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",s.PDF="application/pdf"})(ec||(ec={}));var tc;(function(s){s.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",s.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",s.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",s.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",s.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",s.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",s.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",s.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",s.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",s.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",s.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",s.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",s.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",s.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",s.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",s.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",s.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",s.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",s.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",s.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",s.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",s.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",s.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",s.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",s.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",s.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",s.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",s.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",s.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",s.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",s.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",s.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",s.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",s.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",s.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",s.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",s.SEARCH_0="http://iiif.io/api/search/0/search",s.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",s.SEARCH_1="http://iiif.io/api/search/1/search",s.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",s.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",s.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",s.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",s.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",s.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",s.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"})(tc||(tc={}));var Hi;(function(s){s.BOTTOM_TO_TOP="bottom-to-top",s.LEFT_TO_RIGHT="left-to-right",s.RIGHT_TO_LEFT="right-to-left",s.TOP_TO_BOTTOM="top-to-bottom"})(Hi||(Hi={}));var nc;(function(s){s.CONTINUOUS="continuous",s.INDIVIDUALS="individuals",s.NON_PAGED="non-paged",s.PAGED="paged",s.TOP="top"})(nc||(nc={}));var Od=function(){function s(k){this.options=k,this.options.data=Object.assign({},this.data(),k.data)}return s.prototype._init=function(){return this.el=this.options.target,this.el?(this.el.innerHTML="",!0):(console.warn("element not found"),!1)},s.prototype.data=function(){return{}},s.prototype.on=function(k,R,y){var A=this._e||(this._e={});(A[k]||(A[k]=[])).push({fn:R,ctx:y})},s.prototype.fire=function(k){for(var R=[],y=1;y<arguments.length;y++)R[y-1]=arguments[y];var A=[].slice.call(arguments,1),P=((this._e||(this._e={}))[k]||[]).slice(),_=0,I=P.length;for(_;_<I;_++)P[_].fn.apply(P[_].ctx,A)},s.prototype._resize=function(){},s.prototype.set=function(k){},s}(),wd=function(){var s=function(k,R){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,A){y.__proto__=A}||function(y,A){for(var P in A)A.hasOwnProperty(P)&&(y[P]=A[P])},s(k,R)};return function(k,R){s(k,R);function y(){this.constructor=k}k.prototype=R===null?Object.create(R):(y.prototype=R.prototype,new y)}}(),Ad=function(s){wd(k,s);function k(R){var y=s.call(this,R)||this;return y._data=y.data(),y._data=y.options.data,y._init(),y._resize(),y}return k.prototype._init=function(){var R=this;s.prototype._init.call(this),this._$element=$(this.el),this._$header=$('<div class="header"></div>'),this._$element.append(this._$header),this._$leftOptions=$('<div class="left"></div>'),this._$header.append(this._$leftOptions),this._$rightOptions=$('<div class="right"></div>'),this._$header.append(this._$rightOptions),this._$sizeDownButton=$('<input class="btn btn-default size-down" type="button" value="-" />'),this._$leftOptions.append(this._$sizeDownButton),this._$sizeRange=$('<input type="range" name="size" min="1" max="10" value="'+this.options.data.initialZoom+'" />'),this._$leftOptions.append(this._$sizeRange),this._$sizeUpButton=$('<input class="btn btn-default size-up" type="button" value="+" />'),this._$leftOptions.append(this._$sizeUpButton),this._$multiSelectOptions=$('<div class="multiSelectOptions"></div>'),this._$rightOptions.append(this._$multiSelectOptions),this._$selectAllButton=$('<div class="multiSelectAll"><input id="multiSelectAll" type="checkbox" tabindex="0" /><label for="multiSelectAll">'+this.options.data.content.selectAll+"</label></div>"),this._$multiSelectOptions.append(this._$selectAllButton),this._$selectAllButtonCheckbox=$(this._$selectAllButton.find("input:checkbox")),this._$selectButton=$('<a class="select" href="#">'+this.options.data.content.select+"</a>"),this._$multiSelectOptions.append(this._$selectButton),this._$main=$('<div class="main"></div>'),this._$element.append(this._$main),this._$thumbs=$('<div class="thumbs"></div>'),this._$main.append(this._$thumbs),this._$sizeDownButton.on("click",function(){var A=Number(R._$sizeRange.val())-1;A>=Number(R._$sizeRange.attr("min"))&&(R._$sizeRange.val(A.toString()),R._$sizeRange.trigger("change"),R.fire(Sr.DECREASE_SIZE))}),this._$sizeUpButton.on("click",function(){var A=Number(R._$sizeRange.val())+1;A<=Number(R._$sizeRange.attr("max"))&&(R._$sizeRange.val(A.toString()),R._$sizeRange.trigger("change"),R.fire(Sr.INCREASE_SIZE))}),this._$sizeRange.on("change",function(){R._updateThumbs(),R._scrollToThumb(R._getSelectedThumbIndex())}),this._$selectAllButton.checkboxButton(function(A){var P=R._getMultiSelectState();P&&(A?P.selectAll(!0):P.selectAll(!1)),R.set(R.options.data)}),this._$selectButton.on("click",function(){var A=R._getMultiSelectState();if(A){var P=A.getAllSelectedCanvases().map(function(_){return _.id});R.fire(Sr.MULTISELECTION_MADE,P)}}),this._setRange(),$.templates({galleryThumbsTemplate:`				<div class="{{:~galleryThumbClassName()}}" data-src="{{>uri}}" data-index="{{>index}}" data-visible="{{>visible}}" data-width="{{>width}}" data-height="{{>height}}" data-initialwidth="{{>initialWidth}}" data-initialheight="{{>initialHeight}}">						<div class="wrap" style="width:{{>initialWidth}}px; height:{{>initialHeight}}px" data-link="class{merge:multiSelected toggle='multiSelected'}">						{^{if multiSelectEnabled}}								<input id="thumb-checkbox-{{>id}}" type="checkbox" data-link="checked{:multiSelected ? 'checked' : ''}" class="multiSelect" />						{{/if}}						</div>						<div class="info">								<span class="index" style="width:{{>initialWidth}}px">{{:#index + 1}}</span>								<span class="label" style="width:{{>initialWidth}}px" title="{{>label}}">{{>label}}&nbsp;</span>								<span class="searchResults" title="{{:~galleryThumbSearchResultsTitle()}}">{{>data.searchResults}}</span>						</div>				</div>`});var y=this;return $.views.helpers({galleryThumbClassName:function(){var A="thumb preLoad";return this.data.index===0&&(A+=" first"),this.data.uri||(A+=" placeholder"),A},galleryThumbSearchResultsTitle:function(){var A=Number(this.data.data.searchResults);return A?A>1?Fu.format(y.options.data.content.searchResults,A.toString()):Fu.format(y.options.data.content.searchResult,A.toString()):null}}),this._$main.on("scroll",function(){R._updateThumbs()},this.options.data.scrollStopDuration),this.options.data.sizingEnabled||this._$sizeRange.hide(),!0},k.prototype.data=function(){return{chunkedResizingThreshold:400,content:{searchResult:"{0} search result",searchResults:"{0} search results",select:"Select",selectAll:"Select All"},debug:!1,helper:null,imageFadeInDuration:300,initialZoom:6,minLabelWidth:20,pageModeEnabled:!1,scrollStopDuration:100,searchResults:[],sizingEnabled:!0,thumbHeight:320,thumbLoadPadding:3,thumbWidth:200,viewingDirection:Hi.LEFT_TO_RIGHT}},k.prototype.set=function(R){if(this._data=Object.assign(this._data,R),this._data.helper&&this._data.thumbWidth!==void 0&&this._data.thumbHeight!==void 0&&(this._thumbs=this._data.helper.getThumbs(this._data.thumbWidth,this._data.thumbHeight)),this._data.viewingDirection&&(this._data.viewingDirection===Hi.BOTTOM_TO_TOP&&this._thumbs.reverse(),this._$thumbs.addClass(this._data.viewingDirection)),this._data.searchResults&&this._data.searchResults.length)for(var y=0;y<this._data.searchResults.length;y++){var A=this._data.searchResults[y],P=this._thumbs.filter(function(v){return v.index===A.canvasIndex})[0],_=$.extend(!0,{},P.data);_.searchResults=A.rects.length,P.data=_}this._thumbsCache=null,this._createThumbs(),this._data.helper&&this.selectIndex(this._data.helper.canvasIndex);var I=this._getMultiSelectState();if(I&&I.isEnabled){this._$multiSelectOptions.show(),this._$thumbs.addClass("multiSelect");for(var y=0;y<I.canvases.length;y++){var u=I.canvases[y],P=this._getThumbByCanvas(u);this._setThumbMultiSelected(P,u.multiSelected)}for(var y=0;y<I.ranges.length;y++)for(var b=I.ranges[y],T=this._getThumbsByRange(b),h=0;h<T.length;h++){var P=T[h];this._setThumbMultiSelected(P,b.multiSelected)}}else this._$multiSelectOptions.hide(),this._$thumbs.removeClass("multiSelect")},k.prototype._update=function(){var R=this._getMultiSelectState();if(R&&R.isEnabled){this._$selectAllButtonCheckbox.prop("checked",R.allSelected());var y=R.getAll().filter(function(A){return A.multiSelected}).length>0;y?this._$selectButton.show():this._$selectButton.hide()}},k.prototype._getMultiSelectState=function(){return this._data.helper?this._data.helper.getMultiSelectState():null},k.prototype._createThumbs=function(){var R=this;if(this._thumbs){this._$thumbs.undelegate(".thumb","click"),this._$thumbs.empty();for(var y=this._getMultiSelectState(),A=[],P=0;P<this._thumbs.length;P++){var _=this._thumbs[P],I=_.width,u=_.height;_.initialWidth=I,A.push(u),_.multiSelectEnabled=y?y.isEnabled:!1}for(var b=Ao.median(A),T=0;T<this._thumbs.length;T++){var _=this._thumbs[T];_.initialHeight=b}if(this._$thumbs.link($.templates.galleryThumbsTemplate,this._thumbs),y&&!y.isEnabled)this._$thumbs.delegate(".thumb","click",function(a){a.preventDefault();var c=$.view(this).data;R.fire(Sr.THUMB_SELECTED,c)});else for(var h=this._$thumbs.find(".thumb"),v=function(){var a=p,c=$(h[l]);c.checkboxButton(function(f){var N=$.view(this).data;a._setThumbMultiSelected(N,!N.multiSelected);var V=a.options.data.helper.getCanvasRange(N.data),H=a._getMultiSelectState();H&&(V?H.selectRange(V,N.multiSelected):H.selectCanvas(N.data,N.multiSelected)),a._update(),a.fire(Sr.THUMB_MULTISELECTED,N)})},p=this,l=0;l<h.length;l++)v()}},k.prototype._getThumbByCanvas=function(R){return this._thumbs.filter(function(y){return y.data.id===R.id})[0]},k.prototype._sizeThumb=function(R){var y=R.data().initialwidth,A=R.data().initialheight,P=Number(y),_=Number(A),I=Math.floor(P*this._range),u=Math.floor(_*this._range),b=R.find(".wrap"),T=R.find(".label"),h=R.find(".index"),v=R.find(".searchResults"),p=I;this._data.searchResults&&this._data.searchResults.length&&(v.show(),p=I-v.outerWidth(),this._data.minLabelWidth!==void 0&&p<this._data.minLabelWidth?(v.hide(),p=I):v.show()),this._data.pageModeEnabled?(h.hide(),T.show()):(h.show(),T.hide()),b.outerWidth(I),b.outerHeight(u),h.outerWidth(p),T.outerWidth(p)},k.prototype._loadThumb=function(R,y){var A=R.find(".wrap");if(!(A.hasClass("loading")||A.hasClass("loaded"))){R.removeClass("preLoad");var P=R.attr("data-visible"),_=this._data.imageFadeInDuration||0;if(P!=="false"){A.addClass("loading");var I=R.attr("data-src"),u=$('<img class="thumbImage" src="'+I+'" />');u.hide(),u.on("load",function(){$(this).fadeIn(_,function(){$(this).parent().switchClass("loading","loaded")})}),A.prepend(u),y&&y(u)}else A.addClass("hidden")}},k.prototype._getThumbsByRange=function(R){var y=[];if(!this._data.helper)return y;for(var A=0;A<this._thumbs.length;A++){var P=this._thumbs[A],_=P.data,I=this._data.helper.getCanvasRange(_,R.path);I&&I.id===R.id&&y.push(P)}return y},k.prototype._updateThumbs=function(){var R=!!this._data.debug;this._setRange();var y=this._$main.scrollTop(),A=this._$main.height(),P=y+A;R&&console.log("scrollTop %s, scrollBottom %s",y,P);for(var _=this._getAllThumbs(),I=0,u=0;u<_.length;u++){var b=$(_[u]),T=b.position().top,h=b.outerHeight(),v=T+h,p=h*this._data.thumbLoadPadding;T<=P+p&&v>=y-p?(I+=1,this._sizeThumb(b),b.addClass("insideScrollArea"),this._loadThumb(b)):b.removeClass("insideScrollArea")}R&&console.log("number of thumbs to update: "+I)},k.prototype._getSelectedThumbIndex=function(){return Number(this._$selectedThumb.data("index"))},k.prototype._getAllThumbs=function(){return this._thumbsCache||(this._thumbsCache=this._$thumbs.find(".thumb")),this._thumbsCache},k.prototype._getThumbByIndex=function(R){return this._$thumbs.find('[data-index="'+R+'"]')},k.prototype._scrollToThumb=function(R){var y=this._getThumbByIndex(R);this._$main.scrollTop(y.position().top)},k.prototype.selectIndex=function(R){!this._thumbs||!this._thumbs.length||(this._getAllThumbs().removeClass("selected"),this._$selectedThumb=this._getThumbByIndex(R),this._$selectedThumb.addClass("selected"),this._scrollToThumb(R),this._updateThumbs())},k.prototype._setRange=function(){var R=Ao.normalise(Number(this._$sizeRange.val()),0,10);this._range=Ao.clamp(R,.05,1)},k.prototype._setThumbMultiSelected=function(R,y){$.observable(R).setProperty("multiSelected",y)},k.prototype._resize=function(){},k}(Od),Sr=function(){function s(){}return s.DECREASE_SIZE="decreaseSize",s.INCREASE_SIZE="increaseSize",s.MULTISELECTION_MADE="multiSelectionMade",s.THUMB_SELECTED="thumbSelected",s.THUMB_MULTISELECTED="thumbMultiSelected",s}(),Rd=Fo(),Pd=class extends rc{constructor(s){super(s,!0,!0),this.isOpen=!1}create(){this.setConfig("contentLeftPanel"),super.create(),this.$gallery=Rd('<div class="iiif-gallery-component"></div>'),this.$element.append(this.$gallery)}setup(){let s=this;this.galleryComponent=new Ad({target:this.$gallery[0]}),this.galleryComponent.on("thumbSelected",function(k){s.extensionHost.publish(Le.GALLERY_THUMB_SELECTED,k),s.extensionHost.publish(Le.THUMB_SELECTED,k)},!1),this.galleryComponent.on("decreaseSize",function(){s.extensionHost.publish(Le.GALLERY_DECREASE_SIZE)},!1),this.galleryComponent.on("increaseSize",function(){s.extensionHost.publish(Le.GALLERY_INCREASE_SIZE)},!1)}databind(){this.galleryComponent.options.data=this.galleryData,this.galleryComponent.set(this.galleryData),this.resize()}show(){this.isOpen=!0,this.$element.show(),setTimeout(()=>{this.galleryComponent.selectIndex(this.extension.helper.canvasIndex)},10)}hide(){this.isOpen=!1,this.$element.hide()}resize(){super.resize();let s=this.$gallery.find(".main"),k=this.$gallery.find(".header");s.height(this.$element.height()-k.height())}},Md=At(dd()),xd=Fo(),kd=class extends rc{constructor(s){super(s,!0,!0),this.isOpen=!1}create(){this.setConfig("contentLeftPanel"),super.create(),this.$tree=xd('<div class="iiif-tree-component"></div>'),this.$element.append(this.$tree)}setup(){let s=this;this.treeComponent=new Md.TreeComponent({target:this.$tree[0],data:this.treeData}),this.treeComponent.on("treeNodeSelected",function(k){s.extensionHost.publish(Le.TREE_NODE_SELECTED,k)},!1),this.treeComponent.on("treeNodeMultiSelected",function(k){s.extensionHost.publish(Le.TREE_NODE_MULTISELECTED,k)},!1)}databind(){this.treeComponent.set(this.treeData),this.resize()}show(){this.isOpen=!0,this.$element.show()}hide(){this.isOpen=!1,this.$element.hide()}selectNode(s){this.treeComponent.selectedNode||(this.treeComponent.expandParents(s,!0),this.$tree.find("#tree-link-"+s.id)[0]),this.treeComponent.selectNode(s)}expandNode(s,k){this.treeComponent.expandNode(s,k)}getAllNodes(){return this.treeComponent.getAllNodes()}deselectCurrentNode(){this.treeComponent.deselectCurrentNode()}getNodeById(s){return this.treeComponent.getNodeById(s)}resize(){super.resize()}},Fi=At(rd()),ke=Fo(),Po=Vo().ViewingDirection,Dd=Vo().ViewingHint,Gd=class extends nd{constructor(s){super(s),this.expandFullEnabled=!1,this.isThumbsViewOpen=!1,this.isTreeViewOpen=!1,this.treeSortType=Vi.NONE}create(){this.setConfig("contentLeftPanel"),super.create(),this.extensionHost.subscribe(Le.SETTINGS_CHANGE,()=>{this.render()}),this.extensionHost.subscribe(Le.CANVAS_INDEX_CHANGE,()=>{this.render()}),this.extensionHost.subscribe(Le.GALLERY_THUMB_SELECTED,()=>{this.collapseFull()}),this.extensionHost.subscribe(Le.METRIC_CHANGE,()=>{this.extension.isDesktopMetric()||this.isFullyExpanded&&this.collapseFull()}),this.extensionHost.subscribe(Le.ANNOTATIONS,()=>{this.renderThumbs(),this.renderGallery()}),this.extensionHost.subscribe(Le.ANNOTATIONS_CLEARED,()=>{this.renderThumbs(),this.renderGallery()}),this.extensionHost.subscribe(Le.ANNOTATIONS_EMPTY,()=>{this.renderThumbs(),this.renderGallery()}),this.extensionHost.subscribe(Le.CANVAS_INDEX_CHANGE,()=>{this.isFullyExpanded&&this.collapseFull(),this.selectCurrentTreeNode(),this.updateTreeTabBySelection()}),this.extensionHost.subscribe(Le.RANGE_CHANGE,()=>{this.isFullyExpanded&&this.collapseFull(),this.selectCurrentTreeNode(),this.updateTreeTabBySelection()}),this.$tabs=ke('<div class="tabs"></div>'),this.$main.append(this.$tabs),this.$treeButton=ke('<a class="index tab" tabindex="0">'+this.content.index+"</a>"),this.$tabs.append(this.$treeButton),this.$thumbsButton=ke('<a class="thumbs tab" tabindex="0">'+this.content.thumbnails+"</a>"),this.$tabs.append(this.$thumbsButton),this.$tabsContent=ke('<div class="tabsContent"></div>'),this.$main.append(this.$tabsContent),this.$options=ke('<div class="options"></div>'),this.$tabsContent.append(this.$options),this.$topOptions=ke('<div class="top"></div>'),this.$options.append(this.$topOptions),this.$treeSelect=ke('<select aria-label="'+this.content.manifestRanges+'"></select>'),this.$topOptions.append(this.$treeSelect),this.$bottomOptions=ke('<div class="bottom"></div>'),this.$options.append(this.$bottomOptions),this.$leftOptions=ke('<div class="left"></div>'),this.$bottomOptions.append(this.$leftOptions),this.$rightOptions=ke('<div class="right"></div>'),this.$bottomOptions.append(this.$rightOptions),this.$treeViewOptions=ke('<div class="treeView"></div>'),this.$leftOptions.append(this.$treeViewOptions),this.$sortByLabel=ke('<span class="sort">'+this.content.sortBy+"</span>"),this.$treeViewOptions.append(this.$sortByLabel),this.$sortButtonGroup=ke('<div class="btn-group"></div>'),this.$treeViewOptions.append(this.$sortButtonGroup),this.$sortByDateButton=ke('<button class="btn" tabindex="0">'+this.content.date+"</button>"),this.$sortButtonGroup.append(this.$sortByDateButton),this.$sortByVolumeButton=ke('<button class="btn" tabindex="0">'+this.content.volume+"</button>"),this.$sortButtonGroup.append(this.$sortByVolumeButton),this.$views=ke('<div class="views"></div>'),this.$tabsContent.append(this.$views),this.$treeView=ke('<div class="treeView"></div>'),this.$views.append(this.$treeView),this.$thumbsView=ke('<div class="thumbsView" tabindex="-1"></div>'),this.$views.append(this.$thumbsView),this.$galleryView=ke('<div class="galleryView"></div>'),this.$views.append(this.$galleryView),this.$treeSelect.hide(),this.$treeSelect.change(()=>{this.renderTree(),this.selectCurrentTreeNode(),this.updateTreeTabBySelection()}),this.$sortByDateButton.on("click",()=>{this.sortByDate()}),this.$sortByVolumeButton.on("click",()=>{this.sortByVolume()}),this.$treeViewOptions.hide(),this.onAccessibleClick(this.$treeButton,()=>{this.openTreeView()}),this.onAccessibleClick(this.$thumbsButton,()=>{this.openThumbsView()}),this.setTitle(this.content.title),this.$sortByVolumeButton.addClass("on");var s=this.options.tabOrder;if(s){s=s.toLowerCase(),s=s.replace(/ /g,"");var k=s.split(",");k[0]==="thumbs"?(this.$treeButton.before(this.$thumbsButton),this.$thumbsButton.addClass("first")):this.$treeButton.addClass("first")}}createTreeView(){this.treeView=new kd(this.$treeView),this.treeView.treeData=this.getTreeData(),this.treeView.setup(),this.renderTree();let s=this.extension.helper.getTopRanges();if(s.length>1)for(let k=0;k<s.length;k++){let R=s[k];this.$treeSelect.append('<option value="'+R.id+'">'+Fi.LanguageMap.getValue(R.getLabel())+"</option>")}this.updateTreeViewOptions()}render(){this.renderThumbs(),this.renderTree(),this.renderGallery()}updateTreeViewOptions(){let s=this.getTree();!s||(this.isCollection()&&this.extension.helper.treeHasNavDates(s)?this.$treeViewOptions.show():this.$treeViewOptions.hide(),this.$treeSelect.find("option").length?this.$treeSelect.show():this.$treeSelect.hide())}sortByDate(){this.treeSortType=Vi.DATE,this.treeView.treeData=this.getTreeData(),this.treeView.databind(),this.selectCurrentTreeNode(),this.$sortByDateButton.addClass("on"),this.$sortByVolumeButton.removeClass("on"),this.resize()}sortByVolume(){this.treeSortType=Vi.NONE,this.treeView.treeData=this.getTreeData(),this.treeView.databind(),this.selectCurrentTreeNode(),this.$sortByDateButton.removeClass("on"),this.$sortByVolumeButton.addClass("on"),this.resize()}isCollection(){var s=this.getTree();if(s)return s.data.type===Fi.TreeNodeType.COLLECTION;throw new Error("Tree not available")}renderTree(){!this.treeView||(this.treeView.treeData=this.getTreeData(),this.treeView.databind(),this.selectCurrentTreeNode())}getTreeData(){return{autoExpand:this._isTreeAutoExpanded(),branchNodesExpandOnClick:Kt.getBool(this.config.options.branchNodesExpandOnClick,!0),branchNodesSelectable:Kt.getBool(this.config.options.branchNodesSelectable,!1),helper:this.extension.helper,topRangeIndex:this.getSelectedTopRangeIndex(),treeSortType:this.treeSortType}}_isTreeAutoExpanded(){let s=Kt.getBool(this.config.options.autoExpandTreeEnabled,!1),k=this.config.options.autoExpandTreeIfFewerThan||0;if(s){let R=this.extension.helper.getFlattenedTree();if(R&&R.length<k)return!0}return!1}updateTreeTabByCanvasIndex(){let s=this.extension.helper.getTopRanges();if(s.length>1){let k=this.getCurrentCanvasTopRangeIndex();if(k===-1)return;let R=s[k];this.setTreeTabTitle(Fi.LanguageMap.getValue(R.getLabel()))}else this.setTreeTabTitle(this.content.index)}setTreeTabTitle(s){this.$treeButton.text(s)}updateTreeTabBySelection(){let s=null,k=this.extension.helper.getTopRanges();k.length>1&&(this.treeView?s=this.getSelectedTree().text():s=Fi.LanguageMap.getValue(k[0].getLabel())),s?this.setTreeTabTitle(s):this.setTreeTabTitle(this.content.index)}getViewingHint(){return this.extension.helper.getViewingHint()}getViewingDirection(){return this.extension.helper.getViewingDirection()}createThumbsRoot(){this.thumbsRoot||(this.thumbsRoot=(0,hd.createRoot)(this.$thumbsView[0])),this.renderThumbs()}renderThumbs(){if(!this.thumbsRoot)return;let s,k,R=this.getViewingHint(),y=this.getViewingDirection();y&&(y===Po.LEFT_TO_RIGHT||y===Po.RIGHT_TO_LEFT)?(s=this.config.options.twoColThumbWidth,k=this.config.options.twoColThumbHeight):R&&R===Dd.PAGED?(s=this.config.options.twoColThumbWidth,k=this.config.options.twoColThumbHeight):(s=this.config.options.oneColThumbWidth,k=this.config.options.oneColThumbHeight);let A=this.extension.helper.getThumbs(s,k);y&&y===Po.BOTTOM_TO_TOP&&A.reverse();let P=this.extension.annotations;if(P&&P.length)for(let u=0;u<P.length;u++){let b=P[u],T=A.filter(h=>h.index===b.canvasIndex)[0];if(T){let h=Object.assign({},T.data);h.searchResults=b.rects.length,T.data=h}}let _=!!this.extension.getSettings().pagingEnabled,I=this.extension.getPagedIndices(this.extension.helper.canvasIndex);this.thumbsRoot.render((0,pd.createElement)(Cd,{thumbs:A,paged:_,viewingDirection:y||Ld.ViewingDirection.LEFT_TO_RIGHT,selected:I,onClick:u=>{this.extensionHost.publish(Le.THUMB_SELECTED,u)}}))}createGalleryView(){this.galleryView=new Pd(this.$galleryView),this.galleryView.galleryData=this.getGalleryData(),this.galleryView.setup(),this.renderGallery()}renderGallery(){!this.galleryView||(this.galleryView.galleryData=this.getGalleryData(),this.galleryView.databind())}getGalleryData(){return{helper:this.extension.helper,chunkedResizingThreshold:this.config.options.galleryThumbChunkedResizingThreshold,content:this.config.content,debug:!1,imageFadeInDuration:300,initialZoom:6,minLabelWidth:20,pageModeEnabled:this.isPageModeEnabled(),scrollStopDuration:100,searchResults:this.extension.annotations,sizingEnabled:!0,thumbHeight:this.config.options.galleryThumbHeight,thumbLoadPadding:this.config.options.galleryThumbLoadPadding,thumbWidth:this.config.options.galleryThumbWidth,viewingDirection:this.getViewingDirection()}}isPageModeEnabled(){return typeof this.extension.getMode=="function"?Kt.getBool(this.config.options.pageModeEnabled,!0)&&this.extension.getMode().toString()===xo.page.toString():Kt.getBool(this.config.options.pageModeEnabled,!0)}getSelectedTree(){return this.$treeSelect.find(":selected")}getSelectedTopRangeIndex(){let s=this.getSelectedTree().index();return s===-1&&(s=0),s}getTree(){let s=this.getSelectedTopRangeIndex();return this.extension.helper.getTree(s,Vi.NONE)}toggleFinish(){if(super.toggleFinish(),this.isUnopened){let s=Kt.getBool(this.config.options.treeEnabled,!0),k=Kt.getBool(this.config.options.thumbsEnabled,!0),R=this.getTree();(!R||!R.nodes.length)&&(s=!1),(!s||!k)&&this.$tabs.hide(),k&&this.defaultToThumbsView()?this.openThumbsView():s&&this.openTreeView()}}defaultToThumbsView(){let s=Kt.getBool(this.config.options.defaultToTreeEnabled,!1),k=this.config.options.defaultToTreeIfGreaterThan||0,R=this.getTree();return!(s&&R&&R.nodes.length>k)}expandFullStart(){super.expandFullStart(),this.extensionHost.publish(Le.LEFTPANEL_EXPAND_FULL_START)}expandFullFinish(){super.expandFullFinish(),this.$treeButton.hasClass("on")?this.openTreeView():this.$thumbsButton.hasClass("on")&&this.openThumbsView(),this.extensionHost.publish(Le.LEFTPANEL_EXPAND_FULL_FINISH)}collapseFullStart(){super.collapseFullStart(),this.extensionHost.publish(Le.LEFTPANEL_COLLAPSE_FULL_START)}collapseFullFinish(){super.collapseFullFinish(),this.$thumbsButton.hasClass("on")&&this.openThumbsView(),this.extensionHost.publish(Le.LEFTPANEL_COLLAPSE_FULL_FINISH)}openTreeView(){this.isTreeViewOpen=!0,this.isThumbsViewOpen=!1,this.treeView||this.createTreeView(),this.$treeButton.addClass("on"),this.$thumbsButton.removeClass("on"),this.treeView.show(),this.$thumbsView&&this.$thumbsView.hide(),this.galleryView&&this.galleryView.hide(),this.updateTreeViewOptions(),this.selectCurrentTreeNode(),this.resize(),this.treeView.resize(),this.extensionHost.publish(Le.OPEN_TREE_VIEW)}openThumbsView(){this.isTreeViewOpen=!1,this.isThumbsViewOpen=!0,this.createThumbsRoot(),this.isFullyExpanded&&!this.galleryView&&this.createGalleryView(),this.$treeButton.removeClass("on"),this.$thumbsButton.addClass("on"),this.treeView&&this.treeView.hide(),this.$treeSelect.hide(),this.$treeViewOptions.hide(),this.resize(),this.isFullyExpanded?(this.$thumbsView.hide(),this.galleryView&&this.galleryView.show(),this.galleryView&&this.galleryView.resize()):(this.galleryView&&this.galleryView.hide(),this.$thumbsView.show(),this.$thumbsView.resize()),this.extensionHost.publish(Le.OPEN_THUMBS_VIEW)}selectTopRangeIndex(s){this.$treeSelect.prop("selectedIndex",s)}getCurrentCanvasTopRangeIndex(){let s=-1,k=this.extension.getCurrentCanvasRange();return k&&(s=Number(k.path.split("/")[0])),s}selectCurrentTreeNode(){var s;((s=this.extension.type)==null?void 0:s.name)==="uv-openseadragon-extension"?this.selectCurrentTreeNodeByCanvas():this.selectCurrentTreeNodeByRange()}selectCurrentTreeNodeByRange(){if(this.treeView){let s=this.extension.helper.getCurrentRange(),k=null;s&&s.treeNode&&(k=this.treeView.getNodeById(s.treeNode.id)),k?this.treeView.selectNode(k):this.selectTreeNodeByManifest()}}selectCurrentTreeNodeByCanvas(){if(this.treeView){let s=null,k=this.getCurrentCanvasTopRangeIndex(),R=this.getSelectedTopRangeIndex(),y=k===R,A=null;k!==-1&&(A=this.extension.getCurrentCanvasRange(),A&&A.treeNode&&(s=this.treeView.getNodeById(A.treeNode.id))),s&&y?this.treeView.selectNode(s):(A=this.extension.helper.getCurrentRange(),A&&A.treeNode&&(s=this.treeView.getNodeById(A.treeNode.id)),s?this.treeView.selectNode(s):this.selectTreeNodeByManifest())}}selectTreeNodeByManifest(){let s=this.extension.helper.collectionIndex,k=this.extension.helper.manifestIndex,R=this.treeView.getAllNodes(),y=!1;R.map(A=>{A.isCollection()&&A.data.index===s&&(this.treeView.selectNode(A),this.treeView.expandNode(A,!0),y=!0),A.isManifest()&&A.data.index===k&&(this.treeView.selectNode(A),y=!0)}),y||this.treeView.deselectCurrentNode()}resize(){super.resize(),this.$tabsContent.height(this.$main.height()-(id(this.$tabs)?this.$tabs.height():0)-this.$tabsContent.verticalPadding()),this.$views.height(this.$tabsContent.height()-this.$options.outerHeight())}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*//**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *//**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *//**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */export{Ad as $,Gd as I,xo as N,kn as X,cd as _,Od as b,Nr as q,fd as x};
