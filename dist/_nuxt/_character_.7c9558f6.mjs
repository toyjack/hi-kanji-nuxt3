import{b as v,o as d,h as c,k as R,t as h,i as e,F as k,y as $,B as S,C as j,D as w,E as B,G as D,m as U,H as V,u as o,I as N,p as m,J as F,j as C,e as G,c as z}from"./entry.cc194de1.mjs";const E=["for"],T=["id","value","name"],A={value:"all"},H=["value","selected"],I=v({__name:"Select",props:{selected:String,list:Array,label:String},emits:["update:selected"],setup(a){return(u,f)=>(d(),c("label",{class:"text-gray-700 flex flex-col",for:a.label},[R(h(a.label)+" ",1),e("select",{id:a.label,class:"md:w-52 py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",value:a.selected,onChange:f[0]||(f[0]=i=>u.$emit("update:selected",i.target.value)),name:a.label},[e("option",A,h(u.$t("all")),1),(d(!0),c(k,null,$(a.list,i=>(d(),c("option",{value:i,selected:i===a.selected},h(i.replace("@ja","")),9,H))),256))],40,T)],8,E))}}),J={class:"container mx-auto flex flex-col"},L={class:"self-end items-end p-1 md:hidden"},M={class:"relative inline-block w-10 mr-2 align-middle select-none"},q=e("label",{for:"toggle",class:"block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"},null,-1),K={class:"text-gray-400 font-medium"},O={class:"relative flex py-1 sm:py-5 items-center"},P=e("div",{class:"flex-grow border-t border-gray-400"},null,-1),Q={class:"flex-shrink mx-4 text-gray-400"},W=e("div",{class:"flex-grow border-t border-gray-400"},null,-1),X={key:0,class:"grid grid-cols-3 md:grid-cols-6 lg:grid-cols-12"},Y={class:"rounded-sm shadow-lg flex flex-col sm:p-1 bg-white border hover:border-blue-300 hover:border-2"},Z=["data-tip"],ee=["href"],te=["src"],le={class:"leading-normal text-gray-100 text-center bg-blue-500 opacity-30"},se=v({__name:"Results",setup(a){const u=S(),{occupations:f,divisions:i,dates:g,ceDates:y,glyphs:_,ifShowFilter:p}=j(u),s=w({division:"all",document:"all",book:"all",occupation:"all",send:"all",date:"all",ce_date:"all"}),b=w({}),x=B(()=>_.value.filter(n=>{for(let t in b)if(n.source[t]===void 0||n.source[t]!=b[t])return!1;return!0}));return D(s,(n,t)=>{for(var r in s)s[r]==="all"?delete b[r]:b[r]=s[r]}),(n,t)=>{const r=I;return d(),c("section",J,[e("div",L,[e("div",M,[U(e("input",{type:"checkbox",name:"toggle",id:"toggle","onUpdate:modelValue":t[0]||(t[0]=l=>N(p)?p.value=l:null),"true-value":"true","false-value":"false",class:"checked:bg-blue-500 outline-none focus:outline-none right-4 checked:right-0 duration-200 ease-in absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer"},null,512),[[V,o(p)]]),q]),e("span",K,h(n.$t("filter")),1)]),e("div",{class:F([{hidden:o(p)==="false"},"md:flex flex-col md:flex-row justify-center gap-1"])},[m(r,{label:n.$t("division"),list:o(i),selected:s.division,"onUpdate:selected":t[1]||(t[1]=l=>s.division=l)},null,8,["label","list","selected"]),m(r,{label:n.$t("occupation"),list:o(f),selected:s.occupation,"onUpdate:selected":t[2]||(t[2]=l=>s.occupation=l)},null,8,["label","list","selected"]),m(r,{label:n.$t("date"),list:o(g),selected:s.date,"onUpdate:selected":t[3]||(t[3]=l=>s.date=l)},null,8,["label","list","selected"]),m(r,{label:n.$t("ce-date"),list:o(y),selected:s.ce_date,"onUpdate:selected":t[4]||(t[4]=l=>s.ce_date=l)},null,8,["label","list","selected"])],2),e("div",O,[P,e("span",Q,"Glyphs: "+h(o(x).length),1),W]),o(_).length>0?(d(),c("div",X,[(d(!0),c(k,null,$(o(x),l=>(d(),c("div",Y,[e("div",{class:"tooltip","data-tip":l.source.value.replace("@ja","")},[e("a",{href:"/glyph/"+l.id,class:"cursor-pointer flex flex-col h-full justify-between",target:"blank"},[e("img",{src:l.thumbnail_url,alt:"",loading:"lazy",class:"w-full items-center justify-start"},null,8,te),e("p",le,h(l.id),1)],8,ee)],8,Z)]))),256))])):C("",!0)])}}}),oe={class:""},ne=v({__name:"[character]",setup(a){const u=S(),{glyphs:f}=j(u),g=G().params.character;return g&&u.fetchData(g),(y,_)=>{const p=se;return d(),c("div",oe,[o(f)?(d(),z(p,{key:0})):C("",!0)])}}});export{ne as default};
