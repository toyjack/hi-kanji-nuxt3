import{H as f,I as u,L as r}from"./entry-c293202b.mjs";var c=class extends f{constructor(e,i,t){super(e,i,t),this.options=e,this.adapter=i,this._init(this.options.data)}_getYouTubeVideoId(e){return e.indexOf("v=")&&(e=e.split("v=")[1]),e}async _init(e){if(window.youTubePlayers||(window.youTubePlayers=[]),this._id="YTPlayer-"+new Date().getTime(),window.youTubePlayers.push({id:this._id,data:e,ref:this}),this._el.id=this._id,!document.getElementById("youtube-iframe-api")){let i=document.createElement("script");i.id="youtube-iframe-api",i.src="//www.youtube.com/iframe_api";let t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(i,t)}window.onYouTubeIframeAPIReady?window.onYouTubeIframeAPIReady():window.onYouTubeIframeAPIReady=()=>{for(let i of window.youTubePlayers)i.ref.configure({controls:!0}).then(t=>{window[i.id]=new YT.Player(i.id,{height:"100%",width:"100%",videoId:this._getYouTubeVideoId(i.data.youTubeVideoId),playerVars:{playsinline:1,enablejsapi:1,controls:t.controls?1:0,showInfo:0,rel:0,modestbranding:1},events:{onReady:s=>{let a=s.target.getIframe().id,o=window.youTubePlayers.find(n=>n.id===a);o&&(o.ref.config=t,o.ref.set(i.data),o.ref.fire(u.CREATED))},onStateChange:s=>{let a=s.target,o=a.getIframe().id,n=a.getDuration(),d=window.youTubePlayers.find(l=>l.id===o);if(d)switch(s.data){case-1:d.ref.fire(r.UNSTARTED),d.ref.fire(u.LOAD,{player:a,duration:n});break;case 0:d.ref.fire(r.ENDED);break;case 1:d.ref.fire(r.PLAYING);break;case 2:d.ref.fire(r.PAUSED);break;case 3:d.ref.fire(r.BUFFERING);break;case 5:d.ref.fire(r.CUED);break}}}})})}}set(e){let i=window[this._id];if(e.muted?i.mute():i.unMute(),e.youTubeVideoId){let t=this._getYouTubeVideoId(e.youTubeVideoId);e.autoPlay?e.duration?i.loadVideoById({videoId:t,startSeconds:e.duration[0],endSeconds:e.duration[1]}):i.loadVideoById(t):e.duration?i.cueVideoById({videoId:t,startSeconds:e.duration[0],endSeconds:e.duration[1]}):i.cueVideoById(t)}e.currentTime&&i.seekTo(e.currentTime,!0)}exitFullScreen(){}resize(){let e=this._el.clientWidth+"px",i=this._el.clientHeight+"px";this._el.style.width=e,this._el.style.height=i}dispose(){super.dispose(),window.youTubePlayers=window.youTubePlayers.filter(e=>e.id!==this._id)}};export{c as default};
