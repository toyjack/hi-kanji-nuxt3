import{a3 as fi,a5 as Ii,_ as Gi,ad as Wt,ae as Qi,af as xn,a4 as pi,ag as Wi,a7 as Sn,ah as Gr}from"./entry.6e61bf97.mjs";import{I as Wr,b as vn}from"./chunk-6K2XYBUM.e02da7cd.mjs";import{t as Yr}from"./chunk-BL47YR37.e4bc20f8.mjs";import{y as $r}from"./chunk-RQD6ZDXZ.a3133032.mjs";import{E as Qt}from"./chunk-2SUYJOML.5227eb76.mjs";import{Y as Xr,Z as Kr,t as Qr,X as Jr,e as Zr,s as ea,n as ta,a as ia}from"./chunk-7YKIH5A2.3fd30fe6.mjs";import{G as Ci,H as na}from"./IIIFContentHandler-JCX6SYFT.f723564c.mjs";var ra=pi((t,_)=>{function h(l,f,p){this.context=l,this.start=f,this.end=p}h.prototype={get offset_start(){return this.start<this.context.offset_start&&this.end>this.context.offset_start?this.context.offset_start:this.start>=this.context.offset_start&&this.start<this.context.offset_end?this.start:null},get offset_end(){return this.end>this.context.offset_start&&this.end<=this.context.offset_end?this.end:this.end>this.context.offset_end&&this.start<this.context.offset_end?this.context.offset_end:null},get offset_length(){return this.offset_end-this.offset_start},get length(){return this.end-this.start},get visible(){return this.context.in_offset(this.start)||this.context.in_offset(this.end)||this.context.offset_start>this.start&&this.context.offset_start<this.end},get min(){return this.visible?this.context.offsetValues(this.offset_start,this.offset_length,0):[]},get max(){return this.visible?this.context.offsetValues(this.offset_start,this.offset_length,1):[]}},_.exports=h}),aa=pi((t,_)=>{function h(l,f){this.context=l,this.timeStamp=f}h.prototype={get visible(){return this.context.in_offset(this.timeStamp)}},_.exports=h}),sa=pi((t,_)=>{var h=ra(),l=aa();function f(p,u){this.adapter=u.fromResponseData(p),this.segments={},this.points={},this.offset(0,this.adapter.length)}f.create=function(p){var u=null,y=null;if(p&&typeof p=="object"&&("responseText"in p||"response"in p)&&(y="responseType"in p?p.response:p.responseText||p.response),Object.keys(f.adapters).some(function(v){if(f.adapters[v].isCompatible(y||p))return u=f.adapters[v],!0}),u===null)throw new TypeError("Could not detect a WaveformData adapter from the input.");return new f(y||p,u)},f.prototype={offset:function(p,u){var y=this.adapter.length;if(u<0)throw new RangeError("End point must be non-negative ["+Number(u)+" < 0]");if(u<p)throw new RangeError("End point must not be before the start point ["+Number(u)+" < "+Number(p)+"]");if(p<0)throw new RangeError("Start point must be non-negative ["+Number(p)+" < 0]");if(p>=y)throw new RangeError("Start point must be within range ["+Number(p)+" >= "+y+"]");u>y&&(u=y),this.offset_start=p,this.offset_end=u,this.offset_length=u-p},set_segment:function(p,u,y){return(y==null||y.length===0)&&(y="default"),this.segments[y]=new h(this,p,u),this.segments[y]},set_point:function(p,u){return(u==null||u.length===0)&&(u="default"),this.points[u]=new l(this,p),this.points[u]},remove_point:function(p){this.points[p]&&delete this.points[p]},resample:function(p){typeof p=="number"&&(p={width:p}),p.input_index=typeof p.input_index=="number"?p.input_index:null,p.output_index=typeof p.output_index=="number"?p.output_index:null,p.scale=typeof p.scale=="number"?p.scale:null,p.width=typeof p.width=="number"?p.width:null;var u=Boolean(p.input_index)||Boolean(p.output_index);if(p.input_index!=null&&p.input_index<0)throw new RangeError("options.input_index should be a positive integer value. ["+p.input_index+"]");if(p.output_index!=null&&p.output_index<0)throw new RangeError("options.output_index should be a positive integer value. ["+p.output_index+"]");if(p.width!=null&&p.width<=0)throw new RangeError("options.width should be a strictly positive integer value. ["+p.width+"]");if(p.scale!=null&&p.scale<=0)throw new RangeError("options.scale should be a strictly positive integer value. ["+p.scale+"]");if(!p.scale&&!p.width)throw new RangeError("You should provide either a resampling scale or a width in pixel the data should fit in.");var y=["width","scale","output_index","input_index"].reduce(function(ee,de){return ee+(p[de]===null?0:1)},0);if(u&&y!==4)throw new Error("Some partial resampling options are missing. You provided "+y+" of them over 4.");var v=[],b=p.scale||Math.floor(this.duration*this.adapter.sample_rate/p.width),m=this.adapter.scale,T=2,R=this.adapter.length,E=p.input_index||0,F=p.output_index||0,L=R?this.min_sample(E):0,k=R?this.max_sample(E):0,q=-128,Z=127;if(b<m)throw new Error("Zoom level "+b+" too low, minimum: "+m);var V,D,M,X,w;function O(ee){return Math.floor(ee*b)}function G(ee,de){v.push(ee,de)}for(;E<R;){for(;Math.floor(O(F)/m)<=E;)F&&G(L,k),w=E,F++,V=O(F),D=O(F-1),V!==D&&(L=Z,k=q);for(V=O(F),M=Math.floor(V/m),M>R&&(M=R);E<M;)X=this.min_sample(E),X<L&&(L=X),X=this.max_sample(E),X>k&&(k=X),E++;if(u&&v.length/T>=p.width)break}return u?v.length/T>p.width&&E!==w&&G(L,k):E!==w&&G(L,k),new f({version:this.adapter.version,samples_per_pixel:b,length:v.length/T,data:v,sample_rate:this.adapter.sample_rate},f.adapters.object)},get min(){return this.offsetValues(this.offset_start,this.offset_length,0)},get max(){return this.offsetValues(this.offset_start,this.offset_length,1)},offsetValues:function(p,u,y){var v=this.adapter,b=[];y+=p*2;for(var m=0;m<u;m++)b.push(v.at(m*2+y));return b},get duration(){return this.adapter.length*this.adapter.scale/this.adapter.sample_rate},get offset_duration(){return this.offset_length*this.adapter.scale/this.adapter.sample_rate},get pixels_per_second(){return this.adapter.sample_rate/this.adapter.scale},get seconds_per_pixel(){return this.adapter.scale/this.adapter.sample_rate},at:function(p){return this.adapter.at(p)},at_time:function(p){return Math.floor(p*this.adapter.sample_rate/this.adapter.scale)},time:function(p){return p*this.adapter.scale/this.adapter.sample_rate},in_offset:function(p){return p>=this.offset_start&&p<this.offset_end},min_sample:function(p){return this.adapter.at(p*2)},max_sample:function(p){return this.adapter.at(p*2+1)}},f.adapters={},f.adapter=function(p){this.data=p},_.exports=f}),oa=pi((t,_)=>{function h(l){this.data=l}h.isCompatible=function(l){return l&&typeof l=="object"&&"byteLength"in l},h.fromResponseData=function(l){return new h(new DataView(l))},h.prototype={get version(){return this.data.getInt32(0,!0)},get is_8_bit(){return Boolean(this.data.getUint32(4,!0))},get is_16_bit(){return!this.is_8_bit},get sample_rate(){return this.data.getInt32(8,!0)},get scale(){return this.data.getInt32(12,!0)},get length(){return this.data.getUint32(16,!0)},at:function(l){return this.data.getInt8(20+l)}},_.exports=h}),la=pi((t,_)=>{function h(l){this.data=l}h.isCompatible=function(l){return l&&(typeof l=="object"&&"sample_rate"in l||typeof l=="string"&&"sample_rate"in JSON.parse(l))},h.fromResponseData=function(l){return typeof l=="string"?new h(JSON.parse(l)):new h(l)},h.prototype={get version(){return this.data.version||1},get is_8_bit(){return this.data.bits===8},get is_16_bit(){return!this.is_8_bit},get sample_rate(){return this.data.sample_rate},get scale(){return this.data.samples_per_pixel},get length(){return this.data.length},at:function(l){return this.data.data[l]}},_.exports=h}),ua=pi((t,_)=>{_.exports={arraybuffer:oa(),object:la()}}),da=pi((t,_)=>{var h=sa();h.adapters=ua(),_.exports=h}),ca=pi(()=>{(function(t){typeof define=="function"&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){t.ui=t.ui||{},t.ui.version="1.13.1";var _=0,h=Array.prototype.hasOwnProperty,l=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,r,o;for(o=0;(r=i[o])!=null;o++)n=t._data(r,"events"),n&&n.remove&&t(r).triggerHandler("remove");e(i)}}(t.cleanData),t.widget=function(e,i,n){var r,o,c,g={},I=e.split(".")[0];e=e.split(".")[1];var P=I+"-"+e;return n||(n=i,i=t.Widget),Array.isArray(n)&&(n=t.extend.apply(null,[{}].concat(n))),t.expr.pseudos[P.toLowerCase()]=function(U){return!!t.data(U,P)},t[I]=t[I]||{},r=t[I][e],o=t[I][e]=function(U,B){if(!this||!this._createWidget)return new o(U,B);arguments.length&&this._createWidget(U,B)},t.extend(o,r,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),c=new i,c.options=t.widget.extend({},c.options),t.each(n,function(U,B){if(typeof B!="function"){g[U]=B;return}g[U]=function(){function te(){return i.prototype[U].apply(this,arguments)}function S(N){return i.prototype[U].apply(this,N)}return function(){var N=this._super,C=this._superApply,x;return this._super=te,this._superApply=S,x=B.apply(this,arguments),this._super=N,this._superApply=C,x}}()}),o.prototype=t.widget.extend(c,{widgetEventPrefix:r&&c.widgetEventPrefix||e},g,{constructor:o,namespace:I,widgetName:e,widgetFullName:P}),r?(t.each(r._childConstructors,function(U,B){var te=B.prototype;t.widget(te.namespace+"."+te.widgetName,o,B._proto)}),delete r._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i=l.call(arguments,1),n=0,r=i.length,o,c;n<r;n++)for(o in i[n])c=i[n][o],h.call(i[n],o)&&c!==void 0&&(t.isPlainObject(c)?e[o]=t.isPlainObject(e[o])?t.widget.extend({},e[o],c):t.widget.extend({},c):e[o]=c);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(r){var o=typeof r=="string",c=l.call(arguments,1),g=this;return o?!this.length&&r==="instance"?g=void 0:this.each(function(){var I,P=t.data(this,n);if(r==="instance")return g=P,!1;if(!P)return t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'");if(typeof P[r]!="function"||r.charAt(0)==="_")return t.error("no such method '"+r+"' for "+e+" widget instance");if(I=P[r].apply(P,c),I!==P&&I!==void 0)return g=I&&I.jquery?g.pushStack(I.get()):I,!1}):(c.length&&(r=t.widget.extend.apply(null,[r].concat(c))),this.each(function(){var I=t.data(this,n);I?(I.option(r||{}),I._init&&I._init()):t.data(this,n,new i(r,this))})),g}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=_++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(i,n){e._removeClass(n,i)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n=e,r,o,c;if(arguments.length===0)return t.widget.extend({},this.options);if(typeof e=="string")if(n={},r=e.split("."),e=r.shift(),r.length){for(o=n[e]=t.widget.extend({},this.options[e]),c=0;c<r.length-1;c++)o[r[c]]=o[r[c]]||{},o=o[r[c]];if(e=r.pop(),arguments.length===1)return o[e]===void 0?null:o[e];o[e]=i}else{if(arguments.length===1)return this.options[e]===void 0?null:this.options[e];n[e]=i}return this._setOptions(n),this},_setOptions:function(e){var i;for(i in e)this._setOption(i,e[i]);return this},_setOption:function(e,i){return e==="classes"&&this._setOptionClasses(i),this.options[e]=i,e==="disabled"&&this._setOptionDisabled(i),this},_setOptionClasses:function(e){var i,n,r;for(i in e)r=this.classesElementLookup[i],!(e[i]===this.options.classes[i]||!r||!r.length)&&(n=t(r.get()),this._removeClass(r,i),n.addClass(this._classes({element:n,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var i=[],n=this;e=t.extend({element:this.element,classes:this.options.classes||{}},e);function r(){var c=[];e.element.each(function(g,I){var P=t.map(n.classesElementLookup,function(U){return U}).some(function(U){return U.is(I)});P||c.push(I)}),n._on(t(c),{remove:"_untrackClassesElement"})}function o(c,g){var I,P;for(P=0;P<c.length;P++)I=n.classesElementLookup[c[P]]||t(),e.add?(r(),I=t(t.uniqueSort(I.get().concat(e.element.get())))):I=t(I.not(e.element).get()),n.classesElementLookup[c[P]]=I,i.push(c[P]),g&&e.classes[c[P]]&&i.push(e.classes[c[P]])}return e.keys&&o(e.keys.match(/\S+/g)||[],!0),e.extra&&o(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(n,r){t.inArray(e.target,r)!==-1&&(i.classesElementLookup[n]=t(r.not(e.target).get()))}),this._off(t(e.target))},_removeClass:function(e,i,n){return this._toggleClass(e,i,n,!1)},_addClass:function(e,i,n){return this._toggleClass(e,i,n,!0)},_toggleClass:function(e,i,n,r){r=typeof r=="boolean"?r:n;var o=typeof e=="string"||e===null,c={extra:o?i:n,keys:o?e:i,element:o?this.element:e,add:r};return c.element.toggleClass(this._classes(c),r),this},_on:function(e,i,n){var r,o=this;typeof e!="boolean"&&(n=i,i=e,e=!1),n?(i=r=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),t.each(n,function(c,g){function I(){if(!(!e&&(o.options.disabled===!0||t(this).hasClass("ui-state-disabled"))))return(typeof g=="string"?o[g]:g).apply(o,arguments)}typeof g!="string"&&(I.guid=g.guid=g.guid||I.guid||t.guid++);var P=c.match(/^([\w:-]*)\s*(.*)$/),U=P[1]+o.eventNamespace,B=P[2];B?r.on(U,B,I):i.on(U,I)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(e,i){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,i||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(i){this._addClass(t(i.currentTarget),null,"ui-state-hover")},mouseleave:function(i){this._removeClass(t(i.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(i){this._addClass(t(i.currentTarget),null,"ui-state-focus")},focusout:function(i){this._removeClass(t(i.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,n){var r,o,c=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent,o)for(r in o)r in i||(i[r]=o[r]);return this.element.trigger(i,n),!(typeof c=="function"&&c.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,r,o){typeof r=="string"&&(r={effect:r});var c,g=r?r===!0||typeof r=="number"?i:r.effect||i:e;r=r||{},typeof r=="number"?r={duration:r}:r===!0&&(r={}),c=!t.isEmptyObject(r),r.complete=o,r.delay&&n.delay(r.delay),c&&t.effects&&t.effects.effect[g]?n[e](r):g!==e&&n[g]?n[g](r.duration,r.easing,o):n.queue(function(I){t(this)[e](),o&&o.call(n[0]),I()})}}),t.widget,function(){var e,i=Math.max,n=Math.abs,r=/left|center|right/,o=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,g=/^\w+/,I=/%$/,P=t.fn.position;function U(N,C,x){return[parseFloat(N[0])*(I.test(N[0])?C/100:1),parseFloat(N[1])*(I.test(N[1])?x/100:1)]}function B(N,C){return parseInt(t.css(N,C),10)||0}function te(N){return N!=null&&N===N.window}function S(N){var C=N[0];return C.nodeType===9?{width:N.width(),height:N.height(),offset:{top:0,left:0}}:te(C)?{width:N.width(),height:N.height(),offset:{top:N.scrollTop(),left:N.scrollLeft()}}:C.preventDefault?{width:0,height:0,offset:{top:C.pageY,left:C.pageX}}:{width:N.outerWidth(),height:N.outerHeight(),offset:N.offset()}}t.position={scrollbarWidth:function(){if(e!==void 0)return e;var N,C,x=t("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),z=x.children()[0];return t("body").append(x),N=z.offsetWidth,x.css("overflow","scroll"),C=z.offsetWidth,N===C&&(C=x[0].clientWidth),x.remove(),e=N-C},getScrollInfo:function(N){var C=N.isWindow||N.isDocument?"":N.element.css("overflow-x"),x=N.isWindow||N.isDocument?"":N.element.css("overflow-y"),z=C==="scroll"||C==="auto"&&N.width<N.element[0].scrollWidth,Y=x==="scroll"||x==="auto"&&N.height<N.element[0].scrollHeight;return{width:Y?t.position.scrollbarWidth():0,height:z?t.position.scrollbarWidth():0}},getWithinInfo:function(N){var C=t(N||window),x=te(C[0]),z=!!C[0]&&C[0].nodeType===9,Y=!x&&!z;return{element:C,isWindow:x,isDocument:z,offset:Y?t(N).offset():{left:0,top:0},scrollLeft:C.scrollLeft(),scrollTop:C.scrollTop(),width:C.outerWidth(),height:C.outerHeight()}}},t.fn.position=function(N){if(!N||!N.of)return P.apply(this,arguments);N=t.extend({},N);var C,x,z,Y,K,Q,d=typeof N.of=="string"?t(document).find(N.of):t(N.of),A=t.position.getWithinInfo(N.within),H=t.position.getScrollInfo(A),j=(N.collision||"flip").split(" "),J={};return Q=S(d),d[0].preventDefault&&(N.at="left top"),x=Q.width,z=Q.height,Y=Q.offset,K=t.extend({},Y),t.each(["my","at"],function(){var oe=(N[this]||"").split(" "),ve,ge;oe.length===1&&(oe=r.test(oe[0])?oe.concat(["center"]):o.test(oe[0])?["center"].concat(oe):["center","center"]),oe[0]=r.test(oe[0])?oe[0]:"center",oe[1]=o.test(oe[1])?oe[1]:"center",ve=c.exec(oe[0]),ge=c.exec(oe[1]),J[this]=[ve?ve[0]:0,ge?ge[0]:0],N[this]=[g.exec(oe[0])[0],g.exec(oe[1])[0]]}),j.length===1&&(j[1]=j[0]),N.at[0]==="right"?K.left+=x:N.at[0]==="center"&&(K.left+=x/2),N.at[1]==="bottom"?K.top+=z:N.at[1]==="center"&&(K.top+=z/2),C=U(J.at,x,z),K.left+=C[0],K.top+=C[1],this.each(function(){var oe,ve,ge=t(this),ye=ge.outerWidth(),Ee=ge.outerHeight(),we=B(this,"marginLeft"),Ne=B(this,"marginTop"),Ce=ye+we+B(this,"marginRight")+H.width,xe=Ee+Ne+B(this,"marginBottom")+H.height,Se=t.extend({},K),Le=U(J.my,ge.outerWidth(),ge.outerHeight());N.my[0]==="right"?Se.left-=ye:N.my[0]==="center"&&(Se.left-=ye/2),N.my[1]==="bottom"?Se.top-=Ee:N.my[1]==="center"&&(Se.top-=Ee/2),Se.left+=Le[0],Se.top+=Le[1],oe={marginLeft:we,marginTop:Ne},t.each(["left","top"],function(ke,$e){t.ui.position[j[ke]]&&t.ui.position[j[ke]][$e](Se,{targetWidth:x,targetHeight:z,elemWidth:ye,elemHeight:Ee,collisionPosition:oe,collisionWidth:Ce,collisionHeight:xe,offset:[C[0]+Le[0],C[1]+Le[1]],my:N.my,at:N.at,within:A,elem:ge})}),N.using&&(ve=function(ke){var $e=Y.left-Se.left,Xe=$e+x-ye,ze=Y.top-Se.top,Ie=ze+z-Ee,Be={target:{element:d,left:Y.left,top:Y.top,width:x,height:z},element:{element:ge,left:Se.left,top:Se.top,width:ye,height:Ee},horizontal:Xe<0?"left":$e>0?"right":"center",vertical:Ie<0?"top":ze>0?"bottom":"middle"};x<ye&&n($e+Xe)<x&&(Be.horizontal="center"),z<Ee&&n(ze+Ie)<z&&(Be.vertical="middle"),i(n($e),n(Xe))>i(n(ze),n(Ie))?Be.important="horizontal":Be.important="vertical",N.using.call(this,ke,Be)}),ge.offset(t.extend(Se,{using:ve}))})},t.ui.position={fit:{left:function(N,C){var x=C.within,z=x.isWindow?x.scrollLeft:x.offset.left,Y=x.width,K=N.left-C.collisionPosition.marginLeft,Q=z-K,d=K+C.collisionWidth-Y-z,A;C.collisionWidth>Y?Q>0&&d<=0?(A=N.left+Q+C.collisionWidth-Y-z,N.left+=Q-A):d>0&&Q<=0?N.left=z:Q>d?N.left=z+Y-C.collisionWidth:N.left=z:Q>0?N.left+=Q:d>0?N.left-=d:N.left=i(N.left-K,N.left)},top:function(N,C){var x=C.within,z=x.isWindow?x.scrollTop:x.offset.top,Y=C.within.height,K=N.top-C.collisionPosition.marginTop,Q=z-K,d=K+C.collisionHeight-Y-z,A;C.collisionHeight>Y?Q>0&&d<=0?(A=N.top+Q+C.collisionHeight-Y-z,N.top+=Q-A):d>0&&Q<=0?N.top=z:Q>d?N.top=z+Y-C.collisionHeight:N.top=z:Q>0?N.top+=Q:d>0?N.top-=d:N.top=i(N.top-K,N.top)}},flip:{left:function(N,C){var x=C.within,z=x.offset.left+x.scrollLeft,Y=x.width,K=x.isWindow?x.scrollLeft:x.offset.left,Q=N.left-C.collisionPosition.marginLeft,d=Q-K,A=Q+C.collisionWidth-Y-K,H=C.my[0]==="left"?-C.elemWidth:C.my[0]==="right"?C.elemWidth:0,j=C.at[0]==="left"?C.targetWidth:C.at[0]==="right"?-C.targetWidth:0,J=-2*C.offset[0],oe,ve;d<0?(oe=N.left+H+j+J+C.collisionWidth-Y-z,(oe<0||oe<n(d))&&(N.left+=H+j+J)):A>0&&(ve=N.left-C.collisionPosition.marginLeft+H+j+J-K,(ve>0||n(ve)<A)&&(N.left+=H+j+J))},top:function(N,C){var x=C.within,z=x.offset.top+x.scrollTop,Y=x.height,K=x.isWindow?x.scrollTop:x.offset.top,Q=N.top-C.collisionPosition.marginTop,d=Q-K,A=Q+C.collisionHeight-Y-K,H=C.my[1]==="top",j=H?-C.elemHeight:C.my[1]==="bottom"?C.elemHeight:0,J=C.at[1]==="top"?C.targetHeight:C.at[1]==="bottom"?-C.targetHeight:0,oe=-2*C.offset[1],ve,ge;d<0?(ge=N.top+j+J+oe+C.collisionHeight-Y-z,(ge<0||ge<n(d))&&(N.top+=j+J+oe)):A>0&&(ve=N.top-C.collisionPosition.marginTop+j+J+oe-K,(ve>0||n(ve)<A)&&(N.top+=j+J+oe))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr.pseudos,{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])}}),t.fn.extend({disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(e+".ui-disableSelection",function(i){i.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var f=t,p="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",u={},y=u.toString,v=/^([\-+])=\s*(\d+\.?\d*)/,b=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1]*2.55,e[2]*2.55,e[3]*2.55,e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),e[4]?(parseInt(e[4],16)/255).toFixed(2):1]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),e[4]?(parseInt(e[4]+e[4],16)/255).toFixed(2):1]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],m=f.Color=function(e,i,n,r){return new f.Color.fn.parse(e,i,n,r)},T={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},R={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},E=m.support={},F=f("<p>")[0],L,k=f.each;F.style.cssText="background-color:rgba(1,1,1,.5)",E.rgba=F.style.backgroundColor.indexOf("rgba")>-1,k(T,function(e,i){i.cache="_"+e,i.props.alpha={idx:3,type:"percent",def:1}}),f.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,i){u["[object "+i+"]"]=i.toLowerCase()});function q(e){return e==null?e+"":typeof e=="object"?u[y.call(e)]||"object":typeof e}function Z(e,i,n){var r=R[i.type]||{};return e==null?n||!i.def?null:i.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?i.def:r.mod?(e+r.mod)%r.mod:Math.min(r.max,Math.max(0,e)))}function V(e){var i=m(),n=i._rgba=[];return e=e.toLowerCase(),k(b,function(r,o){var c,g=o.re.exec(e),I=g&&o.parse(g),P=o.space||"rgba";if(I)return c=i[P](I),i[T[P].cache]=c[T[P].cache],n=i._rgba=c._rgba,!1}),n.length?(n.join()==="0,0,0,0"&&f.extend(n,L.transparent),i):L[e]}m.fn=f.extend(m.prototype,{parse:function(e,i,n,r){if(e===void 0)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=f(e).css(i),i=void 0);var o=this,c=q(e),g=this._rgba=[];if(i!==void 0&&(e=[e,i,n,r],c="array"),c==="string")return this.parse(V(e)||L._default);if(c==="array")return k(T.rgba.props,function(I,P){g[P.idx]=Z(e[P.idx],P)}),this;if(c==="object")return e instanceof m?k(T,function(I,P){e[P.cache]&&(o[P.cache]=e[P.cache].slice())}):k(T,function(I,P){var U=P.cache;k(P.props,function(B,te){if(!o[U]&&P.to){if(B==="alpha"||e[B]==null)return;o[U]=P.to(o._rgba)}o[U][te.idx]=Z(e[B],te,!0)}),o[U]&&f.inArray(null,o[U].slice(0,3))<0&&(o[U][3]==null&&(o[U][3]=1),P.from&&(o._rgba=P.from(o[U])))}),this},is:function(e){var i=m(e),n=!0,r=this;return k(T,function(o,c){var g,I=i[c.cache];return I&&(g=r[c.cache]||c.to&&c.to(r._rgba)||[],k(c.props,function(P,U){if(I[U.idx]!=null)return n=I[U.idx]===g[U.idx],n})),n}),n},_space:function(){var e=[],i=this;return k(T,function(n,r){i[r.cache]&&e.push(n)}),e.pop()},transition:function(e,i){var n=m(e),r=n._space(),o=T[r],c=this.alpha()===0?m("transparent"):this,g=c[o.cache]||o.to(c._rgba),I=g.slice();return n=n[o.cache],k(o.props,function(P,U){var B=U.idx,te=g[B],S=n[B],N=R[U.type]||{};S!==null&&(te===null?I[B]=S:(N.mod&&(S-te>N.mod/2?te+=N.mod:te-S>N.mod/2&&(te-=N.mod)),I[B]=Z((S-te)*i+te,U)))}),this[r](I)},blend:function(e){if(this._rgba[3]===1)return this;var i=this._rgba.slice(),n=i.pop(),r=m(e)._rgba;return m(f.map(i,function(o,c){return(1-n)*r[c]+n*o}))},toRgbaString:function(){var e="rgba(",i=f.map(this._rgba,function(n,r){return n!=null?n:r>2?1:0});return i[3]===1&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=f.map(this.hsla(),function(n,r){return n==null&&(n=r>2?1:0),r&&r<3&&(n=Math.round(n*100)+"%"),n});return i[3]===1&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(n*255)),"#"+f.map(i,function(r){return r=(r||0).toString(16),r.length===1?"0"+r:r}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),m.fn.parse.prototype=m.fn;function D(e,i,n){return n=(n+1)%1,n*6<1?e+(i-e)*n*6:n*2<1?i:n*3<2?e+(i-e)*(2/3-n)*6:e}T.hsla.to=function(e){if(e[0]==null||e[1]==null||e[2]==null)return[null,null,null,e[3]];var i=e[0]/255,n=e[1]/255,r=e[2]/255,o=e[3],c=Math.max(i,n,r),g=Math.min(i,n,r),I=c-g,P=c+g,U=P*.5,B,te;return g===c?B=0:i===c?B=60*(n-r)/I+360:n===c?B=60*(r-i)/I+120:B=60*(i-n)/I+240,I===0?te=0:U<=.5?te=I/P:te=I/(2-P),[Math.round(B)%360,te,U,o!=null?o:1]},T.hsla.from=function(e){if(e[0]==null||e[1]==null||e[2]==null)return[null,null,null,e[3]];var i=e[0]/360,n=e[1],r=e[2],o=e[3],c=r<=.5?r*(1+n):r+n-r*n,g=2*r-c;return[Math.round(D(g,c,i+1/3)*255),Math.round(D(g,c,i)*255),Math.round(D(g,c,i-1/3)*255),o]},k(T,function(e,i){var n=i.props,r=i.cache,o=i.to,c=i.from;m.fn[e]=function(g){if(o&&!this[r]&&(this[r]=o(this._rgba)),g===void 0)return this[r].slice();var I,P=q(g),U=P==="array"||P==="object"?g:arguments,B=this[r].slice();return k(n,function(te,S){var N=U[P==="object"?te:S.idx];N==null&&(N=B[S.idx]),B[S.idx]=Z(N,S)}),c?(I=m(c(B)),I[r]=B,I):m(B)},k(n,function(g,I){m.fn[g]||(m.fn[g]=function(P){var U,B,te,S,N=q(P);return g==="alpha"?S=this._hsla?"hsla":"rgba":S=e,U=this[S](),B=U[I.idx],N==="undefined"?B:(N==="function"&&(P=P.call(this,B),N=q(P)),P==null&&I.empty?this:(N==="string"&&(te=v.exec(P),te&&(P=B+parseFloat(te[2])*(te[1]==="+"?1:-1))),U[I.idx]=P,this[S](U)))})})}),m.hook=function(e){var i=e.split(" ");k(i,function(n,r){f.cssHooks[r]={set:function(o,c){var g,I,P="";if(c!=="transparent"&&(q(c)!=="string"||(g=V(c)))){if(c=m(g||c),!E.rgba&&c._rgba[3]!==1){for(I=r==="backgroundColor"?o.parentNode:o;(P===""||P==="transparent")&&I&&I.style;)try{P=f.css(I,"backgroundColor"),I=I.parentNode}catch{}c=c.blend(P&&P!=="transparent"?P:"_default")}c=c.toRgbaString()}try{o.style[r]=c}catch{}}},f.fx.step[r]=function(o){o.colorInit||(o.start=m(o.elem,r),o.end=m(o.end),o.colorInit=!0),f.cssHooks[r].set(o.elem,o.start.transition(o.end,o.pos))}})},m.hook(p),f.cssHooks.borderColor={expand:function(e){var i={};return k(["Top","Right","Bottom","Left"],function(n,r){i["border"+r+"Color"]=e}),i}},L=f.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};var M="ui-effects-",X="ui-effects-style",w="ui-effects-animated";t.effects={effect:{}},function(){var e=["add","remove","toggle"],i={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(c,g){t.fx.step[g]=function(I){(I.end!=="none"&&!I.setAttr||I.pos===1&&!I.setAttr)&&(f.style(I.elem,g,I.end),I.setAttr=!0)}});function n(c){return c.replace(/-([\da-z])/gi,function(g,I){return I.toUpperCase()})}function r(c){var g,I,P=c.ownerDocument.defaultView?c.ownerDocument.defaultView.getComputedStyle(c,null):c.currentStyle,U={};if(P&&P.length&&P[0]&&P[P[0]])for(I=P.length;I--;)g=P[I],typeof P[g]=="string"&&(U[n(g)]=P[g]);else for(g in P)typeof P[g]=="string"&&(U[g]=P[g]);return U}function o(c,g){var I={},P,U;for(P in g)U=g[P],c[P]!==U&&(i[P]||(t.fx.step[P]||!isNaN(parseFloat(U)))&&(I[P]=U));return I}t.fn.addBack||(t.fn.addBack=function(c){return this.add(c==null?this.prevObject:this.prevObject.filter(c))}),t.effects.animateClass=function(c,g,I,P){var U=t.speed(g,I,P);return this.queue(function(){var B=t(this),te=B.attr("class")||"",S,N=U.children?B.find("*").addBack():B;N=N.map(function(){var C=t(this);return{el:C,start:r(this)}}),S=function(){t.each(e,function(C,x){c[x]&&B[x+"Class"](c[x])})},S(),N=N.map(function(){return this.end=r(this.el[0]),this.diff=o(this.start,this.end),this}),B.attr("class",te),N=N.map(function(){var C=this,x=t.Deferred(),z=t.extend({},U,{queue:!1,complete:function(){x.resolve(C)}});return this.el.animate(this.diff,z),x.promise()}),t.when.apply(t,N.get()).done(function(){S(),t.each(arguments,function(){var C=this.el;t.each(this.diff,function(x){C.css(x,"")})}),U.complete.call(B[0])})})},t.fn.extend({addClass:function(c){return function(g,I,P,U){return I?t.effects.animateClass.call(this,{add:g},I,P,U):c.apply(this,arguments)}}(t.fn.addClass),removeClass:function(c){return function(g,I,P,U){return arguments.length>1?t.effects.animateClass.call(this,{remove:g},I,P,U):c.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(c){return function(g,I,P,U,B){return typeof I=="boolean"||I===void 0?P?t.effects.animateClass.call(this,I?{add:g}:{remove:g},P,U,B):c.apply(this,arguments):t.effects.animateClass.call(this,{toggle:g},I,P,U)}}(t.fn.toggleClass),switchClass:function(c,g,I,P,U){return t.effects.animateClass.call(this,{add:g,remove:c},I,P,U)}})}(),function(){t.expr&&t.expr.pseudos&&t.expr.pseudos.animated&&(t.expr.pseudos.animated=function(r){return function(o){return!!t(o).data(w)||r(o)}}(t.expr.pseudos.animated)),t.uiBackCompat!==!1&&t.extend(t.effects,{save:function(r,o){for(var c=0,g=o.length;c<g;c++)o[c]!==null&&r.data(M+o[c],r[0].style[o[c]])},restore:function(r,o){for(var c,g=0,I=o.length;g<I;g++)o[g]!==null&&(c=r.data(M+o[g]),r.css(o[g],c))},setMode:function(r,o){return o==="toggle"&&(o=r.is(":hidden")?"show":"hide"),o},createWrapper:function(r){if(r.parent().is(".ui-effects-wrapper"))return r.parent();var o={width:r.outerWidth(!0),height:r.outerHeight(!0),float:r.css("float")},c=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),g={width:r.width(),height:r.height()},I=document.activeElement;try{I.id}catch{I=document.body}return r.wrap(c),(r[0]===I||t.contains(r[0],I))&&t(I).trigger("focus"),c=r.parent(),r.css("position")==="static"?(c.css({position:"relative"}),r.css({position:"relative"})):(t.extend(o,{position:r.css("position"),zIndex:r.css("z-index")}),t.each(["top","left","bottom","right"],function(P,U){o[U]=r.css(U),isNaN(parseInt(o[U],10))&&(o[U]="auto")}),r.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),r.css(g),c.css(o).show()},removeWrapper:function(r){var o=document.activeElement;return r.parent().is(".ui-effects-wrapper")&&(r.parent().replaceWith(r),(r[0]===o||t.contains(r[0],o))&&t(o).trigger("focus")),r}}),t.extend(t.effects,{version:"1.13.1",define:function(r,o,c){return c||(c=o,o="effect"),t.effects.effect[r]=c,t.effects.effect[r].mode=o,c},scaledDimensions:function(r,o,c){if(o===0)return{height:0,width:0,outerHeight:0,outerWidth:0};var g=c!=="horizontal"?(o||100)/100:1,I=c!=="vertical"?(o||100)/100:1;return{height:r.height()*I,width:r.width()*g,outerHeight:r.outerHeight()*I,outerWidth:r.outerWidth()*g}},clipToBox:function(r){return{width:r.clip.right-r.clip.left,height:r.clip.bottom-r.clip.top,left:r.clip.left,top:r.clip.top}},unshift:function(r,o,c){var g=r.queue();o>1&&g.splice.apply(g,[1,0].concat(g.splice(o,c))),r.dequeue()},saveStyle:function(r){r.data(X,r[0].style.cssText)},restoreStyle:function(r){r[0].style.cssText=r.data(X)||"",r.removeData(X)},mode:function(r,o){var c=r.is(":hidden");return o==="toggle"&&(o=c?"show":"hide"),(c?o==="hide":o==="show")&&(o="none"),o},getBaseline:function(r,o){var c,g;switch(r[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=r[0]/o.height}switch(r[1]){case"left":g=0;break;case"center":g=.5;break;case"right":g=1;break;default:g=r[1]/o.width}return{x:g,y:c}},createPlaceholder:function(r){var o,c=r.css("position"),g=r.position();return r.css({marginTop:r.css("marginTop"),marginBottom:r.css("marginBottom"),marginLeft:r.css("marginLeft"),marginRight:r.css("marginRight")}).outerWidth(r.outerWidth()).outerHeight(r.outerHeight()),/^(static|relative)/.test(c)&&(c="absolute",o=t("<"+r[0].nodeName+">").insertAfter(r).css({display:/^(inline|ruby)/.test(r.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:r.css("marginTop"),marginBottom:r.css("marginBottom"),marginLeft:r.css("marginLeft"),marginRight:r.css("marginRight"),float:r.css("float")}).outerWidth(r.outerWidth()).outerHeight(r.outerHeight()).addClass("ui-effects-placeholder"),r.data(M+"placeholder",o)),r.css({position:c,left:g.left,top:g.top}),o},removePlaceholder:function(r){var o=M+"placeholder",c=r.data(o);c&&(c.remove(),r.removeData(o))},cleanUp:function(r){t.effects.restoreStyle(r),t.effects.removePlaceholder(r)},setTransition:function(r,o,c,g){return g=g||{},t.each(o,function(I,P){var U=r.cssUnit(P);U[0]>0&&(g[P]=U[0]*c+U[1])}),g}});function e(r,o,c,g){return t.isPlainObject(r)&&(o=r,r=r.effect),r={effect:r},o==null&&(o={}),typeof o=="function"&&(g=o,c=null,o={}),(typeof o=="number"||t.fx.speeds[o])&&(g=c,c=o,o={}),typeof c=="function"&&(g=c,c=null),o&&t.extend(r,o),c=c||o.duration,r.duration=t.fx.off?0:typeof c=="number"?c:c in t.fx.speeds?t.fx.speeds[c]:t.fx.speeds._default,r.complete=g||o.complete,r}function i(r){return!!(!r||typeof r=="number"||t.fx.speeds[r]||typeof r=="string"&&!t.effects.effect[r]||typeof r=="function"||typeof r=="object"&&!r.effect)}t.fn.extend({effect:function(){var r=e.apply(this,arguments),o=t.effects.effect[r.effect],c=o.mode,g=r.queue,I=g||"fx",P=r.complete,U=r.mode,B=[],te=function(N){var C=t(this),x=t.effects.mode(C,U)||c;C.data(w,!0),B.push(x),c&&(x==="show"||x===c&&x==="hide")&&C.show(),(!c||x!=="none")&&t.effects.saveStyle(C),typeof N=="function"&&N()};if(t.fx.off||!o)return U?this[U](r.duration,P):this.each(function(){P&&P.call(this)});function S(N){var C=t(this);function x(){C.removeData(w),t.effects.cleanUp(C),r.mode==="hide"&&C.hide(),z()}function z(){typeof P=="function"&&P.call(C[0]),typeof N=="function"&&N()}r.mode=B.shift(),t.uiBackCompat!==!1&&!c?(C.is(":hidden")?U==="hide":U==="show")?(C[U](),z()):o.call(C[0],r,z):r.mode==="none"?(C[U](),z()):o.call(C[0],r,x)}return g===!1?this.each(te).each(S):this.queue(I,te).queue(I,S)},show:function(r){return function(o){if(i(o))return r.apply(this,arguments);var c=e.apply(this,arguments);return c.mode="show",this.effect.call(this,c)}}(t.fn.show),hide:function(r){return function(o){if(i(o))return r.apply(this,arguments);var c=e.apply(this,arguments);return c.mode="hide",this.effect.call(this,c)}}(t.fn.hide),toggle:function(r){return function(o){if(i(o)||typeof o=="boolean")return r.apply(this,arguments);var c=e.apply(this,arguments);return c.mode="toggle",this.effect.call(this,c)}}(t.fn.toggle),cssUnit:function(r){var o=this.css(r),c=[];return t.each(["em","px","%","pt"],function(g,I){o.indexOf(I)>0&&(c=[parseFloat(o),I])}),c},cssClip:function(r){return r?this.css("clip","rect("+r.top+"px "+r.right+"px "+r.bottom+"px "+r.left+"px)"):n(this.css("clip"),this)},transfer:function(r,o){var c=t(this),g=t(r.to),I=g.css("position")==="fixed",P=t("body"),U=I?P.scrollTop():0,B=I?P.scrollLeft():0,te=g.offset(),S={top:te.top-U,left:te.left-B,height:g.innerHeight(),width:g.innerWidth()},N=c.offset(),C=t("<div class='ui-effects-transfer'></div>");C.appendTo("body").addClass(r.className).css({top:N.top-U,left:N.left-B,height:c.innerHeight(),width:c.innerWidth(),position:I?"fixed":"absolute"}).animate(S,r.duration,r.easing,function(){C.remove(),typeof o=="function"&&o()})}});function n(r,o){var c=o.outerWidth(),g=o.outerHeight(),I=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,P=I.exec(r)||["",0,c,g,0];return{top:parseFloat(P[1])||0,right:P[2]==="auto"?c:parseFloat(P[2]),bottom:P[3]==="auto"?g:parseFloat(P[3]),left:parseFloat(P[4])||0}}t.fx.step.clip=function(r){r.clipInit||(r.start=t(r.elem).cssClip(),typeof r.end=="string"&&(r.end=n(r.end,r.elem)),r.clipInit=!0),t(r.elem).cssClip({top:r.pos*(r.end.top-r.start.top)+r.start.top,right:r.pos*(r.end.right-r.start.right)+r.start.right,bottom:r.pos*(r.end.bottom-r.start.bottom)+r.start.bottom,left:r.pos*(r.end.left-r.start.left)+r.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(i,n){e[n]=function(r){return Math.pow(r,i+2)}}),t.extend(e,{Sine:function(i){return 1-Math.cos(i*Math.PI/2)},Circ:function(i){return 1-Math.sqrt(1-i*i)},Elastic:function(i){return i===0||i===1?i:-Math.pow(2,8*(i-1))*Math.sin(((i-1)*80-7.5)*Math.PI/15)},Back:function(i){return i*i*(3*i-2)},Bounce:function(i){for(var n,r=4;i<((n=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((n*3-2)/22-i,2)}}),t.each(e,function(i,n){t.easing["easeIn"+i]=n,t.easing["easeOut"+i]=function(r){return 1-n(1-r)},t.easing["easeInOut"+i]=function(r){return r<.5?n(r*2)/2:1-n(r*-2+2)/2}})}(),t.effects,t.effects.define("blind","hide",function(e,i){var n={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=t(this),o=e.direction||"up",c=r.cssClip(),g={clip:t.extend({},c)},I=t.effects.createPlaceholder(r);g.clip[n[o][0]]=g.clip[n[o][1]],e.mode==="show"&&(r.cssClip(g.clip),I&&I.css(t.effects.clipToBox(g)),g.clip=c),I&&I.animate(t.effects.clipToBox(g),e.duration,e.easing),r.animate(g,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("bounce",function(e,i){var n,r,o,c=t(this),g=e.mode,I=g==="hide",P=g==="show",U=e.direction||"up",B=e.distance,te=e.times||5,S=te*2+(P||I?1:0),N=e.duration/S,C=e.easing,x=U==="up"||U==="down"?"top":"left",z=U==="up"||U==="left",Y=0,K=c.queue().length;for(t.effects.createPlaceholder(c),o=c.css(x),B||(B=c[x==="top"?"outerHeight":"outerWidth"]()/3),P&&(r={opacity:1},r[x]=o,c.css("opacity",0).css(x,z?-B*2:B*2).animate(r,N,C)),I&&(B=B/Math.pow(2,te-1)),r={},r[x]=o;Y<te;Y++)n={},n[x]=(z?"-=":"+=")+B,c.animate(n,N,C).animate(r,N,C),B=I?B*2:B/2;I&&(n={opacity:0},n[x]=(z?"-=":"+=")+B,c.animate(n,N,C)),c.queue(i),t.effects.unshift(c,K,S+1)}),t.effects.define("clip","hide",function(e,i){var n,r={},o=t(this),c=e.direction||"vertical",g=c==="both",I=g||c==="horizontal",P=g||c==="vertical";n=o.cssClip(),r.clip={top:P?(n.bottom-n.top)/2:n.top,right:I?(n.right-n.left)/2:n.right,bottom:P?(n.bottom-n.top)/2:n.bottom,left:I?(n.right-n.left)/2:n.left},t.effects.createPlaceholder(o),e.mode==="show"&&(o.cssClip(r.clip),r.clip=n),o.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("drop","hide",function(e,i){var n,r=t(this),o=e.mode,c=o==="show",g=e.direction||"left",I=g==="up"||g==="down"?"top":"left",P=g==="up"||g==="left"?"-=":"+=",U=P==="+="?"-=":"+=",B={opacity:0};t.effects.createPlaceholder(r),n=e.distance||r[I==="top"?"outerHeight":"outerWidth"](!0)/2,B[I]=P+n,c&&(r.css(B),B[I]=U+n,B.opacity=1),r.animate(B,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("explode","hide",function(e,i){var n,r,o,c,g,I,P=e.pieces?Math.round(Math.sqrt(e.pieces)):3,U=P,B=t(this),te=e.mode,S=te==="show",N=B.show().css("visibility","hidden").offset(),C=Math.ceil(B.outerWidth()/U),x=Math.ceil(B.outerHeight()/P),z=[];function Y(){z.push(this),z.length===P*U&&K()}for(n=0;n<P;n++)for(c=N.top+n*x,I=n-(P-1)/2,r=0;r<U;r++)o=N.left+r*C,g=r-(U-1)/2,B.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*C,top:-n*x}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:C,height:x,left:o+(S?g*C:0),top:c+(S?I*x:0),opacity:S?0:1}).animate({left:o+(S?0:g*C),top:c+(S?0:I*x),opacity:S?1:0},e.duration||500,e.easing,Y);function K(){B.css({visibility:"visible"}),t(z).remove(),i()}}),t.effects.define("fade","toggle",function(e,i){var n=e.mode==="show";t(this).css("opacity",n?0:1).animate({opacity:n?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("fold","hide",function(e,i){var n=t(this),r=e.mode,o=r==="show",c=r==="hide",g=e.size||15,I=/([0-9]+)%/.exec(g),P=!!e.horizFirst,U=P?["right","bottom"]:["bottom","right"],B=e.duration/2,te=t.effects.createPlaceholder(n),S=n.cssClip(),N={clip:t.extend({},S)},C={clip:t.extend({},S)},x=[S[U[0]],S[U[1]]],z=n.queue().length;I&&(g=parseInt(I[1],10)/100*x[c?0:1]),N.clip[U[0]]=g,C.clip[U[0]]=g,C.clip[U[1]]=0,o&&(n.cssClip(C.clip),te&&te.css(t.effects.clipToBox(C)),C.clip=S),n.queue(function(Y){te&&te.animate(t.effects.clipToBox(N),B,e.easing).animate(t.effects.clipToBox(C),B,e.easing),Y()}).animate(N,B,e.easing).animate(C,B,e.easing).queue(i),t.effects.unshift(n,z,4)}),t.effects.define("highlight","show",function(e,i){var n=t(this),r={backgroundColor:n.css("backgroundColor")};e.mode==="hide"&&(r.opacity=0),t.effects.saveStyle(n),n.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("size",function(e,i){var n,r,o,c=t(this),g=["fontSize"],I=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],P=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],U=e.mode,B=U!=="effect",te=e.scale||"both",S=e.origin||["middle","center"],N=c.css("position"),C=c.position(),x=t.effects.scaledDimensions(c),z=e.from||x,Y=e.to||t.effects.scaledDimensions(c,0);t.effects.createPlaceholder(c),U==="show"&&(o=z,z=Y,Y=o),r={from:{y:z.height/x.height,x:z.width/x.width},to:{y:Y.height/x.height,x:Y.width/x.width}},(te==="box"||te==="both")&&(r.from.y!==r.to.y&&(z=t.effects.setTransition(c,I,r.from.y,z),Y=t.effects.setTransition(c,I,r.to.y,Y)),r.from.x!==r.to.x&&(z=t.effects.setTransition(c,P,r.from.x,z),Y=t.effects.setTransition(c,P,r.to.x,Y))),(te==="content"||te==="both")&&r.from.y!==r.to.y&&(z=t.effects.setTransition(c,g,r.from.y,z),Y=t.effects.setTransition(c,g,r.to.y,Y)),S&&(n=t.effects.getBaseline(S,x),z.top=(x.outerHeight-z.outerHeight)*n.y+C.top,z.left=(x.outerWidth-z.outerWidth)*n.x+C.left,Y.top=(x.outerHeight-Y.outerHeight)*n.y+C.top,Y.left=(x.outerWidth-Y.outerWidth)*n.x+C.left),delete z.outerHeight,delete z.outerWidth,c.css(z),(te==="content"||te==="both")&&(I=I.concat(["marginTop","marginBottom"]).concat(g),P=P.concat(["marginLeft","marginRight"]),c.find("*[width]").each(function(){var K=t(this),Q=t.effects.scaledDimensions(K),d={height:Q.height*r.from.y,width:Q.width*r.from.x,outerHeight:Q.outerHeight*r.from.y,outerWidth:Q.outerWidth*r.from.x},A={height:Q.height*r.to.y,width:Q.width*r.to.x,outerHeight:Q.height*r.to.y,outerWidth:Q.width*r.to.x};r.from.y!==r.to.y&&(d=t.effects.setTransition(K,I,r.from.y,d),A=t.effects.setTransition(K,I,r.to.y,A)),r.from.x!==r.to.x&&(d=t.effects.setTransition(K,P,r.from.x,d),A=t.effects.setTransition(K,P,r.to.x,A)),B&&t.effects.saveStyle(K),K.css(d),K.animate(A,e.duration,e.easing,function(){B&&t.effects.restoreStyle(K)})})),c.animate(Y,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var K=c.offset();Y.opacity===0&&c.css("opacity",z.opacity),B||(c.css("position",N==="static"?"relative":N).offset(K),t.effects.saveStyle(c)),i()}})}),t.effects.define("scale",function(e,i){var n=t(this),r=e.mode,o=parseInt(e.percent,10)||(parseInt(e.percent,10)===0||r!=="effect"?0:100),c=t.extend(!0,{from:t.effects.scaledDimensions(n),to:t.effects.scaledDimensions(n,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(c.from.opacity=1,c.to.opacity=0),t.effects.effect.size.call(this,c,i)}),t.effects.define("puff","hide",function(e,i){var n=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,n,i)}),t.effects.define("pulsate","show",function(e,i){var n=t(this),r=e.mode,o=r==="show",c=r==="hide",g=o||c,I=(e.times||5)*2+(g?1:0),P=e.duration/I,U=0,B=1,te=n.queue().length;for((o||!n.is(":visible"))&&(n.css("opacity",0).show(),U=1);B<I;B++)n.animate({opacity:U},P,e.easing),U=1-U;n.animate({opacity:U},P,e.easing),n.queue(i),t.effects.unshift(n,te,I+1)}),t.effects.define("shake",function(e,i){var n=1,r=t(this),o=e.direction||"left",c=e.distance||20,g=e.times||3,I=g*2+1,P=Math.round(e.duration/I),U=o==="up"||o==="down"?"top":"left",B=o==="up"||o==="left",te={},S={},N={},C=r.queue().length;for(t.effects.createPlaceholder(r),te[U]=(B?"-=":"+=")+c,S[U]=(B?"+=":"-=")+c*2,N[U]=(B?"-=":"+=")+c*2,r.animate(te,P,e.easing);n<g;n++)r.animate(S,P,e.easing).animate(N,P,e.easing);r.animate(S,P,e.easing).animate(te,P/2,e.easing).queue(i),t.effects.unshift(r,C,I+1)}),t.effects.define("slide","show",function(e,i){var n,r,o=t(this),c={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},g=e.mode,I=e.direction||"left",P=I==="up"||I==="down"?"top":"left",U=I==="up"||I==="left",B=e.distance||o[P==="top"?"outerHeight":"outerWidth"](!0),te={};t.effects.createPlaceholder(o),n=o.cssClip(),r=o.position()[P],te[P]=(U?-1:1)*B+r,te.clip=o.cssClip(),te.clip[c[I][1]]=te.clip[c[I][0]],g==="show"&&(o.cssClip(te.clip),o.css(P,te[P]),te.clip=n,te[P]=r),o.animate(te,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.uiBackCompat!==!1&&t.effects.define("transfer",function(e,i){t(this).transfer(e,i)}),t.ui.focusable=function(e,i){var n,r,o,c,g,I=e.nodeName.toLowerCase();return I==="area"?(n=e.parentNode,r=n.name,!e.href||!r||n.nodeName.toLowerCase()!=="map"?!1:(o=t("img[usemap='#"+r+"']"),o.length>0&&o.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(I)?(c=!e.disabled,c&&(g=t(e).closest("fieldset")[0],g&&(c=!g.disabled))):I==="a"?c=e.href||i:c=i,c&&t(e).is(":visible")&&O(t(e)))};function O(e){for(var i=e.css("visibility");i==="inherit";)e=e.parent(),i=e.css("visibility");return i==="visible"}if(t.extend(t.expr.pseudos,{focusable:function(e){return t.ui.focusable(e,t.attr(e,"tabindex")!=null)}}),t.ui.focusable,t.fn._form=function(){return typeof this[0].form=="string"?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var i=e.data("ui-form-reset-instances");t.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element._form(),!!this.form.length){var e=this.form.data("ui-form-reset-instances")||[];e.length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},t.expr.pseudos||(t.expr.pseudos=t.expr[":"]),t.uniqueSort||(t.uniqueSort=t.unique),!t.escapeSelector){var G=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,ee=function(e,i){return i?e==="\0"?"\uFFFD":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e};t.escapeSelector=function(e){return(e+"").replace(G,ee)}}(!t.fn.even||!t.fn.odd)&&t.fn.extend({even:function(){return this.filter(function(e){return e%2==0})},odd:function(){return this.filter(function(e){return e%2==1})}}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.fn.labels=function(){var e,i,n,r,o;return this.length?this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),n=this.attr("id"),n&&(e=this.eq(0).parents().last(),o=e.add(e.length?e.siblings():this.siblings()),i="label[for='"+t.escapeSelector(n)+"']",r=r.add(o.find(i).addBack(i))),this.pushStack(r)):this.pushStack([])},t.fn.scrollParent=function(e){var i=this.css("position"),n=i==="absolute",r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var c=t(this);return n&&c.css("position")==="static"?!1:r.test(c.css("overflow")+c.css("overflow-y")+c.css("overflow-x"))}).eq(0);return i==="fixed"||!o.length?t(this[0].ownerDocument||document):o},t.extend(t.expr.pseudos,{tabbable:function(e){var i=t.attr(e,"tabindex"),n=i!=null;return(!n||i>=0)&&t.ui.focusable(e,n)}}),t.fn.extend({uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.widget("ui.accordion",{version:"1.13.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:function(e){return e.find("> li > :first-child").add(e.find("> :not(li)").even())},heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),!e.collapsible&&(e.active===!1||e.active==null)&&(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,i,n=this.options.icons;n&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+n.header),e.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,n.header)._addClass(i,null,n.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),this.options.heightStyle!=="content"&&e.css("height","")},_setOption:function(e,i){if(e==="active"){this._activate(i);return}e==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(i)),this._super(e,i),e==="collapsible"&&!i&&this.options.active===!1&&this._activate(0),e==="icons"&&(this._destroyIcons(),i&&this._createIcons())},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!e)},_keydown:function(e){if(!(e.altKey||e.ctrlKey)){var i=t.ui.keyCode,n=this.headers.length,r=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(r+1)%n];break;case i.LEFT:case i.UP:o=this.headers[(r-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[n-1];break}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,i=this.panels;typeof this.options.header=="function"?this.headers=this.options.header(this.element):this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),i&&(this._off(e.not(this.headers)),this._off(i.not(this.panels)))},_refresh:function(){var e,i=this.options,n=i.heightStyle,r=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var o=t(this),c=o.uniqueId().attr("id"),g=o.next(),I=g.uniqueId().attr("id");o.attr("aria-controls",I),g.attr("aria-labelledby",c)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),n==="fill"?(e=r.height(),this.element.siblings(":visible").each(function(){var o=t(this),c=o.css("position");c==="absolute"||c==="fixed"||(e-=o.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):n==="auto"&&(e=0,this.headers.next().each(function(){var o=t(this).is(":visible");o||t(this).show(),e=Math.max(e,t(this).css("height","").height()),o||t(this).hide()}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return typeof e=="number"?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(n,r){i[r]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i,n,r=this.options,o=this.active,c=t(e.currentTarget),g=c[0]===o[0],I=g&&r.collapsible,P=I?t():c.next(),U=o.next(),B={oldHeader:o,oldPanel:U,newHeader:I?t():c,newPanel:P};e.preventDefault(),!(g&&!r.collapsible||this._trigger("beforeActivate",e,B)===!1)&&(r.active=I?!1:this.headers.index(c),this.active=g?t():c,this._toggle(B),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),r.icons&&(i=o.children(".ui-accordion-header-icon"),this._removeClass(i,null,r.icons.activeHeader)._addClass(i,null,r.icons.header)),g||(this._removeClass(c,"ui-accordion-header-collapsed")._addClass(c,"ui-accordion-header-active","ui-state-active"),r.icons&&(n=c.children(".ui-accordion-header-icon"),this._removeClass(n,null,r.icons.header)._addClass(n,null,r.icons.activeHeader)),this._addClass(c.next(),"ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,e):(n.hide(),i.show(),this._toggleComplete(e)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return parseInt(t(this).attr("tabIndex"),10)===0}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,i,n){var r,o,c,g=this,I=0,P=e.css("box-sizing"),U=e.length&&(!i.length||e.index()<i.index()),B=this.options.animate||{},te=U&&B.down||B,S=function(){g._toggleComplete(n)};if(typeof te=="number"&&(c=te),typeof te=="string"&&(o=te),o=o||te.easing||B.easing,c=c||te.duration||B.duration,!i.length)return e.animate(this.showProps,c,o,S);if(!e.length)return i.animate(this.hideProps,c,o,S);r=e.show().outerHeight(),i.animate(this.hideProps,{duration:c,easing:o,step:function(N,C){C.now=Math.round(N)}}),e.hide().animate(this.showProps,{duration:c,easing:o,complete:S,step:function(N,C){C.now=Math.round(N),C.prop!=="height"?P==="content-box"&&(I+=C.now):g.options.heightStyle!=="content"&&(C.now=Math.round(r-i.outerHeight()-I),I=0)}})},_toggleComplete:function(e){var i=e.oldPanel,n=i.prev();this._removeClass(i,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),i.length&&(i.parent()[0].className=i.parent()[0].className),this._trigger("activate",null,e)}}),t.ui.safeActiveElement=function(e){var i;try{i=e.activeElement}catch{i=e.body}return i||(i=e.body),i.nodeName||(i=e.body),i},t.widget("ui.menu",{version:"1.13.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.lastMousePosition={x:null,y:null},this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault(),this._activateItem(e)},"click .ui-menu-item":function(e){var i=t(e.target),n=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&n.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":"_activateItem","mousemove .ui-menu-item":"_activateItem",mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,i){var n=this.active||this._menuItems().first();i||this.focus(e,n)},blur:function(e){this._delay(function(){var i=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e,!0),this.mouseHandled=!1}})},_activateItem:function(e){if(!this.previousFilter&&!(e.clientX===this.lastMousePosition.x&&e.clientY===this.lastMousePosition.y)){this.lastMousePosition={x:e.clientX,y:e.clientY};var i=t(e.target).closest(".ui-menu-item"),n=t(e.currentTarget);i[0]===n[0]&&(n.is(".ui-state-active")||(this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,n)))}},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var n=t(this);n.data("ui-menu-submenu-caret")&&n.remove()})},_keydown:function(e){var i,n,r,o,c=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:c=!1,n=this.previousFilter||"",o=!1,r=e.keyCode>=96&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),r===n?o=!0:r=n+r,i=this._filterMenuItems(r),i=o&&i.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):i,i.length||(r=String.fromCharCode(e.keyCode),i=this._filterMenuItems(r)),i.length?(this.focus(e,i),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}c&&e.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var e,i,n,r,o,c=this,g=this.options.icons.submenu,I=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),n=I.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var P=t(this),U=P.prev(),B=t("<span>").data("ui-menu-submenu-caret",!0);c._addClass(B,"ui-menu-icon","ui-icon "+g),U.attr("aria-haspopup","true").prepend(B),P.attr("aria-labelledby",U.attr("id"))}),this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front"),e=I.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var P=t(this);c._isDivider(P)&&c._addClass(P,"ui-menu-divider","ui-widget-content")}),r=i.not(".ui-menu-item, .ui-menu-divider"),o=r.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(r,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,i){if(e==="icons"){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,i.submenu)}this._super(e,i)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,i){var n,r,o;this.blur(e,e&&e.type==="focus"),this._scrollIntoView(i),this.active=i.first(),r=this.active.children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",r.attr("id")),o=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(o,null,"ui-state-active"),e&&e.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=i.children(".ui-menu"),n.length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=i.parent(),this._trigger("focus",e,{item:i})},_scrollIntoView:function(e){var i,n,r,o,c,g;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-i-n,o=this.activeMenu.scrollTop(),c=this.activeMenu.height(),g=e.outerHeight(),r<0?this.activeMenu.scrollTop(o+r):r+g>c&&this.activeMenu.scrollTop(o+r-c+g))},blur:function(e,i){i||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),e.attr("aria-hidden")==="true"&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this._removeClass(n.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=n},i?0:this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var i=this.active&&this.active.parent().closest(".ui-menu-item",this.element);i&&i.length&&(this._close(),this.focus(e,i))},expand:function(e){var i=this.active&&this._menuItems(this.active.children(".ui-menu")).first();i&&i.length&&(this._open(i.parent()),this._delay(function(){this.focus(e,i)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_menuItems:function(e){return(e||this.element).find(this.options.items).filter(".ui-menu-item")},_move:function(e,i,n){var r;this.active&&(e==="first"||e==="last"?r=this.active[e==="first"?"prevAll":"nextAll"](".ui-menu-item").last():r=this.active[e+"All"](".ui-menu-item").first()),(!r||!r.length||!this.active)&&(r=this._menuItems(this.activeMenu)[i]()),this.focus(n,r)},nextPage:function(e){var i,n,r;if(!this.active){this.next(e);return}this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.innerHeight(),t.fn.jquery.indexOf("3.2.")===0&&(r+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n-r<0}),this.focus(e,i)):this.focus(e,this._menuItems(this.activeMenu)[this.active?"last":"first"]()))},previousPage:function(e){var i,n,r;if(!this.active){this.next(e);return}this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.innerHeight(),t.fn.jquery.indexOf("3.2.")===0&&(r+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n+r>0}),this.focus(e,i)):this.focus(e,this._menuItems(this.activeMenu).first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(String.prototype.trim.call(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.13.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var e,i,n,r=this.element[0].nodeName.toLowerCase(),o=r==="textarea",c=r==="input";this.isMultiLine=o||!c&&this._isContentEditable(this.element),this.valueMethod=this.element[o||c?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(g){if(this.element.prop("readOnly")){e=!0,n=!0,i=!0;return}e=!1,n=!1,i=!1;var I=t.ui.keyCode;switch(g.keyCode){case I.PAGE_UP:e=!0,this._move("previousPage",g);break;case I.PAGE_DOWN:e=!0,this._move("nextPage",g);break;case I.UP:e=!0,this._keyEvent("previous",g);break;case I.DOWN:e=!0,this._keyEvent("next",g);break;case I.ENTER:this.menu.active&&(e=!0,g.preventDefault(),this.menu.select(g));break;case I.TAB:this.menu.active&&this.menu.select(g);break;case I.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(g),g.preventDefault());break;default:i=!0,this._searchTimeout(g);break}},keypress:function(g){if(e){e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&g.preventDefault();return}if(!i){var I=t.ui.keyCode;switch(g.keyCode){case I.PAGE_UP:this._move("previousPage",g);break;case I.PAGE_DOWN:this._move("nextPage",g);break;case I.UP:this._keyEvent("previous",g);break;case I.DOWN:this._keyEvent("next",g);break}}},input:function(g){if(n){n=!1,g.preventDefault();return}this._searchTimeout(g)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(g){clearTimeout(this.searching),this.close(g),this._change(g)}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().attr({unselectable:"on"}).menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(g){g.preventDefault()},menufocus:function(g,I){var P,U;if(this.isNewMenu&&(this.isNewMenu=!1,g.originalEvent&&/^mouse/.test(g.originalEvent.type))){this.menu.blur(),this.document.one("mousemove",function(){t(g.target).trigger(g.originalEvent)});return}U=I.item.data("ui-autocomplete-item"),this._trigger("focus",g,{item:U})!==!1&&g.originalEvent&&/^key/.test(g.originalEvent.type)&&this._value(U.value),P=I.item.attr("aria-label")||U.value,P&&String.prototype.trim.call(P).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(t("<div>").text(P))},100))},menuselect:function(g,I){var P=I.item.data("ui-autocomplete-item"),U=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=U,this._delay(function(){this.previous=U,this.selectedItem=P})),this._trigger("select",g,{item:P})!==!1&&this._value(P.value),this.term=this._value(),this.close(g),this.selectedItem=P}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,i){this._super(e,i),e==="source"&&this._initSource(),e==="appendTo"&&this.menu.element.appendTo(this._appendTo()),e==="disabled"&&i&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),(!e||!e[0])&&(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;Array.isArray(this.options.source)?(e=this.options.source,this.source=function(r,o){o(t.ui.autocomplete.filter(e,r.term))}):typeof this.options.source=="string"?(i=this.options.source,this.source=function(r,o){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:r,dataType:"json",success:function(c){o(c)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var i=this.term===this._value(),n=this.menu.element.is(":visible"),r=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!i||i&&!n&&!r)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,i){if(e=e!=null?e:this._value(),this.term=this._value(),e.length<this.options.minLength)return this.close(i);if(this._trigger("search",i)!==!1)return this._search(e)},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=++this.requestIndex;return function(i){e===this.requestIndex&&this.__response(i),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}.bind(this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(i){return typeof i=="string"?{label:i,value:i}:t.extend({},i,{label:i.label||i.value,value:i.value||i.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(r,o){n._renderItemData(e,o)})},_renderItemData:function(e,i){return this._renderItem(e,i).data("ui-autocomplete-item",i)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(e,i){if(!this.menu.element.is(":visible")){this.search(null,i);return}if(this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)){this.isMultiLine||this._value(this.term),this.menu.blur();return}this.menu[e](i)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,i){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,i),i.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var i=e.prop("contentEditable");return i==="inherit"?this._isContentEditable(e.parent()):i==="true"}}),t.extend(t.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(r){return n.test(r.label||r.value||r)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),!(this.options.disabled||this.cancelSearch)&&(e&&e.length?i=this.options.messages.results(e.length):i=this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(t("<div>").text(i))},100))}}),t.ui.autocomplete;var de=/ui-corner-([a-z]){2,6}/g;t.widget("ui.controlgroup",{version:"1.13.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,function(n,r){var o,c={};if(r){if(n==="controlgroupLabel"){o=e.element.find(r),o.each(function(){var g=t(this);g.children(".ui-controlgroup-label-contents").length||g.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),i=i.concat(o.get());return}!t.fn[n]||(e["_"+n+"Options"]?c=e["_"+n+"Options"]("middle"):c={classes:{}},e.element.find(r).each(function(){var g=t(this),I=g[n]("instance"),P=t.widget.extend({},c);if(!(n==="button"&&g.parent(".ui-spinner").length)){I||(I=g[n]()[n]("instance")),I&&(P.classes=e._resolveClassesValues(P.classes,I)),g[n](P);var U=g[n]("widget");t.data(U[0],"ui-controlgroup-data",I||g[n]("instance")),i.push(U[0])}}))}}),this.childWidgets=t(t.uniqueSort(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var i=t(this),n=i.data("ui-controlgroup-data");n&&n[e]&&n[e]()})},_updateCornerClass:function(e,i){var n="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",r=this._buildSimpleOptions(i,"label").classes.label;this._removeClass(e,null,n),this._addClass(e,null,r)},_buildSimpleOptions:function(e,i){var n=this.options.direction==="vertical",r={classes:{}};return r.classes[i]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[e],r},_spinnerOptions:function(e){var i=this._buildSimpleOptions(e,"ui-spinner");return i.classes["ui-spinner-up"]="",i.classes["ui-spinner-down"]="",i},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var i=this.options.direction==="vertical";return{width:i?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(i?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(i?"top":"left")},last:{"ui-selectmenu-button-open":i?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(i?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(e,i){var n={};return t.each(e,function(r){var o=i.options.classes[r]||"";o=String.prototype.trim.call(o.replace(de,"")),n[r]=(o+" "+e[r]).replace(/\s+/g," ")}),n},_setOption:function(e,i){if(e==="direction"&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,i),e==="disabled"){this._callChildMethod(i?"disable":"enable");return}this.refresh()},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),this.options.direction==="horizontal"&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(n,r){var o=e[r]().data("ui-controlgroup-data");if(o&&i["_"+o.widgetName+"Options"]){var c=i["_"+o.widgetName+"Options"](e.length===1?"only":r);c.classes=i._resolveClassesValues(c.classes,o),o.element[o.widgetName](c)}else i._updateCornerClass(e[r](),r)}),this._callChildMethod("refresh"))}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.13.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,n=this,r=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){n.originalLabel+=this.nodeType===3?t(this).text():this.outerHTML}),this.originalLabel&&(r.label=this.originalLabel),e=this.element[0].disabled,e!=null&&(r.disabled=e),r},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),this.options.disabled==null&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),this.type==="radio"&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,(e!=="input"||!/radio|checkbox/.test(this.type))&&t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,i=this.element[0].name,n="input[name='"+t.escapeSelector(i)+"']";return i?(this.form.length?e=t(this.form[0].elements).filter(n):e=t(n).filter(function(){return t(this)._form().length===0}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&this.type==="checkbox"&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),this.type==="radio"&&this._getRadioGroup().each(function(){var i=t(this).checkboxradio("instance");i&&i._removeClass(i.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,i){if(!(e==="label"&&!i)){if(this._super(e,i),e==="disabled"){this._toggleClass(this.label,null,"ui-state-disabled",i),this.element[0].disabled=i;return}this.refresh()}},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),this.type==="checkbox"?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):this.icon!==void 0&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0])),this.iconSpace&&(e=e.not(this.iconSpace[0])),e.remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,i=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.label!==null&&this._updateLabel(),i!==this.options.disabled&&this._setOptions({disabled:i})}}]),t.ui.checkboxradio,t.widget("ui.button",{version:"1.13.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,i=this._super()||{};return this.isInput=this.element.is("input"),e=this.element[0].disabled,e!=null&&(i.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(i.label=this.originalLabel),i},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),this.options.disabled==null&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),!this.options.showLabel&&!this.title&&this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var n=e!=="iconPosition",r=n?this.options.iconPosition:i,o=r==="top"||r==="bottom";this.icon?n&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),n&&this._addClass(this.icon,null,i),this._attachIcon(r),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var i=e.showLabel===void 0?this.options.showLabel:e.showLabel,n=e.icon===void 0?this.options.icon:e.icon;!i&&!n&&(e.showLabel=!0),this._super(e)},_setOption:function(e,i){e==="icon"&&(i?this._updateIcon(e,i):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),e==="iconPosition"&&this._updateIcon(e,i),e==="showLabel"&&(this._toggleClass("ui-button-icon-only",null,!i),this._updateTooltip()),e==="label"&&(this.isInput?this.element.val(i):(this.element.html(i),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,i),e==="disabled"&&(this._toggleClass(null,"ui-state-disabled",i),this.element[0].disabled=i,i&&this.element.trigger("blur"))},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),!this.options.icon&&(this.options.icons.primary||this.options.icons.secondary)?this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"):this.options.icon&&(this.options.icons.primary=this.options.icon),this._super()},_setOption:function(e,i){if(e==="text"){this._super("showLabel",i);return}e==="showLabel"&&(this.options.text=i),e==="icon"&&(this.options.icons.primary=i),e==="icons"&&(i.primary?(this._super("icon",i.primary),this._super("iconPosition","beginning")):i.secondary&&(this._super("icon",i.secondary),this._super("iconPosition","end"))),this._superApply(arguments)}}),t.fn.button=function(e){return function(i){var n=typeof i=="string",r=Array.prototype.slice.call(arguments,1),o=this;return n?!this.length&&i==="instance"?o=void 0:this.each(function(){var c,g=t(this).attr("type"),I=g!=="checkbox"&&g!=="radio"?"button":"checkboxradio",P=t.data(this,"ui-"+I);if(i==="instance")return o=P,!1;if(!P)return t.error("cannot call methods on button prior to initialization; attempted to call method '"+i+"'");if(typeof P[i]!="function"||i.charAt(0)==="_")return t.error("no such method '"+i+"' for button widget instance");if(c=P[i].apply(P,r),c!==P&&c!==void 0)return o=c&&c.jquery?o.pushStack(c.get()):c,!1}):(r.length&&(i=t.widget.extend.apply(null,[i].concat(r))),this.each(function(){var c=t(this).attr("type"),g=c!=="checkbox"&&c!=="radio"?"button":"checkboxradio",I=t.data(this,"ui-"+g);if(I)I.option(i||{}),I._init&&I._init();else{if(g==="button"){e.call(t(this),i);return}t(this).checkboxradio(t.extend({icon:!1},i))}})),o}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),arguments[0]==="option"&&arguments[1]==="items"&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):arguments[0]==="option"&&arguments[1]==="items"?this.controlgroup.apply(this,[arguments[0],"items.button"]):(typeof arguments[0]=="object"&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.13.1"}});var ie;function W(e){for(var i,n;e.length&&e[0]!==document;){if(i=e.css("position"),(i==="absolute"||i==="relative"||i==="fixed")&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&n!==0))return n;e=e.parent()}return 0}function re(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",selectMonthLabel:"Select month",selectYearLabel:"Select year"},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,onUpdateDatepicker:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=ue(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}t.extend(re.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return le(this._defaults,e||{}),this},_attachDatepicker:function(e,i){var n,r,o;n=e.nodeName.toLowerCase(),r=n==="div"||n==="span",e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),r),o.settings=t.extend({},i||{}),n==="input"?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var n=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?ue(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),!n.hasClass(this.markerClassName)&&(this._attachments(n,i),n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,r,o,c=this._get(i,"appendText"),g=this._get(i,"isRTL");i.append&&i.append.remove(),c&&(i.append=t("<span>").addClass(this._appendClass).text(c),e[g?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),(n==="focus"||n==="both")&&e.on("focus",this._showDatepicker),(n==="button"||n==="both")&&(r=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),this._get(i,"buttonImageOnly")?i.trigger=t("<img>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):(i.trigger=t("<button type='button'>").addClass(this._triggerClass),o?i.trigger.html(t("<img>").attr({src:o,alt:r,title:r})):i.trigger.text(r)),e[g?"before":"after"](i.trigger),i.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():(t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]&&t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var i,n,r,o,c=new Date(2009,11,20),g=this._get(e,"dateFormat");g.match(/[DM]/)&&(i=function(I){for(n=0,r=0,o=0;o<I.length;o++)I[o].length>n&&(n=I[o].length,r=o);return r},c.setMonth(i(this._get(e,g.match(/MM/)?"monthNames":"monthNamesShort"))),c.setDate(i(this._get(e,g.match(/DD/)?"dayNames":"dayNamesShort"))+20-c.getDay())),e.input.attr("size",this._formatDate(e,c).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,r,o){var c,g,I,P,U,B=this._dialogInst;return B||(this.uuid+=1,c="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+c+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),B=this._dialogInst=this._newInst(this._dialogInput,!1),B.settings={},t.data(this._dialogInput[0],"datepicker",B)),le(B.settings,r||{}),i=i&&i.constructor===Date?this._formatDate(B,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(g=document.documentElement.clientWidth,I=document.documentElement.clientHeight,P=document.documentElement.scrollLeft||document.body.scrollLeft,U=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[g/2-100+P,I/2-150+U]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),B.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",B),this},_destroyDatepicker:function(e){var i,n=t(e),r=t.data(e,"datepicker");!n.hasClass(this.markerClassName)||(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),i==="input"?(r.append.remove(),r.trigger.remove(),n.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):(i==="div"||i==="span")&&n.removeClass(this.markerClassName).empty(),ie===r&&(ie=null,this._curInst=null))},_enableDatepicker:function(e){var i,n,r=t(e),o=t.data(e,"datepicker");!r.hasClass(this.markerClassName)||(i=e.nodeName.toLowerCase(),i==="input"?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):(i==="div"||i==="span")&&(n=r.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(c){return c===e?null:c}))},_disableDatepicker:function(e){var i,n,r=t(e),o=t.data(e,"datepicker");!r.hasClass(this.markerClassName)||(i=e.nodeName.toLowerCase(),i==="input"?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):(i==="div"||i==="span")&&(n=r.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(c){return c===e?null:c}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var i=0;i<this._disabledInputs.length;i++)if(this._disabledInputs[i]===e)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch{throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,n){var r,o,c,g,I=this._getInst(e);if(arguments.length===2&&typeof i=="string")return i==="defaults"?t.extend({},t.datepicker._defaults):I?i==="all"?t.extend({},I.settings):this._get(I,i):null;r=i||{},typeof i=="string"&&(r={},r[i]=n),I&&(this._curInst===I&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),c=this._getMinMaxDate(I,"min"),g=this._getMinMaxDate(I,"max"),le(I.settings,r),c!==null&&r.dateFormat!==void 0&&r.minDate===void 0&&(I.settings.minDate=this._formatDate(I,c)),g!==null&&r.dateFormat!==void 0&&r.maxDate===void 0&&(I.settings.maxDate=this._formatDate(I,g)),"disabled"in r&&(r.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),I),this._autoSize(I),this._setDate(I,o),this._updateAlternate(I),this._updateDatepicker(I))},_changeDatepicker:function(e,i,n){this._optionDatepicker(e,i,n)},_refreshDatepicker:function(e){var i=this._getInst(e);i&&this._updateDatepicker(i)},_setDateDatepicker:function(e,i){var n=this._getInst(e);n&&(this._setDate(n,i),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,i){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,i),n?this._getDate(n):null},_doKeyDown:function(e){var i,n,r,o=t.datepicker._getInst(e.target),c=!0,g=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),c=!1;break;case 13:return r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),r[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]),i=t.datepicker._get(o,"onSelect"),i?(n=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[n,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),c=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),c=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,g?1:-1,"D"),c=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),c=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,g?-1:1,"D"),c=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),c=e.ctrlKey||e.metaKey;break;default:c=!1}else e.keyCode===36&&e.ctrlKey?t.datepicker._showDatepicker(this):c=!1;c&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,n,r=t.datepicker._getInst(e.target);if(t.datepicker._get(r,"constrainInput"))return i=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),n=String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||n<" "||!i||i.indexOf(n)>-1},_doKeyUp:function(e){var i,n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n)),i&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch{}return!0},_showDatepicker:function(e){if(e=e.target||e,e.nodeName.toLowerCase()!=="input"&&(e=t("input",e.parentNode)[0]),!(t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e)){var i,n,r,o,c,g,I;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(i,"beforeShow"),r=n?n.apply(e,[e,i]):{},r!==!1&&(le(i.settings,r),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),o=!1,t(e).parents().each(function(){return o|=t(this).css("position")==="fixed",!o}),c={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),c=t.datepicker._checkOffset(i,c,o),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":o?"fixed":"absolute",display:"none",left:c.left+"px",top:c.top+"px"}),i.inline||(g=t.datepicker._get(i,"showAnim"),I=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",W(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[g]?i.dpDiv.show(g,t.datepicker._get(i,"showOptions"),I):i.dpDiv[g||"show"](g?I:null),t.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,ie=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,n=this._getNumberOfMonths(e),r=n[1],o=17,c=e.dpDiv.find("."+this._dayOverClass+" a"),g=t.datepicker._get(e,"onUpdateDatepicker");c.length>0&&ce.apply(c.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",o*r+"em"),e.dpDiv[(n[0]!==1||n[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year").first().replaceWith(e.yearshtml),i=e.yearshtml=null},0)),g&&g.apply(e.input?e.input[0]:null,[e])},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(e,i,n){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),c=e.input?e.input.outerWidth():0,g=e.input?e.input.outerHeight():0,I=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),P=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?r-c:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+g?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+r>I&&I>r?Math.abs(i.left+r-I):0),i.top-=Math.min(i.top,i.top+o>P&&P>o?Math.abs(o+g):0),i},_findPos:function(e){for(var i,n=this._getInst(e),r=this._get(n,"isRTL");e&&(e.type==="hidden"||e.nodeType!==1||t.expr.pseudos.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,n,r,o,c=this._curInst;!c||e&&c!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(c,"showAnim"),n=this._get(c,"duration"),r=function(){t.datepicker._tidyDialog(c)},t.effects&&(t.effects.effect[i]||t.effects[i])?c.dpDiv.hide(i,t.datepicker._get(c,"showOptions"),n,r):c.dpDiv[i==="slideDown"?"slideUp":i==="fadeIn"?"fadeOut":"hide"](i?n:null,r),i||r(),this._datepickerShowing=!1,o=this._get(c,"onClose"),o&&o.apply(c.input?c.input[0]:null,[c.input?c.input.val():"",c]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&i.parents("#"+t.datepicker._mainDivId).length===0&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&!(t.datepicker._inDialog&&t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==n)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var r=t(e),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,i,n),this._updateDatepicker(o))},_gotoToday:function(e){var i,n=t(e),r=this._getInst(n[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(i=new Date,r.selectedDay=i.getDate(),r.drawMonth=r.selectedMonth=i.getMonth(),r.drawYear=r.selectedYear=i.getFullYear()),this._notifyChange(r),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var r=t(e),o=this._getInst(r[0]);o["selected"+(n==="M"?"Month":"Year")]=o["draw"+(n==="M"?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(e,i,n,r){var o,c=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(c[0])||(o=this._getInst(c[0]),o.selectedDay=o.currentDay=parseInt(t("a",r).attr("data-date")),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=n,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,r=t(e),o=this._getInst(r[0]);i=i!=null?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),n=this._get(o,"onSelect"),n?n.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],typeof o.input[0]!="object"&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,n,r,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),r=this.formatDate(i,n,this._getFormatConfig(e)),t(document).find(o).val(r))},noWeekends:function(e){var i=e.getDay();return[i>0&&i<6,""]},iso8601Week:function(e){var i,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),i=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((i-n)/864e5)/7)+1},parseDate:function(e,i,n){if(e==null||i==null)throw"Invalid arguments";if(i=typeof i=="object"?i.toString():i+"",i==="")return null;var r,o,c,g=0,I=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,P=typeof I!="string"?I:new Date().getFullYear()%100+parseInt(I,10),U=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,B=(n?n.dayNames:null)||this._defaults.dayNames,te=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,S=(n?n.monthNames:null)||this._defaults.monthNames,N=-1,C=-1,x=-1,z=-1,Y=!1,K,Q=function(j){var J=r+1<e.length&&e.charAt(r+1)===j;return J&&r++,J},d=function(j){var J=Q(j),oe=j==="@"?14:j==="!"?20:j==="y"&&J?4:j==="o"?3:2,ve=j==="y"?oe:1,ge=new RegExp("^\\d{"+ve+","+oe+"}"),ye=i.substring(g).match(ge);if(!ye)throw"Missing number at position "+g;return g+=ye[0].length,parseInt(ye[0],10)},A=function(j,J,oe){var ve=-1,ge=t.map(Q(j)?oe:J,function(ye,Ee){return[[Ee,ye]]}).sort(function(ye,Ee){return-(ye[1].length-Ee[1].length)});if(t.each(ge,function(ye,Ee){var we=Ee[1];if(i.substr(g,we.length).toLowerCase()===we.toLowerCase())return ve=Ee[0],g+=we.length,!1}),ve!==-1)return ve+1;throw"Unknown name at position "+g},H=function(){if(i.charAt(g)!==e.charAt(r))throw"Unexpected literal at position "+g;g++};for(r=0;r<e.length;r++)if(Y)e.charAt(r)==="'"&&!Q("'")?Y=!1:H();else switch(e.charAt(r)){case"d":x=d("d");break;case"D":A("D",U,B);break;case"o":z=d("o");break;case"m":C=d("m");break;case"M":C=A("M",te,S);break;case"y":N=d("y");break;case"@":K=new Date(d("@")),N=K.getFullYear(),C=K.getMonth()+1,x=K.getDate();break;case"!":K=new Date((d("!")-this._ticksTo1970)/1e4),N=K.getFullYear(),C=K.getMonth()+1,x=K.getDate();break;case"'":Q("'")?H():Y=!0;break;default:H()}if(g<i.length&&(c=i.substr(g),!/^\s+/.test(c)))throw"Extra/unparsed characters found in date: "+c;if(N===-1?N=new Date().getFullYear():N<100&&(N+=new Date().getFullYear()-new Date().getFullYear()%100+(N<=P?0:-100)),z>-1){C=1,x=z;do{if(o=this._getDaysInMonth(N,C-1),x<=o)break;C++,x-=o}while(!0)}if(K=this._daylightSavingAdjust(new Date(N,C-1,x)),K.getFullYear()!==N||K.getMonth()+1!==C||K.getDate()!==x)throw"Invalid date";return K},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7,formatDate:function(e,i,n){if(!i)return"";var r,o=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,c=(n?n.dayNames:null)||this._defaults.dayNames,g=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,I=(n?n.monthNames:null)||this._defaults.monthNames,P=function(N){var C=r+1<e.length&&e.charAt(r+1)===N;return C&&r++,C},U=function(N,C,x){var z=""+C;if(P(N))for(;z.length<x;)z="0"+z;return z},B=function(N,C,x,z){return P(N)?z[C]:x[C]},te="",S=!1;if(i)for(r=0;r<e.length;r++)if(S)e.charAt(r)==="'"&&!P("'")?S=!1:te+=e.charAt(r);else switch(e.charAt(r)){case"d":te+=U("d",i.getDate(),2);break;case"D":te+=B("D",i.getDay(),o,c);break;case"o":te+=U("o",Math.round((new Date(i.getFullYear(),i.getMonth(),i.getDate()).getTime()-new Date(i.getFullYear(),0,0).getTime())/864e5),3);break;case"m":te+=U("m",i.getMonth()+1,2);break;case"M":te+=B("M",i.getMonth(),g,I);break;case"y":te+=P("y")?i.getFullYear():(i.getFullYear()%100<10?"0":"")+i.getFullYear()%100;break;case"@":te+=i.getTime();break;case"!":te+=i.getTime()*1e4+this._ticksTo1970;break;case"'":P("'")?te+="'":S=!0;break;default:te+=e.charAt(r)}return te},_possibleChars:function(e){var i,n="",r=!1,o=function(c){var g=i+1<e.length&&e.charAt(i+1)===c;return g&&i++,g};for(i=0;i<e.length;i++)if(r)e.charAt(i)==="'"&&!o("'")?r=!1:n+=e.charAt(i);else switch(e.charAt(i)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":o("'")?n+="'":r=!0;break;default:n+=e.charAt(i)}return n},_get:function(e,i){return e.settings[i]!==void 0?e.settings[i]:this._defaults[i]},_setDateFromField:function(e,i){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,o=this._getDefaultDate(e),c=o,g=this._getFormatConfig(e);try{c=this.parseDate(n,r,g)||o}catch{r=i?"":r}e.selectedDay=c.getDate(),e.drawMonth=e.selectedMonth=c.getMonth(),e.drawYear=e.selectedYear=c.getFullYear(),e.currentDay=r?c.getDate():0,e.currentMonth=r?c.getMonth():0,e.currentYear=r?c.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,i,n){var r=function(g){var I=new Date;return I.setDate(I.getDate()+g),I},o=function(g){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),g,t.datepicker._getFormatConfig(e))}catch{}for(var I=(g.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,P=I.getFullYear(),U=I.getMonth(),B=I.getDate(),te=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,S=te.exec(g);S;){switch(S[2]||"d"){case"d":case"D":B+=parseInt(S[1],10);break;case"w":case"W":B+=parseInt(S[1],10)*7;break;case"m":case"M":U+=parseInt(S[1],10),B=Math.min(B,t.datepicker._getDaysInMonth(P,U));break;case"y":case"Y":P+=parseInt(S[1],10),B=Math.min(B,t.datepicker._getDaysInMonth(P,U));break}S=te.exec(g)}return new Date(P,U,B)},c=i==null||i===""?n:typeof i=="string"?o(i):typeof i=="number"?isNaN(i)?n:r(i):new Date(i.getTime());return c=c&&c.toString()==="Invalid Date"?n:c,c&&(c.setHours(0),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0)),this._daylightSavingAdjust(c)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,i,n){var r=!i,o=e.selectedMonth,c=e.selectedYear,g=this._restrictMinMax(e,this._determineDate(e,i,new Date));e.selectedDay=e.currentDay=g.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=g.getMonth(),e.drawYear=e.selectedYear=e.currentYear=g.getFullYear(),(o!==e.selectedMonth||c!==e.selectedYear)&&!n&&this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){var i=!e.currentYear||e.input&&e.input.val()===""?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return i},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var r={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),r[this.getAttribute("data-handler")])})},_generateHTML:function(e){var i,n,r,o,c,g,I,P,U,B,te,S,N,C,x,z,Y,K,Q,d,A,H,j,J,oe,ve,ge,ye,Ee,we,Ne,Ce,xe,Se,Le,ke,$e,Xe,ze,Ie=new Date,Be=this._daylightSavingAdjust(new Date(Ie.getFullYear(),Ie.getMonth(),Ie.getDate())),Ae=this._get(e,"isRTL"),Me=this._get(e,"showButtonPanel"),je=this._get(e,"hideIfNoPrevNext"),He=this._get(e,"navigationAsDateFormat"),Pe=this._getNumberOfMonths(e),Re=this._get(e,"showCurrentAtPos"),st=this._get(e,"stepMonths"),Qe=Pe[0]!==1||Pe[1]!==1,We=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),ne=this._getMinMaxDate(e,"min"),fe=this._getMinMaxDate(e,"max"),_e=e.drawMonth-Re,pe=e.drawYear;if(_e<0&&(_e+=12,pe--),fe)for(i=this._daylightSavingAdjust(new Date(fe.getFullYear(),fe.getMonth()-Pe[0]*Pe[1]+1,fe.getDate())),i=ne&&i<ne?ne:i;this._daylightSavingAdjust(new Date(pe,_e,1))>i;)_e--,_e<0&&(_e=11,pe--);for(e.drawMonth=_e,e.drawYear=pe,n=this._get(e,"prevText"),n=He?this.formatDate(n,this._daylightSavingAdjust(new Date(pe,_e-st,1)),this._getFormatConfig(e)):n,this._canAdjustMonth(e,-1,pe,_e)?r=t("<a>").attr({class:"ui-datepicker-prev ui-corner-all","data-handler":"prev","data-event":"click",title:n}).append(t("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(Ae?"e":"w")).text(n))[0].outerHTML:je?r="":r=t("<a>").attr({class:"ui-datepicker-prev ui-corner-all ui-state-disabled",title:n}).append(t("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(Ae?"e":"w")).text(n))[0].outerHTML,o=this._get(e,"nextText"),o=He?this.formatDate(o,this._daylightSavingAdjust(new Date(pe,_e+st,1)),this._getFormatConfig(e)):o,this._canAdjustMonth(e,1,pe,_e)?c=t("<a>").attr({class:"ui-datepicker-next ui-corner-all","data-handler":"next","data-event":"click",title:o}).append(t("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(Ae?"w":"e")).text(o))[0].outerHTML:je?c="":c=t("<a>").attr({class:"ui-datepicker-next ui-corner-all ui-state-disabled",title:o}).append(t("<span>").attr("class","ui-icon ui-icon-circle-triangle-"+(Ae?"w":"e")).text(o))[0].outerHTML,g=this._get(e,"currentText"),I=this._get(e,"gotoCurrent")&&e.currentDay?We:Be,g=He?this.formatDate(g,I,this._getFormatConfig(e)):g,P="",e.inline||(P=t("<button>").attr({type:"button",class:"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all","data-handler":"hide","data-event":"click"}).text(this._get(e,"closeText"))[0].outerHTML),U="",Me&&(U=t("<div class='ui-datepicker-buttonpane ui-widget-content'>").append(Ae?P:"").append(this._isInRange(e,I)?t("<button>").attr({type:"button",class:"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all","data-handler":"today","data-event":"click"}).text(g):"").append(Ae?"":P)[0].outerHTML),B=parseInt(this._get(e,"firstDay"),10),B=isNaN(B)?0:B,te=this._get(e,"showWeek"),S=this._get(e,"dayNames"),N=this._get(e,"dayNamesMin"),C=this._get(e,"monthNames"),x=this._get(e,"monthNamesShort"),z=this._get(e,"beforeShowDay"),Y=this._get(e,"showOtherMonths"),K=this._get(e,"selectOtherMonths"),Q=this._getDefaultDate(e),d="",H=0;H<Pe[0];H++){for(j="",this.maxRows=4,J=0;J<Pe[1];J++){if(oe=this._daylightSavingAdjust(new Date(pe,_e,e.selectedDay)),ve=" ui-corner-all",ge="",Qe){if(ge+="<div class='ui-datepicker-group",Pe[1]>1)switch(J){case 0:ge+=" ui-datepicker-group-first",ve=" ui-corner-"+(Ae?"right":"left");break;case Pe[1]-1:ge+=" ui-datepicker-group-last",ve=" ui-corner-"+(Ae?"left":"right");break;default:ge+=" ui-datepicker-group-middle",ve="";break}ge+="'>"}for(ge+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+ve+"'>"+(/all|left/.test(ve)&&H===0?Ae?c:r:"")+(/all|right/.test(ve)&&H===0?Ae?r:c:"")+this._generateMonthYearHeader(e,_e,pe,ne,fe,H>0||J>0,C,x)+"</div><table class='ui-datepicker-calendar'><thead><tr>",ye=te?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",A=0;A<7;A++)Ee=(A+B)%7,ye+="<th scope='col'"+((A+B+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+S[Ee]+"'>"+N[Ee]+"</span></th>";for(ge+=ye+"</tr></thead><tbody>",we=this._getDaysInMonth(pe,_e),pe===e.selectedYear&&_e===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,we)),Ne=(this._getFirstDayOfMonth(pe,_e)-B+7)%7,Ce=Math.ceil((Ne+we)/7),xe=Qe&&this.maxRows>Ce?this.maxRows:Ce,this.maxRows=xe,Se=this._daylightSavingAdjust(new Date(pe,_e,1-Ne)),Le=0;Le<xe;Le++){for(ge+="<tr>",ke=te?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(Se)+"</td>":"",A=0;A<7;A++)$e=z?z.apply(e.input?e.input[0]:null,[Se]):[!0,""],Xe=Se.getMonth()!==_e,ze=Xe&&!K||!$e[0]||ne&&Se<ne||fe&&Se>fe,ke+="<td class='"+((A+B+6)%7>=5?" ui-datepicker-week-end":"")+(Xe?" ui-datepicker-other-month":"")+(Se.getTime()===oe.getTime()&&_e===e.selectedMonth&&e._keyEvent||Q.getTime()===Se.getTime()&&Q.getTime()===oe.getTime()?" "+this._dayOverClass:"")+(ze?" "+this._unselectableClass+" ui-state-disabled":"")+(Xe&&!Y?"":" "+$e[1]+(Se.getTime()===We.getTime()?" "+this._currentClass:"")+(Se.getTime()===Be.getTime()?" ui-datepicker-today":""))+"'"+((!Xe||Y)&&$e[2]?" title='"+$e[2].replace(/'/g,"&#39;")+"'":"")+(ze?"":" data-handler='selectDay' data-event='click' data-month='"+Se.getMonth()+"' data-year='"+Se.getFullYear()+"'")+">"+(Xe&&!Y?"&#xa0;":ze?"<span class='ui-state-default'>"+Se.getDate()+"</span>":"<a class='ui-state-default"+(Se.getTime()===Be.getTime()?" ui-state-highlight":"")+(Se.getTime()===We.getTime()?" ui-state-active":"")+(Xe?" ui-priority-secondary":"")+"' href='#' aria-current='"+(Se.getTime()===We.getTime()?"true":"false")+"' data-date='"+Se.getDate()+"'>"+Se.getDate()+"</a>")+"</td>",Se.setDate(Se.getDate()+1),Se=this._daylightSavingAdjust(Se);ge+=ke+"</tr>"}_e++,_e>11&&(_e=0,pe++),ge+="</tbody></table>"+(Qe?"</div>"+(Pe[0]>0&&J===Pe[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),j+=ge}d+=j}return d+=U,e._keyEvent=!1,d},_generateMonthYearHeader:function(e,i,n,r,o,c,g,I){var P,U,B,te,S,N,C,x,z=this._get(e,"changeMonth"),Y=this._get(e,"changeYear"),K=this._get(e,"showMonthAfterYear"),Q=this._get(e,"selectMonthLabel"),d=this._get(e,"selectYearLabel"),A="<div class='ui-datepicker-title'>",H="";if(c||!z)H+="<span class='ui-datepicker-month'>"+g[i]+"</span>";else{for(P=r&&r.getFullYear()===n,U=o&&o.getFullYear()===n,H+="<select class='ui-datepicker-month' aria-label='"+Q+"' data-handler='selectMonth' data-event='change'>",B=0;B<12;B++)(!P||B>=r.getMonth())&&(!U||B<=o.getMonth())&&(H+="<option value='"+B+"'"+(B===i?" selected='selected'":"")+">"+I[B]+"</option>");H+="</select>"}if(K||(A+=H+(c||!(z&&Y)?"&#xa0;":"")),!e.yearshtml)if(e.yearshtml="",c||!Y)A+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(te=this._get(e,"yearRange").split(":"),S=new Date().getFullYear(),N=function(j){var J=j.match(/c[+\-].*/)?n+parseInt(j.substring(1),10):j.match(/[+\-].*/)?S+parseInt(j,10):parseInt(j,10);return isNaN(J)?S:J},C=N(te[0]),x=Math.max(C,N(te[1]||"")),C=r?Math.max(C,r.getFullYear()):C,x=o?Math.min(x,o.getFullYear()):x,e.yearshtml+="<select class='ui-datepicker-year' aria-label='"+d+"' data-handler='selectYear' data-event='change'>";C<=x;C++)e.yearshtml+="<option value='"+C+"'"+(C===n?" selected='selected'":"")+">"+C+"</option>";e.yearshtml+="</select>",A+=e.yearshtml,e.yearshtml=null}return A+=this._get(e,"yearSuffix"),K&&(A+=(c||!(z&&Y)?"&#xa0;":"")+H),A+="</div>",A},_adjustInstDate:function(e,i,n){var r=e.selectedYear+(n==="Y"?i:0),o=e.selectedMonth+(n==="M"?i:0),c=Math.min(e.selectedDay,this._getDaysInMonth(r,o))+(n==="D"?i:0),g=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,o,c)));e.selectedDay=g.getDate(),e.drawMonth=e.selectedMonth=g.getMonth(),e.drawYear=e.selectedYear=g.getFullYear(),(n==="M"||n==="Y")&&this._notifyChange(e)},_restrictMinMax:function(e,i){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),o=n&&i<n?n:i;return r&&o>r?r:o},_notifyChange:function(e){var i=this._get(e,"onChangeMonthYear");i&&i.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var i=this._get(e,"numberOfMonths");return i==null?[1,1]:typeof i=="number"?[1,i]:i},_getMinMaxDate:function(e,i){return this._determineDate(e,this._get(e,i+"Date"),null)},_getDaysInMonth:function(e,i){return 32-this._daylightSavingAdjust(new Date(e,i,32)).getDate()},_getFirstDayOfMonth:function(e,i){return new Date(e,i,1).getDay()},_canAdjustMonth:function(e,i,n,r){var o=this._getNumberOfMonths(e),c=this._daylightSavingAdjust(new Date(n,r+(i<0?i:o[0]*o[1]),1));return i<0&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth())),this._isInRange(e,c)},_isInRange:function(e,i){var n,r,o=this._getMinMaxDate(e,"min"),c=this._getMinMaxDate(e,"max"),g=null,I=null,P=this._get(e,"yearRange");return P&&(n=P.split(":"),r=new Date().getFullYear(),g=parseInt(n[0],10),I=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(g+=r),n[1].match(/[+\-].*/)&&(I+=r)),(!o||i.getTime()>=o.getTime())&&(!c||i.getTime()<=c.getTime())&&(!g||i.getFullYear()>=g)&&(!I||i.getFullYear()<=I)},_getFormatConfig:function(e){var i=this._get(e,"shortYearCutoff");return i=typeof i!="string"?i:new Date().getFullYear()%100+parseInt(i,10),{shortYearCutoff:i,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,i,n,r){i||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var o=i?typeof i=="object"?i:this._daylightSavingAdjust(new Date(r,n,i)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),o,this._getFormatConfig(e))}});function ue(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,function(){t(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,ce)}function ce(){t.datepicker._isDisabledDatepicker(ie.inline?ie.dpDiv.parent()[0]:ie.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).addClass("ui-datepicker-next-hover"))}function le(e,i){t.extend(e,i);for(var n in i)i[n]==null&&(e[n]=i[n]);return e}t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),t("#"+t.datepicker._mainDivId).length===0&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return typeof e=="string"&&(e==="isDisabled"||e==="getDate"||e==="widget")?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):e==="option"&&arguments.length===2&&typeof arguments[1]=="string"?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){typeof e=="string"?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)})},t.datepicker=new re,t.datepicker.initialized=!1,t.datepicker.uuid=new Date().getTime(),t.datepicker.version="1.13.1",t.datepicker,t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var he=!1;t(document).on("mouseup",function(){he=!1}),t.widget("ui.mouse",{version:"1.13.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(i){return e._mouseDown(i)}).on("click."+this.widgetName,function(i){if(t.data(i.target,e.widgetName+".preventClickEvent")===!0)return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!he){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=e.which===1,r=typeof this.options.cancel=="string"&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return!n||r||!this._mouseCapture(e)?!0:(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(t.data(e.target,this.widgetName+".preventClickEvent")===!0&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(o){return i._mouseMove(o)},this._mouseUpDelegate=function(o){return i._mouseUp(o)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),he=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which){if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,he=!1,e.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,n){var r,o=t.ui[e].prototype;for(r in n)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([i,n[r]])},call:function(e,i,n,r){var o,c=e.plugins[i];if(!!c&&!(!r&&(!e.element[0].parentNode||e.element[0].parentNode.nodeType===11)))for(o=0;o<c.length;o++)e.options[c[o][0]]&&c[o][1].apply(e.element,n)}},t.ui.safeBlur=function(e){e&&e.nodeName.toLowerCase()!=="body"&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.13.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){this.options.helper==="original"&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,i){this._super(e,i),e==="handle"&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=!0;return}this._removeHandleClassName(),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(e),!this.handle)?!1:(this._blurActiveElement(e),this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var i=t(this);return t("<div>").css("position","absolute").appendTo(i.parent()).outerWidth(i.outerWidth()).outerHeight(i.outerHeight()).offset(i.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]),n=t(e.target);n.closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return t(this).css("position")==="fixed"}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",e,n)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),this.options.revert==="invalid"&&!n||this.options.revert==="valid"&&n||this.options.revert===!0||typeof this.options.revert=="function"&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,n=typeof i.helper=="function",r=n?t(i.helper.apply(this.element[0],[e])):i.helper==="clone"?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo(i.appendTo==="parent"?this.element[0].parentNode:i.appendTo),n&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]!==this.element[0]&&!/(fixed|absolute)/.test(r.css("position"))&&r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){typeof e=="string"&&(e=e.split(" ")),Array.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return this.cssPosition==="absolute"&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative")return{top:0,left:0};var e=this.element.position(),i=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(i?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(i?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options,o=this.document[0];if(this.relativeContainer=null,!r.containment){this.containment=null;return}if(r.containment==="window"){this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(r.containment==="document"){this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(r.containment.constructor===Array){this.containment=r.containment;return}r.containment==="parent"&&(r.containment=this.helper[0].parentNode),i=t(r.containment),n=i[0],n&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i)},_convertPositionTo:function(e,i){i||(i=this.position);var n=e==="absolute"?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(this.cssPosition==="fixed"?-this.offset.scroll.top:r?0:this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(this.cssPosition==="fixed"?-this.offset.scroll.left:r?0:this.offset.scroll.left)*n}},_generatePosition:function(e,i){var n,r,o,c,g=this.options,I=this._isRootNode(this.scrollParent[0]),P=e.pageX,U=e.pageY;return(!I||!this.offset.scroll)&&(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),i&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(P=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(U=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(P=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(U=n[3]+this.offset.click.top)),g.grid&&(o=g.grid[1]?this.originalPageY+Math.round((U-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,U=n?o-this.offset.click.top>=n[1]||o-this.offset.click.top>n[3]?o:o-this.offset.click.top>=n[1]?o-g.grid[1]:o+g.grid[1]:o,c=g.grid[0]?this.originalPageX+Math.round((P-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,P=n?c-this.offset.click.left>=n[0]||c-this.offset.click.left>n[2]?c:c-this.offset.click.left>=n[0]?c-g.grid[0]:c+g.grid[0]:c),g.axis==="y"&&(P=this.originalPageX),g.axis==="x"&&(U=this.originalPageY)),{top:U-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:I?0:this.offset.scroll.top),left:P-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:I?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,n){var r=t.extend({},i,{item:n.element});n.sortables=[],t(n.options.connectToSortable).each(function(){var o=t(this).sortable("instance");o&&!o.options.disabled&&(n.sortables.push(o),o.refreshPositions(),o._trigger("activate",e,r))})},stop:function(e,i,n){var r=t.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,t.each(n.sortables,function(){var o=this;o.isOver?(o.isOver=0,n.cancelHelperRemoval=!0,o.cancelHelperRemoval=!1,o._storedCSS={position:o.placeholder.css("position"),top:o.placeholder.css("top"),left:o.placeholder.css("left")},o._mouseStop(e),o.options.helper=o.options._helper):(o.cancelHelperRemoval=!0,o._trigger("deactivate",e,r))})},drag:function(e,i,n){t.each(n.sortables,function(){var r=!1,o=this;o.positionAbs=n.positionAbs,o.helperProportions=n.helperProportions,o.offset.click=n.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,n._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=n.offset.click.top,o.offset.click.left=n.offset.click.left,o.offset.parent.left-=n.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=n.offset.parent.top-o.offset.parent.top,n._trigger("toSortable",e),n.dropped=o.element,t.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,o.fromOutside=n),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(e),i.position=n._generatePosition(e,!0),n._trigger("fromSortable",e),n.dropped=!1,t.each(n.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,n){var r=t("body"),o=n.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,i,n){var r=n.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,n){var r=t(i.helper),o=n.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,i,n){var r=n.options;r._opacity&&t(i.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(e,i,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&n.scrollParentNotHidden[0].tagName!=="HTML"&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,i,n){var r=n.options,o=!1,c=n.scrollParentNotHidden[0],g=n.document[0];c!==g&&c.tagName!=="HTML"?((!r.axis||r.axis!=="x")&&(n.overflowOffset.top+c.offsetHeight-e.pageY<r.scrollSensitivity?c.scrollTop=o=c.scrollTop+r.scrollSpeed:e.pageY-n.overflowOffset.top<r.scrollSensitivity&&(c.scrollTop=o=c.scrollTop-r.scrollSpeed)),(!r.axis||r.axis!=="y")&&(n.overflowOffset.left+c.offsetWidth-e.pageX<r.scrollSensitivity?c.scrollLeft=o=c.scrollLeft+r.scrollSpeed:e.pageX-n.overflowOffset.left<r.scrollSensitivity&&(c.scrollLeft=o=c.scrollLeft-r.scrollSpeed))):((!r.axis||r.axis!=="x")&&(e.pageY-t(g).scrollTop()<r.scrollSensitivity?o=t(g).scrollTop(t(g).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(g).scrollTop())<r.scrollSensitivity&&(o=t(g).scrollTop(t(g).scrollTop()+r.scrollSpeed))),(!r.axis||r.axis!=="y")&&(e.pageX-t(g).scrollLeft()<r.scrollSensitivity?o=t(g).scrollLeft(t(g).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(g).scrollLeft())<r.scrollSensitivity&&(o=t(g).scrollLeft(t(g).scrollLeft()+r.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,n){var r=n.options;n.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var o=t(this),c=o.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:o.outerWidth(),height:o.outerHeight(),top:c.top,left:c.left})})},drag:function(e,i,n){var r,o,c,g,I,P,U,B,te,S,N=n.options,C=N.snapTolerance,x=i.offset.left,z=x+n.helperProportions.width,Y=i.offset.top,K=Y+n.helperProportions.height;for(te=n.snapElements.length-1;te>=0;te--){if(I=n.snapElements[te].left-n.margins.left,P=I+n.snapElements[te].width,U=n.snapElements[te].top-n.margins.top,B=U+n.snapElements[te].height,z<I-C||x>P+C||K<U-C||Y>B+C||!t.contains(n.snapElements[te].item.ownerDocument,n.snapElements[te].item)){n.snapElements[te].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[te].item})),n.snapElements[te].snapping=!1;continue}N.snapMode!=="inner"&&(r=Math.abs(U-K)<=C,o=Math.abs(B-Y)<=C,c=Math.abs(I-z)<=C,g=Math.abs(P-x)<=C,r&&(i.position.top=n._convertPositionTo("relative",{top:U-n.helperProportions.height,left:0}).top),o&&(i.position.top=n._convertPositionTo("relative",{top:B,left:0}).top),c&&(i.position.left=n._convertPositionTo("relative",{top:0,left:I-n.helperProportions.width}).left),g&&(i.position.left=n._convertPositionTo("relative",{top:0,left:P}).left)),S=r||o||c||g,N.snapMode!=="outer"&&(r=Math.abs(U-Y)<=C,o=Math.abs(B-K)<=C,c=Math.abs(I-x)<=C,g=Math.abs(P-z)<=C,r&&(i.position.top=n._convertPositionTo("relative",{top:U,left:0}).top),o&&(i.position.top=n._convertPositionTo("relative",{top:B-n.helperProportions.height,left:0}).top),c&&(i.position.left=n._convertPositionTo("relative",{top:0,left:I}).left),g&&(i.position.left=n._convertPositionTo("relative",{top:0,left:P-n.helperProportions.width}).left)),!n.snapElements[te].snapping&&(r||o||c||g||S)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[te].item})),n.snapElements[te].snapping=r||o||c||g||S}}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,n){var r,o=n.options,c=t.makeArray(t(o.stack)).sort(function(g,I){return(parseInt(t(g).css("zIndex"),10)||0)-(parseInt(t(I).css("zIndex"),10)||0)});!c.length||(r=parseInt(t(c[0]).css("zIndex"),10)||0,t(c).each(function(g){t(this).css("zIndex",r+g)}),this.css("zIndex",r+c.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,n){var r=t(i.helper),o=n.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,i,n){var r=n.options;r._zIndex&&t(i.helper).css("zIndex",r._zIndex)}}),t.ui.draggable,t.widget("ui.resizable",t.ui.mouse,{version:"1.13.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(e,i){if(t(e).css("overflow")==="hidden")return!1;var n=i&&i==="left"?"scrollLeft":"scrollTop",r=!1;if(e[n]>0)return!0;try{e[n]=1,r=e[n]>0,e[n]=0}catch{}return r},_create:function(){var e,i=this.options,n=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",function(){i.disabled||(n._removeClass("ui-resizable-autohide"),n._handles.show())}).on("mouseleave",function(){i.disabled||n.resizing||(n._addClass("ui-resizable-autohide"),n._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy(),this._addedHandles.remove();var e,i=function(n){t(n).removeData("resizable").removeData("ui-resizable").off(".resizable")};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(e,i){switch(this._super(e,i),e){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!i;break}},_setupHandles:function(){var e=this.options,i,n,r,o,c,g=this;if(this.handles=e.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this._addedHandles=t(),this.handles.constructor===String)for(this.handles==="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),r=this.handles.split(","),this.handles={},n=0;n<r.length;n++)i=String.prototype.trim.call(r[n]),o="ui-resizable-"+i,c=t("<div>"),this._addClass(c,"ui-resizable-handle "+o),c.css({zIndex:e.zIndex}),this.handles[i]=".ui-resizable-"+i,this.element.children(this.handles[i]).length||(this.element.append(c),this._addedHandles=this._addedHandles.add(c));this._renderAxis=function(I){var P,U,B,te;I=I||this.element;for(P in this.handles)this.handles[P].constructor===String?this.handles[P]=this.element.children(this.handles[P]).first().show():(this.handles[P].jquery||this.handles[P].nodeType)&&(this.handles[P]=t(this.handles[P]),this._on(this.handles[P],{mousedown:g._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(U=t(this.handles[P],this.element),te=/sw|ne|nw|se|n|s/.test(P)?U.outerHeight():U.outerWidth(),B=["padding",/ne|nw|n/.test(P)?"Top":/se|sw|s/.test(P)?"Bottom":/^e$/.test(P)?"Right":"Left"].join(""),I.css(B,te),this._proportionallyResize()),this._handles=this._handles.add(this.handles[P])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){g.resizing||(this.className&&(c=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),g.axis=c&&c[1]?c[1]:"se")}),e.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(e){var i,n,r=!1;for(i in this.handles)n=t(this.handles[i])[0],(n===e.target||t.contains(n,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var i,n,r,o=this.options,c=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,n+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:c.width(),height:c.height()},this.originalSize=this._helper?{width:c.outerWidth(),height:c.outerHeight()}:{width:c.width(),height:c.height()},this.sizeDiff={width:c.outerWidth()-c.width(),height:c.outerHeight()-c.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio=typeof o.aspectRatio=="number"?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor",r==="auto"?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,n,r=this.originalMousePosition,o=this.axis,c=e.pageX-r.left||0,g=e.pageY-r.top||0,I=this._change[o];return this._updatePrevProperties(),I&&(i=I.apply(this,[e,c,g]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges())),!1},_mouseStop:function(e){this.resizing=!1;var i,n,r,o,c,g,I,P=this.options,U=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),r=n&&this._hasScroll(i[0],"left")?0:U.sizeDiff.height,o=n?0:U.sizeDiff.width,c={width:U.helper.width()-o,height:U.helper.height()-r},g=parseFloat(U.element.css("left"))+(U.position.left-U.originalPosition.left)||null,I=parseFloat(U.element.css("top"))+(U.position.top-U.originalPosition.top)||null,P.animate||this.element.css(t.extend(c,{top:I,left:g})),U.helper.height(U.size.height),U.helper.width(U.size.width),this._helper&&!P.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var i,n,r,o,c,g=this.options;c={minWidth:this._isNumber(g.minWidth)?g.minWidth:0,maxWidth:this._isNumber(g.maxWidth)?g.maxWidth:1/0,minHeight:this._isNumber(g.minHeight)?g.minHeight:0,maxHeight:this._isNumber(g.maxHeight)?g.maxHeight:1/0},(this._aspectRatio||e)&&(i=c.minHeight*this.aspectRatio,r=c.minWidth/this.aspectRatio,n=c.maxHeight*this.aspectRatio,o=c.maxWidth/this.aspectRatio,i>c.minWidth&&(c.minWidth=i),r>c.minHeight&&(c.minHeight=r),n<c.maxWidth&&(c.maxWidth=n),o<c.maxHeight&&(c.maxHeight=o)),this._vBoundaries=c},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var i=this.position,n=this.size,r=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),r==="sw"&&(e.left=i.left+(n.width-e.width),e.top=null),r==="nw"&&(e.top=i.top+(n.height-e.height),e.left=i.left+(n.width-e.width)),e},_respectSize:function(e){var i=this._vBoundaries,n=this.axis,r=this._isNumber(e.width)&&i.maxWidth&&i.maxWidth<e.width,o=this._isNumber(e.height)&&i.maxHeight&&i.maxHeight<e.height,c=this._isNumber(e.width)&&i.minWidth&&i.minWidth>e.width,g=this._isNumber(e.height)&&i.minHeight&&i.minHeight>e.height,I=this.originalPosition.left+this.originalSize.width,P=this.originalPosition.top+this.originalSize.height,U=/sw|nw|w/.test(n),B=/nw|ne|n/.test(n);return c&&(e.width=i.minWidth),g&&(e.height=i.minHeight),r&&(e.width=i.maxWidth),o&&(e.height=i.maxHeight),c&&U&&(e.left=I-i.minWidth),r&&U&&(e.left=I-i.maxWidth),g&&B&&(e.top=P-i.minHeight),o&&B&&(e.top=P-i.maxHeight),!e.width&&!e.height&&!e.left&&e.top?e.top=null:!e.width&&!e.height&&!e.top&&e.left&&(e.left=null),e},_getPaddingPlusBorderDimensions:function(e){for(var i=0,n=[],r=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],o=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];i<4;i++)n[i]=parseFloat(r[i])||0,n[i]+=parseFloat(o[i])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,i=0,n=this.helper||this.element;i<this._proportionallyResizeElements.length;i++)e=this._proportionallyResizeElements[i],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,i){return{width:this.originalSize.width+i}},w:function(e,i){var n=this.originalSize,r=this.originalPosition;return{left:r.left+i,width:n.width-i}},n:function(e,i,n){var r=this.originalSize,o=this.originalPosition;return{top:o.top+n,height:r.height-n}},s:function(e,i,n){return{height:this.originalSize.height+n}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),e!=="resize"&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),n=i.options,r=i._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),c=o&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,g=o?0:i.sizeDiff.width,I={width:i.size.width-g,height:i.size.height-c},P=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,U=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(I,U&&P?{top:U,left:P}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var B={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};r&&r.length&&t(r[0]).css({width:B.width,height:B.height}),i._updateCache(B),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,n,r,o,c,g,I=t(this).resizable("instance"),P=I.options,U=I.element,B=P.containment,te=B instanceof t?B.get(0):/parent/.test(B)?U.parent().get(0):B;!te||(I.containerElement=t(te),/document/.test(B)||B===document?(I.containerOffset={left:0,top:0},I.containerPosition={left:0,top:0},I.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(te),i=[],t(["Top","Right","Left","Bottom"]).each(function(S,N){i[S]=I._num(e.css("padding"+N))}),I.containerOffset=e.offset(),I.containerPosition=e.position(),I.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},n=I.containerOffset,r=I.containerSize.height,o=I.containerSize.width,c=I._hasScroll(te,"left")?te.scrollWidth:o,g=I._hasScroll(te)?te.scrollHeight:r,I.parentData={element:te,left:n.left,top:n.top,width:c,height:g}))},resize:function(e){var i,n,r,o,c=t(this).resizable("instance"),g=c.options,I=c.containerOffset,P=c.position,U=c._aspectRatio||e.shiftKey,B={top:0,left:0},te=c.containerElement,S=!0;te[0]!==document&&/static/.test(te.css("position"))&&(B=I),P.left<(c._helper?I.left:0)&&(c.size.width=c.size.width+(c._helper?c.position.left-I.left:c.position.left-B.left),U&&(c.size.height=c.size.width/c.aspectRatio,S=!1),c.position.left=g.helper?I.left:0),P.top<(c._helper?I.top:0)&&(c.size.height=c.size.height+(c._helper?c.position.top-I.top:c.position.top),U&&(c.size.width=c.size.height*c.aspectRatio,S=!1),c.position.top=c._helper?I.top:0),r=c.containerElement.get(0)===c.element.parent().get(0),o=/relative|absolute/.test(c.containerElement.css("position")),r&&o?(c.offset.left=c.parentData.left+c.position.left,c.offset.top=c.parentData.top+c.position.top):(c.offset.left=c.element.offset().left,c.offset.top=c.element.offset().top),i=Math.abs(c.sizeDiff.width+(c._helper?c.offset.left-B.left:c.offset.left-I.left)),n=Math.abs(c.sizeDiff.height+(c._helper?c.offset.top-B.top:c.offset.top-I.top)),i+c.size.width>=c.parentData.width&&(c.size.width=c.parentData.width-i,U&&(c.size.height=c.size.width/c.aspectRatio,S=!1)),n+c.size.height>=c.parentData.height&&(c.size.height=c.parentData.height-n,U&&(c.size.width=c.size.height*c.aspectRatio,S=!1)),S||(c.position.left=c.prevPosition.left,c.position.top=c.prevPosition.top,c.size.width=c.prevSize.width,c.size.height=c.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,n=e.containerOffset,r=e.containerPosition,o=e.containerElement,c=t(e.helper),g=c.offset(),I=c.outerWidth()-e.sizeDiff.width,P=c.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:g.left-r.left-n.left,width:I,height:P}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:g.left-r.left-n.left,width:I,height:P})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var n=t(this);n.data("ui-resizable-alsoresize",{width:parseFloat(n.width()),height:parseFloat(n.height()),left:parseFloat(n.css("left")),top:parseFloat(n.css("top"))})})},resize:function(e,i){var n=t(this).resizable("instance"),r=n.options,o=n.originalSize,c=n.originalPosition,g={height:n.size.height-o.height||0,width:n.size.width-o.width||0,top:n.position.top-c.top||0,left:n.position.left-c.left||0};t(r.alsoResize).each(function(){var I=t(this),P=t(this).data("ui-resizable-alsoresize"),U={},B=I.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(B,function(te,S){var N=(P[S]||0)+(g[S]||0);N&&N>=0&&(U[S]=N||null)}),I.css(U)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&typeof e.options.ghost=="string"&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),n=i.options,r=i.size,o=i.originalSize,c=i.originalPosition,g=i.axis,I=typeof n.grid=="number"?[n.grid,n.grid]:n.grid,P=I[0]||1,U=I[1]||1,B=Math.round((r.width-o.width)/P)*P,te=Math.round((r.height-o.height)/U)*U,S=o.width+B,N=o.height+te,C=n.maxWidth&&n.maxWidth<S,x=n.maxHeight&&n.maxHeight<N,z=n.minWidth&&n.minWidth>S,Y=n.minHeight&&n.minHeight>N;n.grid=I,z&&(S+=P),Y&&(N+=U),C&&(S-=P),x&&(N-=U),/^(se|s|e)$/.test(g)?(i.size.width=S,i.size.height=N):/^(ne)$/.test(g)?(i.size.width=S,i.size.height=N,i.position.top=c.top-te):/^(sw)$/.test(g)?(i.size.width=S,i.size.height=N,i.position.left=c.left-B):((N-U<=0||S-P<=0)&&(e=i._getPaddingPlusBorderDimensions(this)),N-U>0?(i.size.height=N,i.position.top=c.top-te):(N=U-e.height,i.size.height=N,i.position.top=c.top+o.height-N),S-P>0?(i.size.width=S,i.position.left=c.left-B):(S=P-e.width,i.size.width=S,i.position.left=c.left+o.width-S))}}),t.ui.resizable,t.widget("ui.dialog",{version:"1.13.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;i<0&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title==null&&this.originalTitle!=null&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var e,i=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=i.parent.children().eq(i.index),e.length&&e[0]!==this.element[0]?e.before(this.element):i.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;!this._isOpen||this._trigger("beforeClose",e)===!1||(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var n=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),n=!0),n&&!i&&this._trigger("focus",e),n},open:function(){var e=this;if(this._isOpen){this._moveToTop()&&this._focusTabbable();return}this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open")},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).trigger("focus")},_restoreTabbableFocus:function(){var e=t.ui.safeActiveElement(this.document[0]),i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()},_keepFocus:function(e){e.preventDefault(),this._restoreTabbableFocus(),this._delay(this._restoreTabbableFocus)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE){e.preventDefault(),this.close(e);return}if(!(e.keyCode!==t.ui.keyCode.TAB||e.isDefaultPrevented())){var i=this.uiDialog.find(":tabbable"),n=i.first(),r=i.last();(e.target===r[0]||e.target===this.uiDialog[0])&&!e.shiftKey?(this._delay(function(){n.trigger("focus")}),e.preventDefault()):(e.target===n[0]||e.target===this.uiDialog[0])&&e.shiftKey&&(this._delay(function(){r.trigger("focus")}),e.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(i){t(i.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(i){i.preventDefault(),this.close(i)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;if(this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||Array.isArray(i)&&!i.length){this._removeClass(this.uiDialog,"ui-dialog-buttons");return}t.each(i,function(n,r){var o,c;r=typeof r=="function"?{click:r,text:n}:r,r=t.extend({type:"button"},r),o=r.click,c={icon:r.icon,iconPosition:r.iconPosition,showLabel:r.showLabel,icons:r.icons,text:r.text},delete r.click,delete r.icon,delete r.iconPosition,delete r.showLabel,delete r.icons,typeof r.text=="boolean"&&delete r.text,t("<button></button>",r).button(c).appendTo(e.uiButtonSet).on("click",function(){o.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){var e=this,i=this.options;function n(r){return{position:r.position,offset:r.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(r,o){e._addClass(t(this),"ui-dialog-dragging"),e._blockFrames(),e._trigger("dragStart",r,n(o))},drag:function(r,o){e._trigger("drag",r,n(o))},stop:function(r,o){var c=o.offset.left-e.document.scrollLeft(),g=o.offset.top-e.document.scrollTop();i.position={my:"left top",at:"left"+(c>=0?"+":"")+c+" top"+(g>=0?"+":"")+g,of:e.window},e._removeClass(t(this),"ui-dialog-dragging"),e._unblockFrames(),e._trigger("dragStop",r,n(o))}})},_makeResizable:function(){var e=this,i=this.options,n=i.resizable,r=this.uiDialog.css("position"),o=typeof n=="string"?n:"n,e,s,w,se,sw,ne,nw";function c(g){return{originalPosition:g.originalPosition,originalSize:g.originalSize,position:g.position,size:g.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:o,start:function(g,I){e._addClass(t(this),"ui-dialog-resizing"),e._blockFrames(),e._trigger("resizeStart",g,c(I))},resize:function(g,I){e._trigger("resize",g,c(I))},stop:function(g,I){var P=e.uiDialog.offset(),U=P.left-e.document.scrollLeft(),B=P.top-e.document.scrollTop();i.height=e.uiDialog.height(),i.width=e.uiDialog.width(),i.position={my:"left top",at:"left"+(U>=0?"+":"")+U+" top"+(B>=0?"+":"")+B,of:e.window},e._removeClass(t(this),"ui-dialog-resizing"),e._unblockFrames(),e._trigger("resizeStop",g,c(I))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);i!==-1&&e.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return e.height==="auto"?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(e){var i=this,n=!1,r={};t.each(e,function(o,c){i._setOption(o,c),o in i.sizeRelatedOptions&&(n=!0),o in i.resizableRelatedOptions&&(r[o]=c)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,i){var n,r,o=this.uiDialog;e!=="disabled"&&(this._super(e,i),e==="appendTo"&&this.uiDialog.appendTo(this._appendTo()),e==="buttons"&&this._createButtons(),e==="closeText"&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),e==="draggable"&&(n=o.is(":data(ui-draggable)"),n&&!i&&o.draggable("destroy"),!n&&i&&this._makeDraggable()),e==="position"&&this._position(),e==="resizable"&&(r=o.is(":data(ui-resizable)"),r&&!i&&o.resizable("destroy"),r&&typeof i=="string"&&o.resizable("option","handles",i),!r&&i!==!1&&this._makeResizable()),e==="title"&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,i,n,r=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),r.minWidth>r.width&&(r.width=r.minWidth),e=this.uiDialog.css({height:"auto",width:r.width}).outerHeight(),i=Math.max(0,r.minHeight-e),n=typeof r.maxHeight=="number"?Math.max(0,r.maxHeight-e):"none",r.height==="auto"?this.element.css({minHeight:i,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,r.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=t.fn.jquery.substring(0,4),i=!0;this._delay(function(){i=!1}),this.document.data("ui-dialog-overlays")||this.document.on("focusin.ui-dialog",function(n){if(!i){var r=this._trackingInstances()[0];r._allowInteraction(n)||(n.preventDefault(),r._focusTabbable(),(e==="3.4."||e==="3.5.")&&r._delay(r._restoreTabbableFocus))}}.bind(this)),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(!!this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):(this.document.off("focusin.ui-dialog"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,i){e==="dialogClass"&&this.uiDialog.removeClass(this.options.dialogClass).addClass(i),this._superApply(arguments)}}),t.ui.dialog,t.widget("ui.droppable",{version:"1.13.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=typeof n=="function"?n:function(r){return r.is(n)},this.proportions=function(){if(arguments.length)e=arguments[0];else return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(e){for(var i=0;i<e.length;i++)e[i]===this&&e.splice(i,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if(e==="accept")this.accept=typeof i=="function"?i:function(r){return r.is(i)};else if(e==="scope"){var n=t.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;!i||(i.currentItem||i.element)[0]===this.element[0]||this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;!i||(i.currentItem||i.element)[0]===this.element[0]||this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,r=!1;return!n||(n.currentItem||n.element)[0]===this.element[0]||(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var o=t(this).droppable("instance");if(o.options.greedy&&!o.options.disabled&&o.options.scope===n.options.scope&&o.accept.call(o.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(o,{offset:o.element.offset()}),o.options.tolerance,e))return r=!0,!1}),r)?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(n)),this.element):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}}),t.ui.intersect=function(){function e(i,n,r){return i>=n&&i<n+r}return function(i,n,r,o){if(!n.offset)return!1;var c=(i.positionAbs||i.position.absolute).left+i.margins.left,g=(i.positionAbs||i.position.absolute).top+i.margins.top,I=c+i.helperProportions.width,P=g+i.helperProportions.height,U=n.offset.left,B=n.offset.top,te=U+n.proportions().width,S=B+n.proportions().height;switch(r){case"fit":return U<=c&&I<=te&&B<=g&&P<=S;case"intersect":return U<c+i.helperProportions.width/2&&I-i.helperProportions.width/2<te&&B<g+i.helperProportions.height/2&&P-i.helperProportions.height/2<S;case"pointer":return e(o.pageY,B,n.proportions().height)&&e(o.pageX,U,n.proportions().width);case"touch":return(g>=B&&g<=S||P>=B&&P<=S||g<B&&P>S)&&(c>=U&&c<=te||I>=U&&I<=te||c<U&&I>te);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,i){var n,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],c=i?i.type:null,g=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<o.length;n++)if(!(o[n].options.disabled||e&&!o[n].accept.call(o[n].element[0],e.currentItem||e.element))){for(r=0;r<g.length;r++)if(g[r]===o[n].element[0]){o[n].proportions().height=0;continue e}o[n].visible=o[n].element.css("display")!=="none",o[n].visible&&(c==="mousedown"&&o[n]._activate.call(o[n],i),o[n].offset=o[n].element.offset(),o[n].proportions({width:o[n].element[0].offsetWidth,height:o[n].element[0].offsetHeight}))}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){!this.options||(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var n,r,o,c=t.ui.intersect(e,this,this.options.tolerance,i),g=!c&&this.isover?"isout":c&&!this.isover?"isover":null;!g||(this.options.greedy&&(r=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r}),o.length&&(n=t(o[0]).droppable("instance"),n.greedyChild=g==="isover")),n&&g==="isover"&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[g]=!0,this[g==="isout"?"isover":"isout"]=!1,this[g==="isover"?"_over":"_out"].call(this,i),n&&g==="isout"&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,t.widget("ui.progressbar",{version:"1.13.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(e){if(e===void 0)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return e===void 0&&(e=this.options.value),this.indeterminate=e===!1,typeof e!="number"&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var i=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(i),this._refreshValue()},_setOption:function(e,i){e==="max"&&(i=Math.max(this.min,i)),this._super(e,i)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.13.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var i=t(this),n=i.offset(),r={left:n.left-e.elementPos.left,top:n.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:r.left,top:r.top,right:r.left+i.outerWidth(),bottom:r.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),!this.options.disabled&&(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=t.data(this,"selectable-item");r.startselected=!0,!e.metaKey&&!e.ctrlKey&&(i._removeClass(r.$element,"ui-selected"),r.selected=!1,i._addClass(r.$element,"ui-unselecting"),r.unselecting=!0,i._trigger("unselecting",e,{unselecting:r.element}))}),t(e.target).parents().addBack().each(function(){var r,o=t.data(this,"selectable-item");if(o)return r=!e.metaKey&&!e.ctrlKey||!o.$element.hasClass("ui-selected"),i._removeClass(o.$element,r?"ui-unselecting":"ui-selected")._addClass(o.$element,r?"ui-selecting":"ui-unselecting"),o.unselecting=!r,o.selecting=r,o.selected=r,r?i._trigger("selecting",e,{selecting:o.element}):i._trigger("unselecting",e,{unselecting:o.element}),!1}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,r=this.options,o=this.opos[0],c=this.opos[1],g=e.pageX,I=e.pageY;return o>g&&(i=g,g=o,o=i),c>I&&(i=I,I=c,c=i),this.helper.css({left:o,top:c,width:g-o,height:I-c}),this.selectees.each(function(){var P=t.data(this,"selectable-item"),U=!1,B={};!P||P.element===n.element[0]||(B.left=P.left+n.elementPos.left,B.right=P.right+n.elementPos.left,B.top=P.top+n.elementPos.top,B.bottom=P.bottom+n.elementPos.top,r.tolerance==="touch"?U=!(B.left>g||B.right<o||B.top>I||B.bottom<c):r.tolerance==="fit"&&(U=B.left>o&&B.right<g&&B.top>c&&B.bottom<I),U?(P.selected&&(n._removeClass(P.$element,"ui-selected"),P.selected=!1),P.unselecting&&(n._removeClass(P.$element,"ui-unselecting"),P.unselecting=!1),P.selecting||(n._addClass(P.$element,"ui-selecting"),P.selecting=!0,n._trigger("selecting",e,{selecting:P.element}))):(P.selecting&&((e.metaKey||e.ctrlKey)&&P.startselected?(n._removeClass(P.$element,"ui-selecting"),P.selecting=!1,n._addClass(P.$element,"ui-selected"),P.selected=!0):(n._removeClass(P.$element,"ui-selecting"),P.selecting=!1,P.startselected&&(n._addClass(P.$element,"ui-unselecting"),P.unselecting=!0),n._trigger("unselecting",e,{unselecting:P.element}))),P.selected&&!e.metaKey&&!e.ctrlKey&&!P.startselected&&(n._removeClass(P.$element,"ui-selected"),P.selected=!1,n._addClass(P.$element,"ui-unselecting"),P.unselecting=!0,n._trigger("unselecting",e,{unselecting:P.element}))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})}),t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");i._removeClass(n.$element,"ui-selecting")._addClass(n.$element,"ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.13.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,i=this,n=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(r){this.button.trigger("focus"),r.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(n).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(i,n){i.preventDefault(),e._setSelection(),e._select(n.item.data("ui-selectmenu-item"),i)},focus:function(i,n){var r=n.item.data("ui-selectmenu-item");e.focusIndex!=null&&r.index!==e.focusIndex&&(e._trigger("focus",i,{item:r}),e.isOpen||e._select(r,i)),e.focusIndex=r.index,e.button.attr("aria-activedescendant",e.menuItems.eq(r.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),this.options.width===null&&this._resizeButton()},_refreshMenu:function(){var e,i=this.element.find("option");this.menu.empty(),this._parseOptions(i),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,i.length&&(e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(e){!this.isOpen||(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var i=t("<span>");return this._setText(i,e.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(e,i){var n=this,r="";t.each(i,function(o,c){var g;c.optgroup!==r&&(g=t("<li>",{text:c.optgroup}),n._addClass(g,"ui-selectmenu-optgroup","ui-menu-divider"+(c.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),g.appendTo(e),r=c.optgroup),n._renderItemData(e,c)})},_renderItemData:function(e,i){return this._renderItem(e,i).data("ui-selectmenu-item",i)},_renderItem:function(e,i){var n=t("<li>"),r=t("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(n,null,"ui-state-disabled"),this._setText(r,i.label),n.append(r).appendTo(e)},_setText:function(e,i){i?e.text(i):e.html("&#160;")},_move:function(e,i){var n,r,o=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),o+=":not(.ui-state-disabled)"),e==="first"||e==="last"?r=n[e==="first"?"prevAll":"nextAll"](o).eq(-1):r=n[e+"All"](o).eq(0),r.length&&this.menuInstance.focus(i,r)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;!this.range||(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){!this.isOpen||t(e.target).closest(".ui-selectmenu-menu, #"+t.escapeSelector(this.ids.button)).length||this.close(e)}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(e){var i=this.menuItems.eq(this.focusIndex).parent("li");i.hasClass("ui-state-disabled")||this._select(i.data("ui-selectmenu-item"),e)},_select:function(e,i){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(e)),this._setAria(e),this._trigger("select",i,{item:e}),e.index!==n&&this._trigger("change",i,{item:e}),this.close(i)},_setAria:function(e){var i=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":i,"aria-activedescendant":i}),this.menu.attr("aria-activedescendant",i)},_setOption:function(e,i){if(e==="icons"){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,i.button)}this._super(e,i),e==="appendTo"&&this.menuWrap.appendTo(this._appendTo()),e==="width"&&this._resizeButton()},_setOptionDisabled:function(e){this._super(e),this.menuInstance.option("disabled",e),this.button.attr("aria-disabled",e),this._toggleClass(this.button,null,"ui-state-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),(!e||!e[0])&&(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;if(e===!1){this.button.css("width","");return}e===null&&(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var e=this._super();return e.disabled=this.element.prop("disabled"),e},_parseOptions:function(e){var i=this,n=[];e.each(function(r,o){o.hidden||n.push(i._parseOption(t(o),r))}),this.items=n},_parseOption:function(e,i){var n=e.parent("optgroup");return{element:e,index:i,value:e.val(),label:e.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||e.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.13.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,r=this.element.find(".ui-slider-handle"),o="<span tabindex='0'></span>",c=[];for(i=n.values&&n.values.length||1,r.length>i&&(r.slice(i).remove(),r=r.slice(0,i)),e=r.length;e<i;e++)c.push(o);this.handles=r.add(t(c.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(g){t(this).data("ui-slider-handle-index",g).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(e.range===!0&&(e.values?e.values.length&&e.values.length!==2?e.values=[e.values[0],e.values[0]]:Array.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),!this.range||!this.range.length?(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")):(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})),(e.range==="min"||e.range==="max")&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,n,r,o,c,g,I,P,U=this,B=this.options;return B.disabled||(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(te){var S=Math.abs(n-U.values(te));(r>S||r===S&&(te===U._lastChangedValue||U.values(te)===B.min))&&(r=S,o=t(this),c=te)}),g=this._start(e,c),g===!1)?!1:(this._mouseSliding=!0,this._handleIndex=c,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),I=o.offset(),P=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=P?{left:0,top:0}:{left:e.pageX-I.left-o.width()/2,top:e.pageY-I.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,c,n),this._animateOff=!0,!0)},_mouseStart:function(){return!0},_mouseDrag:function(e){var i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(e){var i,n,r,o,c;return this.orientation==="horizontal"?(i=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(i=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),r=n/i,r>1&&(r=1),r<0&&(r=0),this.orientation==="vertical"&&(r=1-r),o=this._valueMax()-this._valueMin(),c=this._valueMin()+r*o,this._trimAlignValue(c)},_uiHash:function(e,i,n){var r={handle:this.handles[e],handleIndex:e,value:i!==void 0?i:this.value()};return this._hasMultipleValues()&&(r.value=i!==void 0?i:this.values(e),r.values=n||this.values()),r},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,i){return this._trigger("start",e,this._uiHash(i))},_slide:function(e,i,n){var r,o,c=this.value(),g=this.values();this._hasMultipleValues()&&(o=this.values(i?0:1),c=this.values(i),this.options.values.length===2&&this.options.range===!0&&(n=i===0?Math.min(o,n):Math.max(o,n)),g[i]=n),n!==c&&(r=this._trigger("slide",e,this._uiHash(i,n,g)),r!==!1&&(this._hasMultipleValues()?this.values(i,n):this.value(n)))},_stop:function(e,i){this._trigger("stop",e,this._uiHash(i))},_change:function(e,i){!this._keySliding&&!this._mouseSliding&&(this._lastChangedValue=i,this._trigger("change",e,this._uiHash(i)))},value:function(e){if(arguments.length){this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(e,i){var n,r,o;if(arguments.length>1){this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e);return}if(arguments.length)if(Array.isArray(arguments[0])){for(n=this.options.values,r=arguments[0],o=0;o<n.length;o+=1)n[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()}else return this._hasMultipleValues()?this._values(e):this.value();else return this._values()},_setOption:function(e,i){var n,r=0;switch(e==="range"&&this.options.range===!0&&(i==="min"?(this.options.value=this._values(0),this.options.values=null):i==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),Array.isArray(this.options.values)&&(r=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css(i==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=r-1;n>=0;n--)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1;break}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e),e},_values:function(e){var i,n,r;if(arguments.length)return i=this.options.values[e],i=this._trimAlignValue(i),i;if(this._hasMultipleValues()){for(n=this.options.values.slice(),r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(n[r]);return n}else return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var i=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%i,r=e-n;return Math.abs(n)*2>=i&&(r+=n>0?i:-i),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,i=this._valueMin(),n=this.options.step,r=Math.round((e-i)/n)*n;e=r+i,e>this.options.max&&(e-=n),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return this.options.min!==null&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var i=e.toString(),n=i.indexOf(".");return n===-1?0:i.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){e==="vertical"&&this.range.css({width:"",left:""}),e==="horizontal"&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,n,r,o,c=this.options.range,g=this.options,I=this,P=this._animateOff?!1:g.animate,U={};this._hasMultipleValues()?this.handles.each(function(B){i=(I.values(B)-I._valueMin())/(I._valueMax()-I._valueMin())*100,U[I.orientation==="horizontal"?"left":"bottom"]=i+"%",t(this).stop(1,1)[P?"animate":"css"](U,g.animate),I.options.range===!0&&(I.orientation==="horizontal"?(B===0&&I.range.stop(1,1)[P?"animate":"css"]({left:i+"%"},g.animate),B===1&&I.range[P?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:g.animate})):(B===0&&I.range.stop(1,1)[P?"animate":"css"]({bottom:i+"%"},g.animate),B===1&&I.range[P?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:g.animate}))),e=i}):(n=this.value(),r=this._valueMin(),o=this._valueMax(),i=o!==r?(n-r)/(o-r)*100:0,U[this.orientation==="horizontal"?"left":"bottom"]=i+"%",this.handle.stop(1,1)[P?"animate":"css"](U,g.animate),c==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[P?"animate":"css"]({width:i+"%"},g.animate),c==="max"&&this.orientation==="horizontal"&&this.range.stop(1,1)[P?"animate":"css"]({width:100-i+"%"},g.animate),c==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[P?"animate":"css"]({height:i+"%"},g.animate),c==="max"&&this.orientation==="vertical"&&this.range.stop(1,1)[P?"animate":"css"]({height:100-i+"%"},g.animate))},_handleEvents:{keydown:function(e){var i,n,r,o,c=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),i=this._start(e,c),i===!1))return;break}switch(o=this.options.step,this._hasMultipleValues()?n=r=this.values(c):n=r=this.value(),e.keyCode){case t.ui.keyCode.HOME:r=this._valueMin();break;case t.ui.keyCode.END:r=this._valueMax();break;case t.ui.keyCode.PAGE_UP:r=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;r=this._trimAlignValue(n+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;r=this._trimAlignValue(n-o);break}this._slide(e,c,r)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.13.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,i,n){return e>=i&&e<i+n},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,i){this._super(e,i),e==="handle"&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var n=null,r=!1,o=this;return this.reverting||this.options.disabled||this.options.type==="static"||(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,o.widgetName+"-item")===o)return n=t(this),!1}),t.data(e.target,o.widgetName+"-item")===o&&(n=t(e.target)),!n)||this.options.handle&&!i&&(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r)?!1:(this.currentItem=n,this._removeCurrentsFromItems(),!0)},_mouseStart:function(e,i,n){var r,o,c=this.options;if(this.currentContainer=this,this.refreshPositions(),this.appendTo=t(c.appendTo!=="parent"?c.appendTo:this.currentItem.parent()),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),t.extend(this.offset,{parent:this._getParentOffset()}),c.containment&&this._setContainment(),c.cursor&&c.cursor!=="auto"&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",c.cursor),this.storedStylesheet=t("<style>*{ cursor: "+c.cursor+" !important; }</style>").appendTo(o)),c.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",c.zIndex)),c.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",c.opacity)),this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!c.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(e),!0},_scroll:function(e){var i=this.options,n=!1;return this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop+i.scrollSpeed:e.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft+i.scrollSpeed:e.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(e.pageY-this.document.scrollTop()<i.scrollSensitivity?n=this.document.scrollTop(this.document.scrollTop()-i.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<i.scrollSensitivity&&(n=this.document.scrollTop(this.document.scrollTop()+i.scrollSpeed)),e.pageX-this.document.scrollLeft()<i.scrollSensitivity?n=this.document.scrollLeft(this.document.scrollLeft()-i.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<i.scrollSensitivity&&(n=this.document.scrollLeft(this.document.scrollLeft()+i.scrollSpeed))),n},_mouseDrag:function(e){var i,n,r,o,c=this.options;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),(!this.options.axis||this.options.axis!=="y")&&(this.helper[0].style.left=this.position.left+"px"),(!this.options.axis||this.options.axis!=="x")&&(this.helper[0].style.top=this.position.top+"px"),c.scroll&&this._scroll(e)!==!1&&(this._refreshItemPositions(!0),t.ui.ddmanager&&!c.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},i=this.items.length-1;i>=0;i--)if(n=this.items[i],r=n.item[0],o=this._intersectsWithPointer(n),!!o&&n.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[o===1?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&(this.options.type==="semi-dynamic"?!t.contains(this.element[0],r):!0)){if(this.direction=o===1?"down":"up",this.options.tolerance==="pointer"||this._intersectsWithSides(n))this._rearrange(e,n);else break;this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,r=this.placeholder.offset(),o=this.options.axis,c={};(!o||o==="x")&&(c.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),(!o||o==="y")&&(c.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(c,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),this.options.helper==="original"?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var r=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);r&&n.push((e.key||r[1]+"[]")+"="+(e.key&&e.expression?r[1]:r[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(e){var i=this.positionAbs.left,n=i+this.helperProportions.width,r=this.positionAbs.top,o=r+this.helperProportions.height,c=e.left,g=c+e.width,I=e.top,P=I+e.height,U=this.offset.click.top,B=this.offset.click.left,te=this.options.axis==="x"||r+U>I&&r+U<P,S=this.options.axis==="y"||i+B>c&&i+B<g,N=te&&S;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?N:c<i+this.helperProportions.width/2&&n-this.helperProportions.width/2<g&&I<r+this.helperProportions.height/2&&o-this.helperProportions.height/2<P},_intersectsWithPointer:function(e){var i,n,r=this.options.axis==="x"||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),o=this.options.axis==="y"||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),c=r&&o;return c?(i=this.dragDirection.vertical,n=this.dragDirection.horizontal,this.floating?n==="right"||i==="down"?2:1:i&&(i==="down"?2:1)):!1},_intersectsWithSides:function(e){var i=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this.dragDirection.vertical,o=this.dragDirection.horizontal;return this.floating&&o?o==="right"&&n||o==="left"&&!n:r&&(r==="down"&&i||r==="up"&&!i)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return e!==0&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return e!==0&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(e){var i,n,r,o,c=[],g=[],I=this._connectWith();if(I&&e)for(i=I.length-1;i>=0;i--)for(r=t(I[i],this.document[0]),n=r.length-1;n>=0;n--)o=t.data(r[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&g.push([typeof o.options.items=="function"?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);g.push([typeof this.options.items=="function"?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function P(){c.push(this)}for(i=g.length-1;i>=0;i--)g[i][0].each(P);return t(c)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(i){for(var n=0;n<e.length;n++)if(e[n]===i.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,r,o,c,g,I,P,U=this.items,B=[[typeof this.options.items=="function"?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],te=this._connectWith();if(te&&this.ready)for(i=te.length-1;i>=0;i--)for(r=t(te[i],this.document[0]),n=r.length-1;n>=0;n--)o=t.data(r[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(B.push([typeof o.options.items=="function"?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=B.length-1;i>=0;i--)for(c=B[i][1],g=B[i][0],n=0,P=g.length;n<P;n++)I=t(g[n]),I.data(this.widgetName+"-item",c),U.push({item:I,instance:c,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(e){var i,n,r,o;for(i=this.items.length-1;i>=0;i--)n=this.items[i],!(this.currentContainer&&n.instance!==this.currentContainer&&n.item[0]!==this.currentItem[0])&&(r=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=r.outerWidth(),n.height=r.outerHeight()),o=r.offset(),n.left=o.left,n.top=o.top)},refreshPositions:function(e){this.floating=this.items.length?this.options.axis==="x"||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),this._refreshItemPositions(e);var i,n;if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)n=this.containers[i].element.offset(),this.containers[i].containerCache.left=n.left,this.containers[i].containerCache.top=n.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,n,r=e.options;(!r.placeholder||r.placeholder.constructor===String)&&(i=r.placeholder,n=e.currentItem[0].nodeName.toLowerCase(),r.placeholder={element:function(){var o=t("<"+n+">",e.document[0]);return e._addClass(o,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(o,"ui-sortable-helper"),n==="tbody"?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(o)):n==="tr"?e._createTrPlaceholder(e.currentItem,o):n==="img"&&o.attr("src",e.currentItem.attr("src")),i||o.css("visibility","hidden"),o},update:function(o,c){i&&!r.forcePlaceholderSize||((!c.height()||r.forcePlaceholderSize&&(n==="tbody"||n==="tr"))&&c.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),c.width()||c.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(r.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),r.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var n=this;e.children().each(function(){t("<td>&#160;</td>",n.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,n,r,o,c,g,I,P,U,B,te=null,S=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(te&&t.contains(this.containers[i].element[0],te.element[0]))continue;te=this.containers[i],S=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(te)if(this.containers.length===1)this.containers[S].containerCache.over||(this.containers[S]._trigger("over",e,this._uiHash(this)),this.containers[S].containerCache.over=1);else{for(r=1e4,o=null,U=te.floating||this._isFloating(this.currentItem),c=U?"left":"top",g=U?"width":"height",B=U?"pageX":"pageY",n=this.items.length-1;n>=0;n--)!t.contains(this.containers[S].element[0],this.items[n].item[0])||this.items[n].item[0]!==this.currentItem[0]&&(I=this.items[n].item.offset()[c],P=!1,e[B]-I>this.items[n][g]/2&&(P=!0),Math.abs(e[B]-I)<r&&(r=Math.abs(e[B]-I),o=this.items[n],this.direction=P?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[S]){this.currentContainer.containerCache.over||(this.containers[S]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1);return}o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[S].element,!0),this._trigger("change",e,this._uiHash()),this.containers[S]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[S],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this.containers[S]._trigger("over",e,this._uiHash(this)),this.containers[S].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=typeof i.helper=="function"?t(i.helper.apply(this.element[0],[e,this.currentItem])):i.helper==="clone"?this.currentItem.clone():this.currentItem;return n.parents("body").length||this.appendTo[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){typeof e=="string"&&(e=e.split(" ")),Array.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return this.cssPosition==="absolute"&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options;r.containment==="parent"&&(r.containment=this.helper[0].parentNode),(r.containment==="document"||r.containment==="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,r.containment==="document"?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(r.containment==="document"?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],i=t(r.containment).offset(),n=t(e).css("overflow")!=="hidden",this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n=e==="absolute"?1:-1,r=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,o=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():o?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*n}},_generatePosition:function(e){var i,n,r=this.options,o=e.pageX,c=e.pageY,g=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,I=/(html|body)/i.test(g[0].tagName);return this.cssPosition==="relative"&&!(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(c=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(c=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((c-this.originalPageY)/r.grid[1])*r.grid[1],c=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():I?0:g.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():I?0:g.scrollLeft())}},_rearrange:function(e,i,n,r){n?n[0].appendChild(this.placeholder[0]):i.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?i.item[0]:i.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!r)})},_clear:function(e,i){this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)(this._storedCSS[n]==="auto"||this._storedCSS[n]==="static")&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!i&&r.push(function(c){this._trigger("receive",c,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!i&&r.push(function(c){this._trigger("update",c,this._uiHash())}),this!==this.currentContainer&&(i||(r.push(function(c){this._trigger("remove",c,this._uiHash())}),r.push(function(c){return function(g){c._trigger("receive",g,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(c){return function(g){c._trigger("update",g,this._uiHash(this))}}.call(this,this.currentContainer))));function o(c,g,I){return function(P){I._trigger(c,P,g._uiHash(g))}}for(n=this.containers.length-1;n>=0;n--)i||r.push(o("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(o("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex),this.dragging=!1,i||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!i){for(n=0;n<r.length;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}});function se(e){return function(){var i=this.element.val();e.apply(this,arguments),this._refresh(),i!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.13.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this.value()!==""&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each(["min","max","step"],function(n,r){var o=i.attr(r);o!=null&&o.length&&(e[r]=o)}),e},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){if(this.cancelBlur){delete this.cancelBlur;return}this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e)},mousewheel:function(e,i){var n=t.ui.safeActiveElement(this.document[0]),r=this.element[0]===n;if(!(!r||!i)){if(!this.spinning&&!this._start(e))return!1;this._spin((i>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(e){var i;i=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val();function n(){var r=this.element[0]===t.ui.safeActiveElement(this.document[0]);r||(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i}))}e.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active")){if(this._start(e)===!1)return!1;this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)}},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(this.uiSpinner.height()*.5)&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,n=t.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,i.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_start:function(e){return!this.spinning&&this._trigger("start",e)===!1?!1:(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,i,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,i,n)},e),this._spin(i*this.options.step,n)},_spin:function(e,i){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),(!this.spinning||this._trigger("spin",i,{value:n})!==!1)&&(this._value(n),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?typeof i=="function"?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return this.options.min!==null&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var i=e.toString(),n=i.indexOf(".");return n===-1?0:i.length-n-1},_adjustValue:function(e){var i,n,r=this.options;return i=r.min!==null?r.min:0,n=e-i,n=Math.round(n/r.step)*r.step,e=i+n,e=parseFloat(e.toFixed(this._precision())),r.max!==null&&e>r.max?r.max:r.min!==null&&e<r.min?r.min:e},_stop:function(e){!this.spinning||(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,i){var n,r,o;if(e==="culture"||e==="numberFormat"){n=this._parse(this.element.val()),this.options[e]=i,this.element.val(this._format(n));return}(e==="max"||e==="min"||e==="step")&&typeof i=="string"&&(i=this._parse(i)),e==="icons"&&(r=this.buttons.first().find(".ui-icon"),this._removeClass(r,null,this.options.icons.up),this._addClass(r,null,i.up),o=this.buttons.last().find(".ui-icon"),this._removeClass(o,null,this.options.icons.down),this._addClass(o,null,i.down)),this._super(e,i)},_setOptionDisabled:function(e){this._super(e),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable")},_setOptions:se(function(e){this._super(e)}),_parse:function(e){return typeof e=="string"&&e!==""&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),e===""||isNaN(e)?null:e},_format:function(e){return e===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return e===null?!1:e===this._adjustValue(e)},_value:function(e,i){var n;e!==""&&(n=this._parse(e),n!==null&&(i||(n=this._adjustValue(n)),e=this._format(n))),this.element.val(e),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:se(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:se(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:se(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:se(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());se(this._value).call(this,e)},widget:function(){return this.uiSpinner}}),t.uiBackCompat!==!1&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner,t.widget("ui.tabs",{version:"1.13.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(i){var n,r;n=i.href.replace(e,""),r=location.href.replace(e,"");try{n=decodeURIComponent(n)}catch{}try{r=decodeURIComponent(r)}catch{}return i.hash.length>1&&n===r}}(),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),Array.isArray(i.disabled)&&(i.disabled=t.uniqueSort(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(n){return e.tabs.index(n)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(i.active):this.active=t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return e===null&&(n&&this.tabs.each(function(r,o){if(t(o).attr("aria-controls")===n)return e=r,!1}),e===null&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(e===null||e===-1)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),e===-1&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),n=this.tabs.index(i),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:e.preventDefault(),clearTimeout(this.activating),this._activate(n);return;case t.ui.keyCode.ENTER:e.preventDefault(),clearTimeout(this.activating),this._activate(n===this.options.active?!1:n);return;default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,r),!e.ctrlKey&&!e.metaKey&&(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){if(e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(e,i){var n=this.tabs.length-1;function r(){return e>n&&(e=0),e<0&&(e=n),e}for(;t.inArray(r(),this.options.disabled)!==-1;)e=i?e+1:e-1;return e},_focusNextTab:function(e,i){return e=this._findNextTab(e,i),this.tabs.eq(e).trigger("focus"),e},_setOption:function(e,i){if(e==="active"){this._activate(i);return}this._super(e,i),e==="collapsible"&&(this._toggleClass("ui-tabs-collapsible",null,i),!i&&this.options.active===!1&&this._activate(0)),e==="event"&&this._setupEvents(i),e==="heightStyle"&&this._setupHeightStyle(i)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(n){return i.index(n)}),this._processTabs(),e.active===!1||!this.anchors.length?(e.active=!1,this.active=t()):this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,n=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(o){t(this).is(".ui-state-disabled")&&o.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(o,c){var g,I,P,U=t(c).uniqueId().attr("id"),B=t(c).closest("li"),te=B.attr("aria-controls");e._isLocal(c)?(g=c.hash,P=g.substring(1),I=e.element.find(e._sanitizeSelector(g))):(P=B.attr("aria-controls")||t({}).uniqueId()[0].id,g="#"+P,I=e.element.find(g),I.length||(I=e._createPanel(P),I.insertAfter(e.panels[o-1]||e.tablist)),I.attr("aria-live","polite")),I.length&&(e.panels=e.panels.add(I)),te&&B.data("ui-tabs-aria-controls",te),B.attr({"aria-controls":P,"aria-labelledby":U}),I.attr("aria-labelledby",U)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(n.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,n,r;for(Array.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),r=0;n=this.tabs[r];r++)i=t(n),e===!0||t.inArray(r,e)!==-1?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,e===!0)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(n,r){i[r]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(n){n.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();e==="fill"?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var r=t(this),o=r.css("position");o==="absolute"||o==="fixed"||(i-=r.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):e==="auto"&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,r=t(e.currentTarget),o=r.closest("li"),c=o[0]===n[0],g=c&&i.collapsible,I=g?t():this._getPanelForTab(o),P=n.length?this._getPanelForTab(n):t(),U={oldTab:n,oldPanel:P,newTab:g?t():o,newPanel:I};e.preventDefault(),!(o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||c&&!i.collapsible||this._trigger("beforeActivate",e,U)===!1)&&(i.active=g?!1:this.tabs.index(o),this.active=c?t():o,this.xhr&&this.xhr.abort(),!P.length&&!I.length&&t.error("jQuery UI Tabs: Mismatching fragment identifier."),I.length&&this.load(this.tabs.index(o),e),this._toggle(e,U))},_toggle:function(e,i){var n=this,r=i.newPanel,o=i.oldPanel;this.running=!0;function c(){n.running=!1,n._trigger("activate",e,i)}function g(){n._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),r.length&&n.options.show?n._show(r,n.options.show,c):(r.show(),c())}o.length&&this.options.hide?this._hide(o,this.options.hide,function(){n._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),g()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),o.hide(),g()),o.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),r.length&&o.length?i.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return t(this).attr("tabIndex")===0}).attr("tabIndex",-1),r.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(e){return typeof e=="string"&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;i!==!1&&(e===void 0?i=!1:(e=this._getIndex(e),Array.isArray(i)?i=t.map(i,function(n){return n!==e?n:null}):i=t.map(this.tabs,function(n,r){return r!==e?r:null})),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(e===void 0)i=!0;else{if(e=this._getIndex(e),t.inArray(e,i)!==-1)return;Array.isArray(i)?i=t.merge([e],i).sort():i=[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var n=this,r=this.tabs.eq(e),o=r.find(".ui-tabs-anchor"),c=this._getPanelForTab(r),g={tab:r,panel:c},I=function(P,U){U==="abort"&&n.panels.stop(!1,!0),n._removeClass(r,"ui-tabs-loading"),c.removeAttr("aria-busy"),P===n.xhr&&delete n.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,g)),this.xhr&&this.xhr.statusText!=="canceled"&&(this._addClass(r,"ui-tabs-loading"),c.attr("aria-busy","true"),this.xhr.done(function(P,U,B){setTimeout(function(){c.html(P),n._trigger("load",i,g),I(B,U)},1)}).fail(function(P,U){setTimeout(function(){I(P,U)},1)})))},_ajaxSettings:function(e,i,n){var r=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(o,c){return r._trigger("beforeLoad",i,t.extend({jqXHR:o,ajaxSettings:c},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),t.uiBackCompat!==!1&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs,t.widget("ui.tooltip",{version:"1.13.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title");return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",String.prototype.trim.call(n.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(i,n);r!==-1&&n.splice(r,1),e.removeData("ui-tooltip-id"),n=String.prototype.trim.call(n.join(" ")),n?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,i){var n=this;this._super(e,i),e==="content"&&t.each(this.tooltips,function(r,o){n._updateContent(o.element)})},_setOptionDisabled:function(e){this[e?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(i,n){var r=t.Event("blur");r.target=r.currentTarget=n.element[0],e.close(r,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var i=t(this);if(i.is("[title]"))return i.data("ui-tooltip-title",i.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);!n.length||n.data("ui-tooltip-id")||(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),e&&e.type==="mouseover"&&n.parents().each(function(){var r=t(this),o;r.data("ui-tooltip-open")&&(o=t.Event("blur"),o.target=o.currentTarget=this,i.close(o,!0)),r.attr("title")&&(r.uniqueId(),i.parents[this.id]={element:this,title:r.attr("title")},r.attr("title",""))}),this._registerCloseHandlers(e,n),this._updateContent(n,e))},_updateContent:function(e,i){var n,r=this.options.content,o=this,c=i?i.type:null;if(typeof r=="string"||r.nodeType||r.jquery)return this._open(i,e,r);n=r.call(e[0],function(g){o._delay(function(){!e.data("ui-tooltip-open")||(i&&(i.type=c),this._open(i,e,g))})}),n&&this._open(i,e,n)},_open:function(e,i,n){var r,o,c,g,I=t.extend({},this.options.position);if(!n)return;if(r=this._find(i),r){r.tooltip.find(".ui-tooltip-content").html(n);return}i.is("[title]")&&(e&&e.type==="mouseover"?i.attr("title",""):i.removeAttr("title")),r=this._tooltip(i),o=r.tooltip,this._addDescribedBy(i,o.attr("id")),o.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),g=t("<div>").html(o.find(".ui-tooltip-content").html()),g.removeAttr("name").find("[name]").removeAttr("name"),g.removeAttr("id").find("[id]").removeAttr("id"),g.appendTo(this.liveRegion);function P(U){I.of=U,!o.is(":hidden")&&o.position(I)}this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:P}),P(e)):o.position(t.extend({of:i},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(c=this.delayedShow=setInterval(function(){o.is(":visible")&&(P(I.of),clearInterval(c))},13)),this._trigger("open",e,{tooltip:o})},_registerCloseHandlers:function(e,i){var n={keyup:function(r){if(r.keyCode===t.ui.keyCode.ESCAPE){var o=t.Event(r);o.currentTarget=i[0],this.close(o,!0)}}};i[0]!==this.element[0]&&(n.remove=function(){var r=this._find(i);r&&this._removeTooltip(r.tooltip)}),(!e||e.type==="mouseover")&&(n.mouseleave="close"),(!e||e.type==="focusin")&&(n.focusout="close"),this._on(!0,i,n)},close:function(e){var i,n=this,r=t(e?e.currentTarget:this.element),o=this._find(r);if(!o){r.removeData("ui-tooltip-open");return}i=o.tooltip,!o.closing&&(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){n._removeTooltip(t(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&e.type==="mouseleave"&&t.each(this.parents,function(c,g){t(g.element).attr("title",g.title),delete n.parents[c]}),o.closing=!0,this._trigger("close",e,{tooltip:i}),o.hiding||(o.closing=!1))},_tooltip:function(e){var i=t("<div>").attr("role","tooltip"),n=t("<div>").appendTo(i),r=i.uniqueId().attr("id");return this._addClass(n,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(e)),this.tooltips[r]={element:e,tooltip:i}},_find:function(e){var i=e.data("ui-tooltip-id");return i?this.tooltips[i]:null},_removeTooltip:function(e){clearInterval(this.delayedShow),e.remove(),delete this.tooltips[e.attr("id")]},_appendTo:function(e){var i=e.closest(".ui-front, dialog");return i.length||(i=this.document[0].body),i},_destroy:function(){var e=this;t.each(this.tooltips,function(i,n){var r=t.Event("blur"),o=n.element;r.target=r.currentTarget=o[0],e.close(r,!0),t("#"+i).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),t.uiBackCompat!==!1&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);return this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass),e}}),t.ui.tooltip})}),ha=pi((t,_)=>{_.exports={}}),Yi=fi(Ci()),cn=fi(Ci()),ii=class{};ii.NEXT_RANGE="nextrange";ii.PAUSECANVAS="pause";ii.PLAYCANVAS="play";ii.PREVIOUS_RANGE="previousrange";var wi=class{};wi.VOLUME_CHANGED="volumechanged";var fa=fi(Ci());function pa(){return String(new Date().valueOf())}var ga=fi(Ci());function Pn(t,_){let h=ga.Utils.getTemporalComponent(_);if(h){let l=0,f=_.substr(0,_.indexOf("#"));for(let p=0;p<t.length;p++){let u=t[p];if(u.id.includes(f))break;{let y=u.getDuration();y&&(l+=y)}}return h[0]=Number(h[0])+l,h[1]=Number(h[1])+l,f+"#t="+h[0]+","+h[1]}}Ii();var _n=class{constructor(){this.canvases=[],this.durationMap={},this.totalDuration=0,this.id=pa()}addCanvas(t){this.canvases.push(jQuery.extend(!0,{},t));let _=t.getDuration()||0;this.totalDuration+=_,this.durationMap[t.id]={duration:_,runningDuration:this.totalDuration}}getContent(){let t=[];return this.canvases.forEach(_=>{let h=_.getContent();h.forEach(l=>{let f=l.getTarget();f&&(fa.Utils.getTemporalComponent(f)||(l.__jsonld.target+="#t=0,"+_.getDuration()))}),h.forEach(l=>{let f=l.getTarget();f&&(l.__jsonld.target=Pn(this.canvases,f))}),t.push(...h)}),t}getDuration(){let t=0;return this.canvases.forEach(_=>{let h=_.getDuration();h&&(t+=h)}),Math.floor(t)}getWidth(){return this.canvases.length?this.canvases[0].getWidth():0}getHeight(){return this.canvases.length?this.canvases[0].getHeight():0}};function ma(t,_){return t/_*100}var An=fi(Ci()),en=class{constructor(t,_={}){this.source=t,this.options=_}attachTo(t){t.setAttribute("src",this.source)}},va=class extends en{constructor(t,_={}){super(t,_),this.player=dashjs.MediaPlayer().create(),this.player.getDebug().setLogToBrowserConsole(!1),_.adaptiveAuthEnabled&&this.player.setXHRWithCredentialsForType("MPD",!0)}attachTo(t){this.player.initialize(t,this.source,!1)}debug(){this.player.getDebug().setLogToBrowserConsole(!0),this.player.getDebug().setLogLevel(4)}},_a=class extends en{constructor(t,_={}){super(t,_),_.adaptiveAuthEnabled?this.hls=new Hls({xhrSetup:h=>{h.withCredentials=!0}}):this.hls=new Hls,this.hls.loadSource(this.source)}attachTo(t){this.hls.attachMedia(t)}},ya=class extends en{constructor(t,_={}){super(t,_)}attachTo(t){t.src=this.source}},Ta=class extends en{constructor(t,_={}){super(t,_)}},ba=!1,Ni=()=>ba,tt={enabled:!0,log(...t){this.enabled&&Ni()&&console.log(...t)},warn(...t){this.enabled&&Ni()&&console.warn(...t)},error(...t){this.enabled&&Ni()&&console.error(...t)},groupCollapsed(...t){this.enabled&&Ni()&&console.group(...t)},group(...t){this.enabled&&Ni()&&console.group(...t)},groupEnd(){this.enabled&&Ni()&&console.groupEnd()}},Ea=function(t,_,h,l){function f(p){return p instanceof h?p:new h(function(u){u(p)})}return new(h||(h=Promise))(function(p,u){function y(m){try{b(l.next(m))}catch(T){u(T)}}function v(m){try{b(l.throw(m))}catch(T){u(T)}}function b(m){m.done?p(m.value):f(m.value).then(y,v)}b((l=l.apply(t,_||[])).next())})},wa=Ii(),Ia=class{constructor(t,_={}){switch(this.playWasRequested=!1,this.pauseWasRequested=!1,this.lastPause=0,this.isPausing=!1,this.source=t,this.mediaSource=t.mediaSource,this.type=t.type.toString().toLowerCase(),this.format=t.format?t.format.toString():void 0,this.mediaSyncMarginSecs=_.mediaSyncMarginSecs||1,this.type){case"video":this.element=document.createElement("video");break;case"sound":case"audio":this.element=document.createElement("audio");break;default:return}this.isDash()?this.instance=new va(this.mediaSource,_):this.isHls()?this.instance=new _a(this.mediaSource,_):this.isMpeg()?this.instance=new ya(this.mediaSource,_):this.instance=new Ta(this.mediaSource,_),this.element.classList.add("anno"),this.element.crossOrigin="anonymous",this.element.preload="metadata",this.instance.attachTo(this.element),this.element.currentTime=this.source.start,this.element.addEventListener("play",()=>{setTimeout(()=>{this.playWasRequested=!1,this.pauseWasRequested=!1},0)}),this.element.addEventListener("pause",()=>{setTimeout(()=>{this.playWasRequested=!1,this.pauseWasRequested=!1},0)}),this._pauseElement()}_playElement(){return this.playWasRequested=!0,this.pauseWasRequested&&(this.pauseWasRequested=!1),tt.log(`HTMLElement.play() request - ${this.element.src}`),this.element.play()}_pauseElement(){this.pauseWasRequested=!0,this.playWasRequested&&(this.playWasRequested=!1),tt.log(`HTMLElement.pause() request - ${this.element.src}`);try{this.element.pause()}catch{}}syncClock(t){if(t>this.element.duration){tt.error(`Clock synced out of bounds (max: ${this.element.duration}, got: ${t})`);return}Math.abs(this.element.currentTime-t)>this.mediaSyncMarginSecs&&(this.element.currentTime=t)}getElementTime(){return this.element.currentTime}getCanvasId(){return this.source.canvasId}isWithinRange(t){return this.source.start<=t&&this.source.end>=t}load(t=!1){return Ea(this,void 0,void 0,function*(){t&&this.element.load(),yield new Promise(_=>{this.element.addEventListener("loadedmetadata",()=>{_()})})})}setSize(t,_,h,l){wa(this.element).css({top:`${t}%`,left:`${_}%`,width:`${h}%`,height:`${l}%`})}isDash(){return this.format&&this.format.toString()==="application/dash+xml"&&typeof dashjs<"u"}isHls(){return this.format&&this.format.toString()==="application/vnd.apple.mpegurl"&&typeof Hls<"u"&&Hls.isSupported()}isMpeg(){return this.element.canPlayType?this.element.canPlayType("application/vnd.apple.mpegurl")!=="":!0}stop(){this._pauseElement(),this.element.currentTime=this.source.start}play(t){return tt.log(`MediaElement.play(${t}) - ${this.element.src}`),typeof t<"u"&&(this.element.currentTime=t),this._playElement()}pause(){tt.log(`MediaElement.pause() request - ${this.element.src}`);let t=Date.now();if(this.lastPause+1e3>t){if(this.isPausing)return;this.isPausing=!0,setTimeout(()=>{this._pauseElement(),this.isPausing=!1,this.lastPause=Date.now()},500);return}this.lastPause=Date.now(),this._pauseElement()}addEventListener(t,_){this.element.addEventListener(t,()=>{if(t==="play"){this.playWasRequested&&_();return}if(t==="pause"){this.pauseWasRequested&&_();return}_()})}getRawElement(){return this.element}isPaused(){return this.element.paused}setVolume(t){this.element.volume=t}isBuffering(){return this.element.readyState<3}};function ji(t,_){return t+_}function Zt(t,_){return t-_}function Nn(t,_){return t*_}function hn(t){return Nn(t,1e3)}function fn(t){return t/1e3}var $i=function(t,_,h,l){function f(p){return p instanceof h?p:new h(function(u){u(p)})}return new(h||(h=Promise))(function(p,u){function y(m){try{b(l.next(m))}catch(T){u(T)}}function v(m){try{b(l.throw(m))}catch(T){u(T)}}function b(m){m.done?p(m.value):f(m.value).then(y,v)}b((l=l.apply(t,_||[])).next())})},Ca=class{constructor(t,_,h,l,f,p){this.continuous=!0,this.playing=!1,this._time=0,tt.log("TimePlanPlayer",{media:t,plan:_}),this.media=t,this.plan=_,this.fullPlan=_,this.currentStop=_.stops[0];let u=()=>{};this.notifyRangeChange=h||u,this.notifyTimeChange=l||u,this.notifyPlaying=f||u,this.notifyBuffering=p||u,this.logging=!0,this.currentRange=this.currentStop.rangeStack[0],this.setTime(this.currentStop.start),t.onPlay((y,v,b)=>{y===this.currentStop.canvasId&&(this.playing||this.notifyPlaying(!0))}),t.onBuffering(()=>{this.notifyBuffering()}),t.onPause((y,v,b)=>{b.isBuffering()||y===this.currentStop.canvasId&&this.playing&&this.notifyPlaying(!1)})}selectPlan({reset:t,rangeId:_}={}){if(t)return this.initialisePlan(this.fullPlan);if(_){let h=[];for(let f of this.fullPlan.stops){let p=f.rangeStack.indexOf(_);f.rangeStack.indexOf(_)!==-1&&(h=f.rangeStack.slice(1,p+1))}let l=this.fullPlan;for(let f of h)for(let p of l.items)if(p.type==="time-plan"&&p.rangeId===f){l=p;break}if(l)return this.initialisePlan(l)}}initialisePlan(t){this.plan=t}getCurrentRange(){let t=this.currentRange,_=this.currentRange===this.currentStop.rangeId,h=_?this.plan.stops:this.fullPlan.stops,l=[],f=[];for(let y of h)y.rangeStack.indexOf(t)!==-1&&(l.push(y.start),f.push(y.end)),_&&y.rangeId===t&&(l.push(y.start),f.push(y.end));let p=Math.min(...l),u=Math.max(...f);return tt.log("Range duration",{starting:l,ending:f,rangeId:t,isRangeWithStop:_,stopsToCheck:h,start:p-this.plan.start,end:u-this.plan.start,planStart:this.plan.start,duration:u-p,currentStop:this.currentStop}),{start:p-this.plan.start,end:u-this.plan.start,duration:u-p}}getTime(){return this._time}setInternalTime(t){return this._time=t,this.notifyTimeChange(t),this._time}log(...t){this.logging&&tt.log("TimePlanPlayer",...t)}setContinuousPlayback(t){this.continuous=t}setIsPlaying(t){this.playing=t}play(){return this.log("Play",this.getTime()),this.playing||(this.setIsPlaying(!0),this.media.play(this.currentStop.canvasId).catch(t=>{console.log("Err",t),this.setIsPlaying(!1),this.notifyPlaying(!1)})),this.getTime()}currentTimelineTime(){return this.getTime()}currentMediaTime(){tt.log(`Current media time:
  - Current start: ${this.currentStop.start}
  - Current canvas: ${this.currentStop.canvasTime.start}
  - Current time: ${this.getTime()}
    `,this);let t=Zt(this.getTime(),this.currentStop.start);return ji(t,this.currentStop.canvasTime.start)}pause(){return this.log("Pause",this.getTime()),this.setIsPlaying(!1),this.media.pause(),this.getTime()}setVolume(t){this.media.setVolume(t)}findStop(t){for(let _ of this.plan.stops)if(_.start-.001<=t&&_.end-.001>t)return _;if(this.plan.stops[this.plan.stops.length-1].end===t)return this.plan.stops[this.plan.stops.length-1]}setTime(t,_=!0){return $i(this,void 0,void 0,function*(){if(tt.groupCollapsed(`TimeplanPlayer.setTime(${t}, ${_?"true":"false"})`),this.getTime()!==t){this.log("set time",{from:this.getTime(),to:t}),this.setInternalTime(t);let h=this.findStop(t);h&&h!==this.currentStop&&(_&&(this.currentRange=h.rangeId),yield this.advanceToStop(this.currentStop,h,void 0,t,_))}tt.groupEnd()})}next(){return $i(this,void 0,void 0,function*(){let t=this.plan.rangeOrder.indexOf(this.currentRange),_=t>=0&&t===this.plan.rangeOrder.length-1?void 0:this.plan.rangeOrder.indexOf(this.currentRange)+1,h=typeof _<"u"?this.plan.rangeOrder[_]:void 0,l=this.plan.stops.indexOf(this.currentStop),f=0,p,u=!0;for(;u;){if(f++,p=this.plan.stops[l+f],!p){u=!1;break}if(!p.noNav&&p.rangeId!==this.currentStop.rangeId){u=!1;break}}return this.playing&&p&&(h=p.rangeId),h&&p&&p.rangeId!==h?(this.playing||this.currentStop.rangeStack.indexOf(h)===-1&&p.rangeStack.indexOf(h)!==-1?(this.currentRange=this.playing?p.rangeId:h,this.setInternalTime(p.start),yield this.advanceToStop(this.currentStop,p,this.playing?p.rangeId:h)):(this.currentRange=h,this.setInternalTime(this.currentStop.start),yield this.advanceToStop(this.currentStop,this.currentStop,h)),this.getTime()):(p?(this.setInternalTime(p.start),this.currentRange=p.rangeId,yield this.advanceToStop(this.currentStop,p,p.rangeId)):yield this.goToEndOfRange(this.currentStop.rangeId),setTimeout(()=>{this.playing&&this.play()},100),this.getTime())})}goToEndOfRange(t){return $i(this,void 0,void 0,function*(){let _;for(let h=0;h<this.plan.stops.length;h++){let l=this.plan.stops[h];l.rangeId===t&&(!_||l.canvasIndex>=_.canvasIndex&&l.end>_.end)&&(_=l)}_&&(yield this.advanceToStop(this.currentStop,_,t),this.setInternalTime(_.end))})}goToStartOfRange(t){let _,h=this.plan.stops.length;for(let l=h-1;l>=0;l--){let f=this.plan.stops[l];f.rangeId===t&&(!_||f.canvasIndex<=_.canvasIndex&&f.start<_.start)&&(_=f)}_&&(_!==this.currentStop&&this.advanceToStop(this.currentStop,_,t),this.setInternalTime(_.start))}previous(){let t=this.plan.rangeOrder.indexOf(this.currentRange)===0?void 0:this.plan.rangeOrder.indexOf(this.currentRange)-1,_=typeof t<"u"?this.plan.rangeOrder[t]:void 0,h=this.currentStop,l=this.plan.stops.indexOf(this.currentStop),f=l,p=this.plan.stops[l-1],u=this.plan.stops[0],y=!0,v=F=>!F.noNav||F===u;for(;y;){let F=this.plan.stops[f-1];if(!F){y=!1;break}if(v(F)&&v(p)&&(F.rangeId===this.currentRange&&(h=F),p.rangeId!==F.rangeId)){y=!1;break}F&&(v(F)&&(p=F),f=f-1)}let b=this._time-(h.start+2)>0,m=this.playing&&p&&p.rangeId!==this.currentStop.rangeId,T=l===0||!_&&f===0,R=_&&this.currentStop.rangeStack.indexOf(_)===-1&&(p.rangeStack.indexOf(_)!==-1||p.rangeId===_),E=_&&this.currentStop.rangeStack.indexOf(_)!==-1;return tt.log("TimePlanPlayer.previous() => variables",{goBackToStartOfRange:b,isPreviousRangeDifferent:m,isDefinitelyFirstRange:T,isPreviousRangeNotAParent:R,isPreviousRangeInStack:E,prevStop:p}),b?(tt.log("TimePlanPlayer.previous() => goBackToStartOfRange",{currentStopHead:h}),h!==this.currentStop&&this.advanceToStop(this.currentStop,h,h.rangeId),this.setInternalTime(h.start),this.getTime()):(m&&(_=p.rangeId),T?(this.goToStartOfRange(_||this.currentStop.rangeId),_&&this.currentStop.rangeId!==_&&(this.currentRange=_,this.advanceToStop(this.currentStop,h,_)),this.getTime()):_&&(R||p===u)?(this.setInternalTime(p.start),this.currentRange=_,this.advanceToStop(this.currentStop,p,_),this.getTime()):_&&E?(this.setInternalTime(this.currentStop.start),this.currentRange=_,this.advanceToStop(this.currentStop,h,_),this.getTime()):this.getTime())}setRange(t){if(tt.log("setRange",t),t===this.currentRange)return this.getTime();if(this.currentRange=t,t===this.currentStop.rangeId)return this.getTime();for(let _ of this.plan.stops)if(_.rangeId===t){this.setInternalTime(_.start),this.advanceToStop(this.currentStop,_,t,void 0,!this.playing);break}for(let _ of this.plan.stops)if(_.rangeStack.indexOf(t)!==-1){this.setInternalTime(_.start),this.advanceToStop(this.currentStop,_,t,void 0,!this.playing);break}return this.getTime()}isBuffering(){return this.media.isBuffering()}advanceToTime(t,_){tt.groupCollapsed(`TimeplanPlayer.advanceToTime(${t}, ${_?"true":"false"})`);let h=this.findStop(t);return h&&this.currentStop!==h?(tt.log("advanceToTime.a"),this.setInternalTime(t),this.advanceToStop(this.currentStop,h,void 0,t,_),tt.groupEnd(),{buffering:this.isBuffering(),time:t}):(this.playing&&this.currentRange!==this.currentStop.rangeId&&(this.currentRange=this.currentStop.rangeId,this.notifyRangeChange(this.currentStop.rangeId,{from:this.currentStop,to:this.currentStop})),h?(tt.log("advanceToTime.c",{time:this.getTime()}),this.setInternalTime(t),this.media.syncClock(this.currentMediaTime()),tt.groupEnd(),{time:t}):(tt.log("advanceToTime.b"),this.pause(),this.setTime(this.currentStop.end),tt.groupEnd(),{paused:!0,buffering:this.isBuffering(),time:this.currentStop.end}))}hasEnded(){return this.currentStop.end===this.getTime()}advanceToStop(t,_,h,l,f){return $i(this,void 0,void 0,function*(){if(tt.log("TimeplanPlayer.advanceToStop",{from:t,to:_,rangeId:h}),t===_){h&&this.notifyRangeChange(h||_.rangeId,{to:_,from:t});return}let p;this.log("advanceToStop",_.start);let u=this.currentStop.canvasId!==_.canvasId;this.currentStop=_,this.setInternalTime(typeof l<"u"?l:_.start),u&&!f?p=this.media.play(_.canvasId,this.currentMediaTime()):(this.log(`advanceToStop -> seekToMediaTime.play(${this.currentMediaTime()})`),p=this.media.seekToMediaTime(this.currentMediaTime(),_.canvasId)),this.notifyRangeChange(h||_.rangeId,{to:_,from:t}),yield p})}getStartTime(){return this.plan.start}getDuration(){return this.plan.duration}},On=["application/vnd.apple.mpegurl","vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];function Ji(t){return On.includes(t.toString())}function Zi(t){return t.toString()==="application/dash+xml"}function kn(){let t=typeof document=="object"&&document,_=t&&t.createElement("video");return Boolean(_&&_.canPlayType)&&On.some(h=>_?/maybe|probably/i.test(_.canPlayType(h)):!1)}function Fn(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Sa(t){let _=t.getBody();if(!_.length)return null;for(let h=0;h<_.length;h++){let l=_[h],f=l.getFormat();if(f&&Ji(f)&&kn())return l}for(let h=0;h<_.length;h++){let l=_[h],f=l.getFormat();if(f&&Zi(f)&&!Fn())return l}for(let h=0;h<_.length;h++){let l=_[h],f=l.getFormat();if(f&&!Ji(f)&&!Zi(f))return l}return null}var pn=Ii(),Aa=class extends vn{constructor(t){super(t),this._lastVolume=1,this._data={volume:1},this._init(),this._resize()}_init(){let t=super._init();this._$element=pn(this.el),t||tt.error("Component failed to initialise"),this._$volumeMute=pn(`
      <button class="btn volume-mute" title="${this.options.data.content.mute}">
          <i class="av-icon av-icon-mute on" aria-hidden="true"></i>
          <span class="sr-only>${this.options.data.content.mute}</span>
      </button>
    `),this._$volumeSlider=pn('<div class="volume-slider"></div>'),this._$element.append(this._$volumeMute,this._$volumeSlider);let _=this;return this._$volumeMute.on("touchstart click",h=>{h.preventDefault(),this._data.volume!==0?(this._lastVolume=this._data.volume,this._data.volume=0):this._data.volume=this._lastVolume,this.fire(wi.VOLUME_CHANGED,this._data.volume)}),this._$volumeSlider.slider({value:_._data.volume,step:.1,orientation:"horizontal",range:"min",min:0,max:1,animate:!1,create:function(){},slide:function(h,l){_._data.volume=l.value,_._data.volume===0&&(_._lastVolume=0),_.fire(wi.VOLUME_CHANGED,_._data.volume)},stop:function(h,l){}}),t}set(t){this._data=Object.assign(this._data,t),this._render()}_render(){if(this._data.volume!==void 0)if(this._$volumeSlider.slider({value:this._data.volume}),this._data.volume===0){let t=this.options.data.content.unmute;this._$volumeMute.prop("title",t),this._$volumeMute.find("i").switchClass("on","off")}else{let t=this.options.data.content.mute;this._$volumeMute.prop("title",t),this._$volumeMute.find("i").switchClass("off","on")}}_resize(){}},Xi=function(t,_,h,l){function f(p){return p instanceof h?p:new h(function(u){u(p)})}return new(h||(h=Promise))(function(p,u){function y(m){try{b(l.next(m))}catch(T){u(T)}}function v(m){try{b(l.throw(m))}catch(T){u(T)}}function b(m){m.done?p(m.value):f(m.value).then(y,v)}b((l=l.apply(t,_||[])).next())})},Ra=class{constructor(t){this.elements=[],this.playing=!1,this.canvasMap={},this._onPlay=[],this._onPause=[],this._onBuffering=[],tt.log("Composite media element",t),this.elements=t;for(let _ of t){let h=_.getCanvasId();this.canvasMap[h]=this.canvasMap[h]?this.canvasMap[h]:[],this.canvasMap[h].push(_),_.addEventListener("play",()=>{_===this.activeElement&&(tt.log("HTMLElement.play() response",{paused:_.getRawElement().paused,readState:_.getRawElement().readyState}),this._onPlay.forEach(l=>l(h,_.getElementTime(),_)))}),_.addEventListener("pause",()=>{_===this.activeElement&&(tt.log("HTMLElement.pause() response"),this._onPause.forEach(l=>l(h,_.getElementTime(),_)))}),_.addEventListener("waiting",()=>{_===this.activeElement&&this._onBuffering.forEach(l=>l(h,_.getElementTime(),_))})}this.activeElement=t[0]}syncClock(t,_){if(tt.group("CompositeMediaElement.syncClock"),tt.log(`syncClock: ${t}`),tt.log({fromTime:t,toTime:t,instance:this}),this.activeElement){let h=_||this.activeElement.getCanvasId();this.updateActiveElement(h,t,this.playing);let l=Zt(t,this.activeElement.source.start);this.activeElement.syncClock(l)}tt.groupEnd()}updateActiveElement(t,_,h){let l=this.findElementInRange(t,_);return this.activeElement&&l&&l!==this.activeElement?(tt.log(`CompositeMediaElement.updateActiveElement(canvasId: ${t}, time: ${_})`,{canvasId:l?l.source.canvasId:null,newElement:l}),this.activeElement.stop(),this.activeElement=l,h&&l.play(_),l):null}onPlay(t){this._onPlay.push(t)}onPause(t){this._onPause.push(t)}onBuffering(t){this._onBuffering.push(t)}findElementInRange(t,_){if(this.canvasMap[t]){for(let h of this.canvasMap[t].reverse())if(h.isWithinRange(_))return h}}appendTo(t){t.append(this.elements.map(_=>_.getRawElement()))}load(){return Xi(this,void 0,void 0,function*(){yield Promise.all(this.elements.map(t=>t.load()))})}seekToMediaTime(t,_){return Xi(this,void 0,void 0,function*(){let h=this.activeElement;if(tt.groupCollapsed("Buffering"),this.activeElement){let l=_||this.activeElement.getCanvasId(),f=this.updateActiveElement(l,t,!1),p=Zt(t,this.activeElement.source.start),u,y=new Promise(v=>u=v);if(this.playing){if(tt.log(`CompositeMediaElement.seekToMediaItem(${t})`),yield this.activeElement.play(p).catch(v=>{console.log("ERROR",v),this.playing=!1}),h!==this.activeElement&&f&&(tt.log("Active element changed..."),f.isBuffering()||f.isPaused())){let v=setInterval(()=>{this.isBuffering()||u()},200);yield y,clearInterval(v),tt.log("ActiveElement nudge (play)"),yield f.play()}}else this.activeElement.syncClock(p)}tt.groupEnd()})}seekTo(t,_){return Xi(this,void 0,void 0,function*(){return this.updateActiveElement(t,_),this.seekToMediaTime(_)})}play(t,_){return Xi(this,void 0,void 0,function*(){if(this.playing=!0,t&&typeof _<"u"&&(yield this.seekTo(t,_)),this.activeElement)return tt.log(`CompositeMediaElement.play(${t}, ${_})`),this.activeElement.play(_).catch(h=>{console.log("err",h),this.playing=!1})})}pause(){tt.log("Composite.pause()"),this.playing=!1,this.activeElement&&!this.activeElement.isPaused()&&this.activeElement.pause()}setVolume(t){for(let _ of this.elements)_.setVolume(t)}isBuffering(){return this.activeElement?this.activeElement.isBuffering():!1}};function Da(t){let _=(f,p=[],u=0)=>{let y=p,v=f.id,b=f.getBehavior(),m=b==="no-nav";b==="no-nav"&&(y=y.slice(0,-1),v=y[y.length-1]);let T={type:"time-plan",canvases:[],duration:0,items:[],stops:[],rangeOrder:m?[]:[v],end:0,start:u,rangeId:v,rangeStack:y,noNav:m},R=u,E=[...f.items,...f.getCanvasIds()];for(let F=0;F<E.length;F++){let L=E[F];if(typeof L=="string"){let[,k,q,Z]=L.match(/(.*)#t=([0-9.]+),?([0-9.]+)?/)||[void 0,L,"0","0"];if(!k||typeof q>"u"||typeof Z>"u")continue;if(t.getSequenceByIndex(0).getCanvasById(k)===null)throw new Error("Canvas not found..");let V=T.canvases.indexOf(k);V===-1&&(T.canvases.push(k),V=T.canvases.indexOf(k));let D=parseFloat(q||"0"),M=parseFloat(Z||"0"),X=M-D;R=ji(X,R);let w={type:"time-stop",canvasIndex:V,start:Zt(R,X),end:R,duration:X,rangeId:v,canvasId:k,rawCanvasSelector:L,canvasTime:{start:D,end:M},rangeStack:y,noNav:m};T.stops.push(w),T.items.push(w)}else{let k=_(L,[...y,L.id],R);R=ji(R,k.duration);for(let q of k.canvases)T.canvases.indexOf(q)===-1&&T.canvases.push(q);T.stops.push(...k.stops.map(q=>Object.assign(Object.assign({},q),{canvasIndex:T.canvases.indexOf(q.canvasId)}))),T.items.push(k),T.rangeOrder.push(...k.rangeOrder)}}return T.end=R,T.duration=T.end-T.start,T},h=t.getTopRanges(),l=[];h||(h=t.getAllRanges()),h.length===1&&!h[0].id&&(h=h[0].getRanges());for(let f of h){f.getRanges()[0]&&f.id===f.getRanges()[0].id&&(f=f.getRanges()[0]);let p=_(f,[f.id]);l.push(p)}return l[0]}var Ma=fi(Ci());function Ln(t){let _=/xywh=([^&]+)/g.exec(t),h=null;return _&&_[1]&&(h=_[1].split(",")),h}function xa(t,_,h){let l=_.getType(),f=_.getFormat()||void 0,p=_.id.split("#")[0],u=t.getTarget();if(!u)throw new Error("No target");if(!l)throw new Error("Unknown media type");let[y,v,b,m]=Ln(u)||[0,0,h.width||0,h.height||0],[T,R]=Ma.Utils.getTemporalComponent(u)||[0,h.duration],[,E,F,L]=_.id.match(/(.*)#t=([0-9.]+),?([0-9.]+)?/)||[void 0,_.id,void 0,void 0];return{type:l,format:f,mediaSource:p,canvasId:h.id,x:y,y:v,width:typeof b>"u"?void 0:parseInt(String(b),10),height:typeof m>"u"?void 0:parseInt(String(m),10),start:Number(Number(T).toFixed(2)),end:Number(Number(R).toFixed(2)),bodyId:E,offsetStart:typeof F>"u"?void 0:parseFloat(F),offsetEnd:typeof L>"u"?void 0:parseFloat(L)}}var Pa=class{constructor(t){this.length=0,this.duration=0,this.pixelsPerSecond=Number.MAX_VALUE,this.secondsPerPixel=Number.MAX_VALUE,this.timeIndex={},this.minIndex={},this.maxIndex={},this._waveforms=[],t.forEach(_=>{this._waveforms.push({start:this.length,end:this.length+_.adapter.length,waveform:_}),this.length+=_.adapter.length,this.duration+=_.duration,this.pixelsPerSecond=Math.min(this.pixelsPerSecond,_.pixels_per_second),this.secondsPerPixel=Math.min(this.secondsPerPixel,_.seconds_per_pixel)})}min(t){if(typeof this.minIndex[t]>"u"){let _=this._find(t);this.minIndex[t]=_?_.waveform.min_sample(t-_.start):0}return this.minIndex[t]}max(t){if(typeof this.maxIndex[t]>"u"){let _=this._find(t);this.maxIndex[t]=_?_.waveform.max_sample(t-_.start):0}return this.maxIndex[t]}_find(t){if(typeof this.timeIndex[t]>"u"){let _=this._waveforms.find(h=>t>=h.start&&t<h.end);if(!_)return null;this.timeIndex[t]=_}return this.timeIndex[t]}},qt=class{};qt.PLAY="play";qt.PAUSE="pause";qt.MEDIA_READY="mediaready";qt.LOG="log";qt.RANGE_CHANGED="rangechanged";qt.WAVEFORM_READY="waveformready";qt.WAVEFORMS_READY="waveformsready";function Ei(t){let _,h,l,f;return l=Math.ceil(t),_=Math.floor(l/(60*60)),_=_>=10?_:"0"+_,h=Math.floor(l%(60*60)/60),h=h>=10?h:"0"+h,l=Math.floor(l%(60*60)%60),l=l>=10?l:"0"+l,_>=1?f=_+":":f="",f+h+":"+l}function Na(t,_,h){return(t-_)/(h-_)}function Rn(t,_){let h=[];return Object.keys(t).forEach(l=>{Object.is(_[l],t[l])||h.push(l)}),h}function Bn(t,_){return Array.from(new Set(Rn(t,_).concat(Rn(_,t))))}function gn(t){return t?t instanceof _n:!1}var Oa=fi(da()),Hi=function(t,_,h,l){function f(p){return p instanceof h?p:new h(function(u){u(p)})}return new(h||(h=Promise))(function(p,u){function y(m){try{b(l.next(m))}catch(T){u(T)}}function v(m){try{b(l.throw(m))}catch(T){u(T)}}function b(m){m.done?p(m.value):f(m.value).then(y,v)}b((l=l.apply(t,_||[])).next())})},jt=Ii(),ka=class extends vn{constructor(t){super(t),this._canvasClockFrequency=25,this._canvasClockStartDate=0,this._canvasClockTime=0,this._canvasHeight=0,this._canvasWidth=0,this._data=this.data(),this._highPriorityFrequency=25,this._isPlaying=!1,this._isStalled=!1,this._lowPriorityFrequency=250,this._mediaSyncMarginSecs=1,this._rangeSpanPadding=.25,this._readyMediaCount=0,this._stallRequestedBy=[],this._wasPlaying=!1,this.ranges=[],this.waveforms=[],this._buffering=!1,this._bufferShown=!1,this.isOnlyCanvasInstance=!1,this.autoAdvanceRanges=!0,this.waveformDeltaX=0,this.waveformPageX=0,this.waveFormInit=!1,this._scaleY=(_,h)=>{let l=256;return Math.max(this._data.waveformBarWidth,_*h/l)},this._$element=jt(this.options.target),this._data=this.options.data,this.$playerElement=jt('<div class="player player--loading"></div>')}loaded(){setTimeout(()=>{this.$playerElement.removeClass("player--loading")},500)}isPlaying(){return this._isPlaying}getClockTime(){return this._canvasClockTime}createTimeStops(){let t=this._data.helper,_=this._data.canvas;if(!t||!_)return;this.ranges=[],this._contentAnnotations=[];let h=_.canvases,l=[];for(let u of h){let y=u.getContent();for(let v of y){let b=Sa(v);if(!b)continue;let m=xa(v,b,{id:u.id,duration:u.getDuration()||0,height:u.getHeight(),width:u.getWidth()}),T=new Ia(m,{adaptiveAuthEnabled:this._data.adaptiveAuthEnabled});T.setSize(this._convertToPercentage(m.x||0,u.getHeight()),this._convertToPercentage(m.y||0,u.getWidth()),this._convertToPercentage(m.width||u.getWidth(),u.getWidth()),this._convertToPercentage(m.height||u.getHeight(),u.getHeight())),l.push(T);let R=v.getProperty("seeAlso");if(R&&R.length){let E=R[0].id;this.waveforms.push(E)}}}let f=new Ra(l);f.appendTo(this.$playerElement),f.load().then(()=>{this.fire(qt.MEDIA_READY)});let p=Da(t.manifest);window.timePlanPlayer=this.timePlanPlayer=new Ca(f,p,u=>{this.setCurrentRangeId(u,{autoChanged:!0})},u=>{this._canvasClockTime=u},u=>{this._buffering||(u?this.play(!0):this.pause(!0))},()=>{this._buffering=!0})}init(){if(!this._data||!this._data.content||!this._data.canvas){tt.warn("unable to initialise, missing canvas or content");return}this._$hoverPreviewTemplate=jt('<div class="hover-preview"><div class="label"></div><div class="pointer"><span class="arrow"></span></div></div>'),this._$canvasContainer=jt('<div class="canvas-container"></div>'),this._$optionsContainer=jt('<div class="options-container"></div>'),this._$rangeTimelineContainer=jt('<div class="range-timeline-container"></div>'),this._$canvasTimelineContainer=jt('<div class="canvas-timeline-container"></div>'),this._$canvasHoverPreview=this._$hoverPreviewTemplate.clone(),this._$canvasHoverHighlight=jt('<div class="hover-highlight"></div>'),this._$rangeHoverPreview=this._$hoverPreviewTemplate.clone(),this._$rangeHoverHighlight=jt('<div class="hover-highlight"></div>'),this._$durationHighlight=jt('<div class="duration-highlight"></div>'),this._$timelineItemContainer=jt('<div class="timeline-item-container"></div>'),this._$controlsContainer=jt('<div class="controls-container"></div>'),this._$prevButton=jt(`
                                <button class="btn" title="${this._data.content.previous}">
                                    <i class="av-icon av-icon-previous" aria-hidden="true"></i>
                                    <span class="sr-only>${this._data.content.previous}</span>
                                </button>`),this._$playButton=jt(`
                                <button class="btn" title="${this._data.content.play}">
                                    <i class="av-icon av-icon-play play" aria-hidden="true"></i>
                                    <span class="sr-only>${this._data.content.play}</span>
                                </button>`),this._$nextButton=jt(`
                                <button class="btn" title="${this._data.content.next}">
                                    <i class="av-icon av-icon-next" aria-hidden="true"></i>
                                    <span class="sr-only>${this._data.content.next}</span>
                                </button>`),this._$fastForward=jt(`
                                <button class="btn" title="${this._data.content.next}">
                                    <i class="av-icon av-icon-fast-forward" aria-hidden="true"></i>
                                    <span class="sr-only>
                                    ${this._data.content.fastForward||""}
                                    </span>
                                </button>`),this._$fastRewind=jt(`
                                <button class="btn" title="${this._data.content.next}">
                                    <i class="av-icon av-icon-fast-rewind" aria-hidden="true"></i>
                                    <span class="sr-only>
                                    ${this._data.content.fastRewind||""}
                                    </span>
                                </button>`),this._$timeDisplay=jt('<div class="time-display"><span class="canvas-time"></span> / <span class="canvas-duration"></span></div>'),this._$canvasTime=this._$timeDisplay.find(".canvas-time"),this._$canvasDuration=this._$timeDisplay.find(".canvas-duration"),this.isVirtual()&&this.$playerElement.addClass("virtual");let t=jt('<div class="volume"></div>');this._volume=new Aa({target:t[0],data:Object.assign({},this._data)}),this._volume.on(wi.VOLUME_CHANGED,v=>{this.fire(wi.VOLUME_CHANGED,v)},!1),this._$controlsContainer.append(this._$prevButton,this._data.enableFastRewind?this._$fastRewind:null,this._$playButton,this._data.enableFastForward?this._$fastForward:null,this._$nextButton,this._$timeDisplay,t),this._$canvasTimelineContainer.append(this._$canvasHoverPreview,this._$canvasHoverHighlight,this._$durationHighlight),this._$rangeTimelineContainer.append(this._$rangeHoverPreview,this._$rangeHoverHighlight),this._$optionsContainer.append(this._$canvasTimelineContainer,this._$rangeTimelineContainer,this._$controlsContainer),this.$playerElement.append(this._$canvasContainer,this._$optionsContainer),this._$canvasHoverPreview.hide(),this._$rangeHoverPreview.hide();let _=this.isVirtual()&&kt.newRanges;if(_&&this.createTimeStops(),!_&&this._data&&this._data.helper&&this._data.canvas){let v=[];gn(this._data.canvas)?this._data.canvas.canvases.forEach(b=>{if(this._data&&this._data.helper){let m=this._data.helper.getCanvasRanges(b),T=[];m.forEach(R=>{let E=jQuery.extend(!0,{},R);if(T.push(E),E.canvases&&E.canvases.length)for(let F=0;F<E.canvases.length;F++)gn(this._data.canvas)&&(E.canvases[F]=Pn(this._data.canvas.canvases,E.__jsonld.items[F].id))}),v.push(...T)}}):v=v.concat(this._data.helper.getCanvasRanges(this._data.canvas)),v.forEach(b=>{this.ranges.push(b)})}let h=this._data.canvas.getWidth(),l=this._data.canvas.getHeight();h?this._canvasWidth=h:this._canvasWidth=this.$playerElement.parent().width(),l?this._canvasHeight=l:this._canvasHeight=this._canvasWidth*(this._data.defaultAspectRatio||1);let f=this,p=0,u=0;if(this._$prevButton.on("touchstart click",v=>{v.preventDefault(),p++,p===1?(this._previous(!1),u=setTimeout(()=>{p=0,u=0},this._data.doubleClickMS)):(this._previous(!0),clearTimeout(u),p=0,u=0)}),this._$playButton.on("touchstart click",v=>{v.preventDefault(),this._isPlaying?this.pause():this.play()}),this._$nextButton.on("touchstart click",v=>{v.preventDefault(),this._next()}),this._$fastForward.on("touchstart click",v=>{let{end:b}=this.getRangeTiming(),m=ji(this.getClockTime(),20);return m<b?this._setCurrentTime(m):this._setCurrentTime(b)}),this._$fastRewind.on("touchstart click",v=>{let{start:b}=this.getRangeTiming(),m=Zt(this.getClockTime(),20);return m>=b?this._setCurrentTime(m):this._setCurrentTime(b)}),_?this._$canvasTimelineContainer.slider({value:0,step:.01,orientation:"horizontal",range:"min",min:0,max:this.timePlanPlayer.getDuration(),animate:!1,slide:(v,b)=>{this._setCurrentTime(this.timePlanPlayer.plan.start+b.value)}}):this._$canvasTimelineContainer.slider({value:0,step:.01,orientation:"horizontal",range:"min",max:f._getDuration(),animate:!1,create:function(v,b){},slide:function(v,b){f._setCurrentTime(b.value)},stop:function(v,b){}}),this._$canvasTimelineContainer.mouseout(()=>{f._$canvasHoverHighlight.width(0),f._$canvasHoverPreview.hide()}),this._$rangeTimelineContainer.mouseout(()=>{f._$rangeHoverHighlight.width(0),f._$rangeHoverPreview.hide()}),this._$canvasTimelineContainer.on("mousemove",v=>{_?this._updateHoverPreview(v,this._$canvasTimelineContainer,this.timePlanPlayer.getDuration()):this._updateHoverPreview(v,this._$canvasTimelineContainer,this._getDuration())}),this._$rangeTimelineContainer.on("mousemove",v=>{if(_)this._updateHoverPreview(v,this._$canvasTimelineContainer,this.timePlanPlayer.getDuration());else if(this._data.range){let b=this._data.range.getDuration();this._updateHoverPreview(v,this._$rangeTimelineContainer,b?b.getLength():0)}}),_)return;this._contentAnnotations=[];let y=this._data.canvas.getContent();this._$timelineItemContainer.hide();for(let v=0;v<y.length;v++){let b=y[v],m,T=b.getBody();if(!T.length){tt.warn("item has no body");return}let R=this._getBody(T);if(!R){tt.warn("unable to find suitable format for",b.id);continue}let E=R.getType(),F=R.getFormat();E&&E.toString()==="textualbody"||(m=R.id.split("#")[0]);let L=b.getTarget();if(!L){tt.warn("item has no target");return}let k=Ln(L),q=An.Utils.getTemporalComponent(L);k||(k=[0,0,this._canvasWidth,this._canvasHeight]),q||(q=[0,this._getDuration()]);let Z=parseInt(String(k[0])),V=parseInt(String(k[1])),D=parseInt(String(k[2])),M=parseInt(String(k[3])),X=parseInt(String(q[0])),w=parseInt(String(q[1])),O=this._convertToPercentage(V,this._canvasHeight),G=this._convertToPercentage(Z,this._canvasWidth),ee=this._convertToPercentage(D,this._canvasWidth),de=this._convertToPercentage(M,this._canvasHeight),ie=/t=([^&]+)/g.exec(R.id),W;ie&&ie[1]?W=ie[1].split(","):W=[null,null];let re=W[0]?parseInt(W[0]):W[0],ue=W[1]?parseInt(W[1]):W[1],ce={active:!1,end:w,endOffset:ue,format:F,height:de,left:G,source:m,start:X,startOffset:re,top:O,type:E,width:ee};this._renderMediaElement(ce);let le=b.getProperty("seeAlso");if(le&&le.length){let he=le[0].id;this.waveforms.push(he)}}}_getBody(t){for(let _=0;_<t.length;_++){let h=t[_],l=h.getFormat();if(l&&Ji(l)&&kn())return h}for(let _=0;_<t.length;_++){let h=t[_],l=h.getFormat();if(l&&Zi(l)&&!Fn())return h}for(let _=0;_<t.length;_++){let h=t[_],l=h.getFormat();if(l&&!Ji(l)&&!Zi(l))return h}return null}_getDuration(){return this.isVirtual()&&kt.newRanges?this.timePlanPlayer.getDuration():this._data&&this._data.canvas?Math.floor(this._data.canvas.getDuration()):0}data(){return{waveformColor:"#fff",waveformBarSpacing:4,waveformBarWidth:2,volume:1}}isVirtual(){return this._data.canvas instanceof _n}isVisible(){return!!this._data.visible}includesVirtualSubCanvas(t){if(gn(this._data.canvas)&&this._data.canvas&&this._data.canvas.canvases)for(let _=0;_<this._data.canvas.canvases.length;_++){let h=this._data.canvas.canvases[_];if(An.Utils.normaliseUrl(h.id)===t)return!0}return!1}setVisibility(t){this._data.visible!==t&&(this._data.visible=t,t?(this._rewind(),this.$playerElement.show()):(this.$playerElement.hide(),this.pause()),this.resize())}viewRange(t){if(this.currentRange!==t){if(tt.log(`Switching range from ${this.currentRange} to ${t}`),this.setCurrentRangeId(t),kt.newRanges&&this.isVirtual())this._setCurrentTime(this.timePlanPlayer.setRange(t),!0);else{let _=this._data.helper.getRangeById(t);this.set({range:jQuery.extend(!0,{autoChanged:!0},_)})}this._render()}}setCurrentRangeId(t,{autoChanged:_=!1,limitToRange:h=!1}={}){_&&!this.autoAdvanceRanges||(tt.log("Setting current range id",t),t&&this.currentRange!==t?(this.currentRange=t,this.fire(qt.RANGE_CHANGED,t)):t===null&&(this.currentRange=void 0,this.fire(qt.RANGE_CHANGED,null)),this._render())}setVolume(t){this._volume.set({volume:t}),kt.newRanges&&this.isVirtual()&&this.timePlanPlayer.setVolume(t)}setLimitToRange(t){tt.log(this._data.constrainNavigationToRange),this.limitToRange!==t&&(this.limitToRange=t,this._render())}set(t){if(kt.newRanges&&this.isVirtual()){typeof t.range<"u"&&this.setCurrentRangeId(t.range.id,{limitToRange:t.limitToRange}),typeof t.rangeId<"u"&&this.setCurrentRangeId(t.rangeId,{limitToRange:t.limitToRange}),typeof t.volume<"u"&&this.setVolume(t.volume),typeof t.limitToRange<"u"&&this.setLimitToRange(t.limitToRange),typeof t.visible<"u"&&this.setVisibility(t.visible);return}let _=Object.assign({},this._data);this._data=Object.assign(this._data,t);let h=Bn(_,this._data);if(h.includes("visible")&&this._data.canvas&&(this._data.visible?(this._rewind(),this.$playerElement.show()):(this.$playerElement.hide(),this.pause()),this.resize()),h.includes("volume")?this._contentAnnotations.forEach(l=>{let f=this._data.volume!==void 0?this._data.volume:1;jt(l.element).prop("volume",f),this._volume.set({volume:this._data.volume})}):this.isVisible()&&this._render(),h.includes("range")){if(this._data.helper)if(!this._data.range)this.fire(qt.RANGE_CHANGED,null);else{let l=this._data.range.getDuration();l&&typeof l<"u"&&((l.start>=this._canvasClockTime||l.end<=this._canvasClockTime)&&this._setCurrentTime(l.start),this._data.autoPlay&&this.play(),this.fire(qt.RANGE_CHANGED,this._data.range.id,this._data.range))}h.includes("limitToRange")&&this._render()}}_hasRangeChanged(){if(this.isVirtual()&&kt.newRanges)return;let t=this._getRangeForCurrentTime();t&&!this._data.limitToRange&&(!this._data.range||this._data.range&&t.id!==this._data.range.id)&&this.set({range:jQuery.extend(!0,{autoChanged:!0},t)})}_getRangeForCurrentTime(t){let _;t?_=t.getRanges():_=this.ranges;for(let h=0;h<_.length;h++){let l=_[h],f=l.getBehavior();if(!(f&&f!=="no-nav")&&this._rangeSpansCurrentTime(l)){if(this._rangeNavigable(l))return l;let p=l.getRanges();for(let u=0;u<p.length;u++){let y=p[u];if(this._rangeSpansCurrentTime(y))return this._getRangeForCurrentTime(y)}return l.parentRange}}}_rangeSpansCurrentTime(t){return!!t.spansTime(Math.ceil(this._canvasClockTime)+this._rangeSpanPadding)}_rangeNavigable(t){let _=t.getBehavior();return!(_&&_.toString()==="no-nav")}_render(){if(this.isVirtual()&&kt.newRanges&&this.isVisible()){tt.groupCollapsed("CanvasInstance._render()"),tt.log({dataRange:this._data.rangeId,range:this.currentRange,newLimitToRange:this.limitToRange,constraintToRange:this._data.constrainNavigationToRange,autoSelectRange:this._data.autoSelectRange}),this.limitToRange&&this.currentRange?(tt.log("Selecting plan...",this.currentRange),this.timePlanPlayer.selectPlan({rangeId:this.currentRange})):(tt.log("Resetting..."),this.timePlanPlayer.selectPlan({reset:!0}));let t=this._$canvasTimelineContainer.width()/this.timePlanPlayer.getDuration();this._$durationHighlight.show();let{start:_,duration:h}=this.timePlanPlayer.getCurrentRange();this._$canvasTimelineContainer.slider({value:this._canvasClockTime-this.timePlanPlayer.plan.start,max:this.timePlanPlayer.getDuration()}),this._$durationHighlight.css({left:_*t,width:h*t}),tt.groupEnd(),this._updateCurrentTimeDisplay(),this._updateDurationDisplay(),this._drawWaveform()}if(this._data.limitToRange&&this._data.range?(this._$canvasTimelineContainer.hide(),this._$rangeTimelineContainer.show()):(this._$canvasTimelineContainer.show(),this._$rangeTimelineContainer.hide()),this.currentRange||this._$durationHighlight.hide(),!!this.isVisible()&&!(!this.isOnlyCanvasInstance&&!this.isVirtual())){if(this._data.range&&!(this.isVirtual()&&kt.newRanges)){let t=this._data.range.getDuration();if(t){let _=this._getDuration(),h=this._$canvasTimelineContainer.width()/_,l=_*h,f=t.start*h,p=t.end*h;(p>l||p<f)&&(p=l);let u=p-f;this.isVirtual()||this.isOnlyCanvasInstance?(this._$durationHighlight.show(),this._$durationHighlight.css({left:f,width:u})):this._$durationHighlight.hide();let y=this;this._$rangeTimelineContainer.data("ui-sortable")&&this._$rangeTimelineContainer.slider("destroy"),this._$rangeTimelineContainer.slider({value:t.start,step:.01,orientation:"horizontal",range:"min",min:t.start,max:t.end,animate:!1,create:function(v,b){},slide:function(v,b){y._setCurrentTime(b.value)},stop:function(v,b){}})}}this._updateCurrentTimeDisplay(),this._updateDurationDisplay(),this._drawWaveform()}}getCanvasId(){if(this._data&&this._data.canvas)return this._data.canvas.id}_updateHoverPreview(t,_,h){let l=_.offset()||{left:0},f=t.pageX-l.left,p=_.find(".arrow"),u=_.find(".hover-highlight"),y=_.find(".hover-preview");u.width(f);let v=_.width(),b=f/v,m=Math.min(h*b);y.find(".label").text(Ei(m));let T=y.outerWidth(),R=y.outerHeight(),E=f-T*.5,F=T*.5-6;E<0&&(E=0,F=f-6),E+T>v&&(E=v-T,F=T-(v-f)-6),y.css({left:E,top:R*-1+"px"}).show(),p.css({left:F})}_previous(t){if(kt.newRanges&&this.isVirtual()){if(this._data.limitToRange){this._setCurrentTime(this.timePlanPlayer.plan.start,!1);return}tt.group("CanvasInstance.previous()"),this._buffering=!0;let _=this.timePlanPlayer.previous();this._setCurrentTime(_),tt.log("CanvasInstance.previous()",_),this._buffering=!1,tt.groupEnd();return}this._data.limitToRange?t?this._isNavigationConstrainedToRange()?this._rewind():this.fire(ii.PREVIOUS_RANGE):this._rewind():this._data.range?t?(this.set({range:void 0}),this._rewind()):this.fire(ii.PREVIOUS_RANGE):this._rewind()}_next(){return Hi(this,void 0,void 0,function*(){if(kt.newRanges&&this.isVirtual()){if(this._data.limitToRange){yield this._setCurrentTime(this.timePlanPlayer.plan.end,!1);return}tt.groupCollapsed("next"),this._buffering=!0;let t=yield this.timePlanPlayer.next();tt.log("CanvasInstance.next()",t),yield this._setCurrentTime(t,!1),this._buffering=!1,tt.groupEnd();return}this._data.limitToRange?this._isNavigationConstrainedToRange()?this._fastforward():this.fire(ii.NEXT_RANGE):this.fire(ii.NEXT_RANGE)})}destroy(){window.clearInterval(this._highPriorityInterval),window.clearInterval(this._lowPriorityInterval),window.clearInterval(this._canvasClockInterval)}_convertToPercentage(t,_){return ma(t,_)}_renderMediaElement(t){let _;switch(t.type.toString().toLowerCase()){case"video":_=jt('<video crossorigin="anonymous" class="anno" />');break;case"sound":case"audio":_=jt('<audio crossorigin="anonymous" class="anno" />');break;default:return}let h=_[0];if(t.format&&t.format.toString()==="application/dash+xml"){_.attr("data-dashjs-player","");let f=dashjs.MediaPlayer().create();f.getDebug().setLogToBrowserConsole(!1),this._data.adaptiveAuthEnabled&&f.setXHRWithCredentialsForType("MPD",!0),f.initialize(h,t.source)}else if(t.format&&t.format.toString()==="application/vnd.apple.mpegurl")if(Hls.isSupported()){let f=new Hls;this._data.adaptiveAuthEnabled?f=new Hls({xhrSetup:p=>{p.withCredentials=!0}}):f=new Hls,this._data.adaptiveAuthEnabled,f.loadSource(t.source),f.attachMedia(h)}else h.canPlayType("application/vnd.apple.mpegurl")&&(h.src=t.source);else _.attr("src",t.source);_.css({top:t.top+"%",left:t.left+"%",width:t.width+"%",height:t.height+"%"}).hide(),t.element=_,t.timeout=null;let l=this;t.checkForStall=function(){let f=this;this.active?(l._checkMediaSynchronization(),this.element.get(0).readyState>0&&!this.outOfSync?l._playbackStalled(!1,f):(l._playbackStalled(!0,f),this.timeout&&window.clearTimeout(this.timeout),this.timeout=window.setTimeout(function(){f.checkForStall()},1e3))):l._playbackStalled(!1,f)},this._contentAnnotations.push(t),this.$playerElement&&this._$canvasContainer.append(_),_.on("loadedmetadata",()=>Hi(this,void 0,void 0,function*(){this._readyMediaCount++,this._readyMediaCount===this._contentAnnotations.length&&(this._data.autoPlay?yield this.play(!0):this.pause(!0),this._updateDurationDisplay(),this.fire(qt.MEDIA_READY))})),_.attr("preload","metadata"),_.get(0).load(),this._renderSyncIndicator(t)}_getWaveformData(t){return new Promise(function(_){fetch(t).then(h=>{if(h.ok)return h;throw new Error("Unable to request waveform")}).then(h=>h.arrayBuffer()).then(h=>_(Oa.create(h))).catch(()=>_({error:!0}))})}_renderWaveform(t=!1){if(this.waveFormInit&&!t||!this.waveforms.length)return;this.waveFormInit=!0;let _=this.waveforms.map(h=>this._getWaveformData(h));tt.log("loading waveforms"),Promise.all(_).then(h=>{let l=h.filter(p=>!p.error);tt.log("Waveforms loaded"),this._waveformCanvas=document.createElement("canvas"),this._waveformCanvas.classList.add("waveform"),this._$canvasContainer.append(this._waveformCanvas),this.waveformPageX=this._waveformCanvas.getBoundingClientRect().x;let f=this._drawWaveform.bind(this);this._waveformCanvas.addEventListener("mousein",()=>{this.waveformDeltaX=0}),this._$canvasTimelineContainer.on("mouseout",()=>{this.waveformDeltaX=0,requestAnimationFrame(f)}),this._waveformCanvas.addEventListener("mouseout",()=>{this.waveformDeltaX=0,requestAnimationFrame(f)}),this._waveformCanvas.addEventListener("mousemove",p=>{this.waveformDeltaX=p.pageX-this.waveformPageX,requestAnimationFrame(f)}),this._$canvasTimelineContainer.on("mousemove",p=>{this.waveformDeltaX=p.pageX-this.waveformPageX,requestAnimationFrame(f)}),this._waveformCanvas.addEventListener("click",p=>Hi(this,void 0,void 0,function*(){let u=this._waveformCanvas.getBoundingClientRect();if(u){this.waveformPageX=u.x;let y=u.width||0;if(y){let{start:v,end:b}=this.getRangeTiming();yield this._setCurrentTime(ji(v,Nn(Zt(b,v),(p.pageX-this.waveformPageX)/y)))}}})),this._waveformCtx=this._waveformCanvas.getContext("2d"),this._waveformCtx&&(this._waveformCtx.fillStyle=this._data.waveformColor||"#fff",this._compositeWaveform=new Pa(l),this.fire(qt.WAVEFORM_READY))}).catch(()=>{tt.warn("Could not load wave forms.")})}getRangeTiming(){if(kt.newRanges&&this.isVirtual())return{start:this.timePlanPlayer.plan.start,end:this.timePlanPlayer.plan.end,duration:this.timePlanPlayer.plan.duration,percent:Math.min((this.timePlanPlayer.getTime()-this.timePlanPlayer.plan.start)/this.timePlanPlayer.plan.duration,1)};let t,_=0,h=this._compositeWaveform?this._compositeWaveform.duration:-1,l=h;return this._data.range&&(t=this._data.range.getDuration()),this.isVirtual()||(h=this._getDuration()),this._data.limitToRange&&t&&(_=t.start,h=t.end,l=Zt(h,_)),h===-1&&t&&(_=t.start,h=t.end,l=Zt(h,_)),h===-1&&tt.warn("Duration not found...",{start:_,end:h,duration:l,durationObj:t}),{start:_,end:h,duration:Zt(h,_),percent:Math.min((this.getClockTime()-_)/l,1)}}_drawWaveform(){if(this._renderWaveform(),!this._waveformCtx)return;let{start:t,end:_,percent:h}=this.getRangeTiming(),l=t*this._compositeWaveform.pixelsPerSecond,f=_*this._compositeWaveform.pixelsPerSecond,p=this._waveformCtx.canvas.width,u=this._waveformCtx.canvas.height,y=this._data.waveformBarSpacing,v=this._data.waveformBarWidth,b=Math.floor((f-l)/p*y),m=p/y;this._waveformCtx.clearRect(0,0,p,u),this._waveformCtx.fillStyle=this._data.waveformColor||"#fff";let T=p/(_-t),R=[];if(this._contentAnnotations)for(let L=0;L<this._contentAnnotations.length;L++){let k=this._contentAnnotations[L];if(k&&k.element){let q=k.element[0],Z=k.startOffest||0;if(k.active)for(let V=0;V<q.buffered.length;V++){let D=q.buffered.length-V-1,M=q.buffered.start(D),X=q.buffered.end(D);R.push([(Z+M-t)*T,(Z+X-t)*T])}}}let E=[];if(this.isVirtual()&&kt.newRanges){let L=this.timePlanPlayer.plan,k=this._data.canvas;for(let q of L.stops){let Z=k.durationMap[q.canvasId];if(Z){let V=Z.runningDuration-Z.duration;E.push({start:(q.start-L.start)/L.duration,end:(q.end-L.start)/L.duration,duration:q.duration,startTime:V+q.canvasTime.start,endTime:V+q.canvasTime.start+q.canvasTime.end})}else tt.error("Canvas index not found",{stop:q,plan:L})}}else E.push({start:0,duration:_-t,end:_,startTime:t});let F=0;for(let L=l;L<f;L+=b){let k=Na(L,l,f),q=k*p;E[F].end<k&&F++;let Z=E[F],V=k-Z.start,D=Math.floor((Z.startTime+V*Z.duration)*this._compositeWaveform.pixelsPerSecond),M=this._getWaveformMaxAndMin(this._compositeWaveform,D,m),X=this._scaleY(M.max-M.min,u),w=q/p<h,O=this.waveformDeltaX/p,G=this._data.waveformColor||"#fff",ee=(u-X)/2;if(w)this.waveformDeltaX===0?G="#14A4C3":q/p<O?G="#11758e":G="#14A4C3";else if(q/p<O)G="#86b3c3";else{G="#8a9aa1";for(let[de,ie]of R)if(q>de&&q<ie){G="#fff";break}}this._waveformCtx.fillStyle=G,this._waveformCtx.fillRect(q,ee,v,X|0)}}_getWaveformMaxAndMin(t,_,h){let l=-127,f=128;for(let p=_;p<_+h;p++){let u=t.max(p),y=t.min(p);u>l&&(l=u),y<f&&(f=y)}return{max:l,min:f}}isLimitedToRange(){return this._data.limitToRange}hasCurrentRange(){return!!this._data.range}_updateCurrentTimeDisplay(){if(kt.newRanges&&this.isVirtual()){this._$canvasTime.text(Ei(this._canvasClockTime-this.timePlanPlayer.getStartTime()));return}let t;if(this._data.range&&(t=this._data.range.getDuration()),this._data.limitToRange&&t){let _=this._canvasClockTime-t.start;this._$canvasTime.text(Ei(_))}else this._$canvasTime.text(Ei(this._canvasClockTime))}_updateDurationDisplay(){if(kt.newRanges&&this.isVirtual()){this._$canvasDuration.text(Ei(this.timePlanPlayer.getDuration()));return}let t;this._data.range&&(t=this._data.range.getDuration()),this._data.limitToRange&&t?this._$canvasDuration.text(Ei(t.getLength())):this._$canvasDuration.text(Ei(this._getDuration()))}_renderSyncIndicator(t){if(kt.newRanges&&this.isVirtual()){tt.log("_renderSyncIndicator");return}let _=this._convertToPercentage(t.start,this._getDuration()),h=this._convertToPercentage(t.end-t.start,this._getDuration()),l=jt('<div class="timeline-item"></div>');l.css({left:_+"%",width:h+"%"});let f=jt('<div class="line-wrapper"></div>');l.appendTo(f),t.timelineElement=l,this.$playerElement&&this._$timelineItemContainer.append(f)}setCurrentTime(t){return tt.log("External set current time?"),this._setCurrentTime(t,!1)}now(){return fn(Date.now())}nowMs(){return Date.now()}_setCurrentTime(t,_=!0){return Hi(this,void 0,void 0,function*(){if(kt.newRanges&&this.isVirtual()){this._buffering=!0,yield this.timePlanPlayer.setTime(t,_),this._buffering=!1,this._canvasClockStartDate=hn(Zt(this.now(),this._canvasClockTime)),this._canvasClockUpdater(),this._highPriorityUpdater(),this._lowPriorityUpdater(),this._synchronizeMedia();return}let{start:h,end:l}=this.getRangeTiming();t<h||h>l||(this._canvasClockTime=t,this._canvasClockStartDate=hn(Zt(this.now(),this._canvasClockTime)),this.logMessage("SET CURRENT TIME to: "+this._canvasClockTime+" seconds."),this._canvasClockUpdater(),this._highPriorityUpdater(),this._lowPriorityUpdater(),this._synchronizeMedia())})}_rewind(t){if(kt.newRanges&&this.isVirtual()){tt.log("Rewind");return}this.pause();let _;this._data.range&&(_=this._data.range.getDuration()),this._data.limitToRange&&_?this._setCurrentTime(_.start):this._setCurrentTime(0),this._data.limitToRange||this._data&&this._data.helper&&this.set({range:void 0})}_fastforward(){if(kt.newRanges&&this.isVirtual()){tt.log("Fast forward");return}let t;this._data.range&&(t=this._data.range.getDuration()),this._data.limitToRange&&t?this._canvasClockTime=t.end:this._canvasClockTime=this._getDuration(),this.pause()}play(t){return Hi(this,void 0,void 0,function*(){if(this._isPlaying)return;if(tt.log(`CanvasInstance.play(${t})`),kt.newRanges&&this.isVirtual())this.timePlanPlayer.hasEnded()&&(this._buffering=!0,yield this.timePlanPlayer.previous(),this._buffering=!1),this.timePlanPlayer.play();else{let h;this._data.range&&(h=this._data.range.getDuration()),this._data.limitToRange&&h&&this._canvasClockTime>=h.end&&(this._canvasClockTime=h.start),this._canvasClockTime===this._getDuration()&&(this._canvasClockTime=0)}this._canvasClockStartDate=hn(Zt(this.now(),this._canvasClockTime)),this._highPriorityInterval&&clearInterval(this._highPriorityInterval),this._highPriorityInterval=window.setInterval(()=>{this._highPriorityUpdater()},this._highPriorityFrequency),this._lowPriorityInterval&&clearInterval(this._lowPriorityInterval),this._lowPriorityInterval=window.setInterval(()=>{this._lowPriorityUpdater()},this._lowPriorityFrequency),this._canvasClockInterval&&clearInterval(this._canvasClockInterval),this._canvasClockInterval=window.setInterval(()=>{this._canvasClockUpdater()},this._canvasClockFrequency),this._isPlaying=!0,t||this._synchronizeMedia();let _=this._data&&this._data.content?this._data.content.pause:"";this._$playButton.prop("title",_),this._$playButton.find("i").switchClass("play","pause"),this.fire(ii.PLAYCANVAS),this.logMessage("PLAY canvas")})}pause(t){tt.log(`CanvasInstance.pause(${t})`),window.clearInterval(this._highPriorityInterval),window.clearInterval(this._lowPriorityInterval),window.clearInterval(this._canvasClockInterval),this._isPlaying=!1,t||(this._highPriorityUpdater(),this._lowPriorityUpdater(),this._synchronizeMedia()),kt.newRanges&&this.isVirtual()&&this.timePlanPlayer.pause();let _=this._data&&this._data.content?this._data.content.play:"";this._$playButton.prop("title",_),this._$playButton.find("i").switchClass("pause","play"),this.fire(ii.PAUSECANVAS),this.logMessage("PAUSE canvas")}_isNavigationConstrainedToRange(){return this._data.constrainNavigationToRange||!1}_canvasClockUpdater(){if(kt.newRanges&&this.isVirtual()){if(this._buffering)return;let h=fn(this._canvasClockStartDate);tt.log("CanvasInstance._canvasClockUpdater()",{startDate:h,advanceToTime:Zt(this.now(),h)});let{paused:l}=this.timePlanPlayer.advanceToTime(Zt(this.now(),h));l&&this.pause();return}if(this._buffering)return;let t=fn(this._canvasClockStartDate);this._canvasClockTime=Zt(this.now(),t);let _;this._data.range&&(_=this._data.range.getDuration()),this._data.limitToRange&&_&&this._canvasClockTime>=_.end&&this.pause(),this._canvasClockTime>this._getDuration()&&(this._canvasClockTime=this._getDuration(),this.pause())}_highPriorityUpdater(){this._bufferShown&&!this._buffering&&(this.$playerElement.removeClass("player--loading"),this._bufferShown=!1),this._buffering&&!this._bufferShown&&(this.$playerElement.addClass("player--loading"),this._bufferShown=!0),kt.newRanges&&this.isVirtual()?(this._$rangeTimelineContainer.slider({value:this._canvasClockTime-this.timePlanPlayer.plan.start}),this._$canvasTimelineContainer.slider({value:this._canvasClockTime-this.timePlanPlayer.plan.start})):(this._$rangeTimelineContainer.slider({value:this._canvasClockTime}),this._$canvasTimelineContainer.slider({value:this._canvasClockTime})),this._updateCurrentTimeDisplay(),this._updateDurationDisplay(),this._drawWaveform()}_lowPriorityUpdater(){this._updateMediaActiveStates(),this._data.autoSelectRange&&(this.isVirtual()||this.isOnlyCanvasInstance)&&this._hasRangeChanged()}_updateMediaActiveStates(){if(kt.newRanges&&this.isVirtual()){if(this._isPlaying){if(this.timePlanPlayer.isBuffering()){this._buffering=!0;return}else this._buffering&&(this._buffering=!1);this.timePlanPlayer.advanceToTime(this._canvasClockTime)}return}let t;for(let _=0;_<this._contentAnnotations.length;_++)t=this._contentAnnotations[_],t.start<=this._canvasClockTime&&t.end>=this._canvasClockTime?(this._checkMediaSynchronization(),t.active||(this._synchronizeMedia(),t.active=!0,t.element.show(),t.timelineElement.addClass("active")),t.element[0].currentTime>t.element[0].duration-t.endOffset&&this._pauseMedia(t.element[0])):t.active&&(t.active=!1,t.element.hide(),t.timelineElement.removeClass("active"),this._pauseMedia(t.element[0]))}_pauseMedia(t){t.pause()}_setMediaCurrentTime(t,_){isNaN(t.duration)||(t.currentTime=_)}_synchronizeMedia(){if(kt.newRanges&&this.isVirtual())return;let t;for(let _=0;_<this._contentAnnotations.length;_++){if(t=this._contentAnnotations[_],this._setMediaCurrentTime(t.element[0],this._canvasClockTime-t.start+t.startOffset),t.start<=this._canvasClockTime&&t.end>=this._canvasClockTime)if(this._isPlaying){if(t.element[0].paused){let h=t.element[0].play();h&&h.catch(function(l){console.log(l)})}}else this._pauseMedia(t.element[0]);else this._pauseMedia(t.element[0]);t.element[0].currentTime>t.element[0].duration-t.endOffset&&this._pauseMedia(t.element[0])}this.logMessage("SYNC MEDIA at: "+this._canvasClockTime+" seconds.")}_checkMediaSynchronization(){if(kt.newRanges&&this.isVirtual()){this._isPlaying&&(this.timePlanPlayer.isBuffering()?this._buffering=!0:this._buffering&&(this._buffering=!1));return}let t;for(let _=0,h=this._contentAnnotations.length;_<h;_++)if(t=this._contentAnnotations[_],t.start<=this._canvasClockTime&&t.end>=this._canvasClockTime){this._isPlaying&&(t.element[0].readyState<3?this._buffering=!0:this._buffering&&(this._buffering=!1));let l=this._canvasClockTime-t.start+t.startOffset,f=t.element[0].currentTime;if(Math.abs(f-l)>this._mediaSyncMarginSecs){t.outOfSync=!0;let p=Math.abs(f-l);this.logMessage("DETECTED synchronization lag: "+Math.abs(p)),this._setMediaCurrentTime(t.element[0],l)}else t.outOfSync=!1}}_playbackStalled(t,_){if(t)this._stallRequestedBy.indexOf(_)<0&&this._stallRequestedBy.push(_),this._isStalled||(this.$playerElement,this._wasPlaying=this._isPlaying,this.pause(!0),this._isStalled=t);else{let h=this._stallRequestedBy.indexOf(_);h>=0&&this._stallRequestedBy.splice(h,1),this._stallRequestedBy.length===0&&(this._isStalled&&this._wasPlaying&&this.play(!0),this._isStalled=t)}}resize(){if(this.$playerElement){let t=this._$canvasContainer.width();if(t){this._$canvasTimelineContainer.width(t);let _=this.$playerElement.find(".options-container");this._data.halveAtWidth!==void 0&&this.$playerElement.parent().width()<this._data.halveAtWidth?this._$canvasContainer.height(this.$playerElement.parent().height()/2):this._$canvasContainer.height(this.$playerElement.parent().height()-_.height())}if(this._waveformCanvas){let _=this._$canvasContainer.width(),h=this._$canvasContainer.height();this._waveformCanvas.width=_,this._waveformCanvas.height=h,this.waveformPageX=this._waveformCanvas.getBoundingClientRect().x}this._render(),this._drawWaveform()}}},Fa=fi(Ci());function mn(t){let _;if(t.canvases&&t.canvases.length)_=t.canvases[0];else{let h=t.getRanges();if(h.length)return mn(h[0])}if(_!==void 0)return Fa.Utils.normaliseUrl(_)}(function t(_,h,l){function f(y,v){if(!h[y]){if(!_[y]){var b=typeof Wi=="function"&&Wi;if(!v&&b)return b(y,!0);if(p)return p(y,!0);var m=new Error("Cannot find module '"+y+"'");throw m.code="MODULE_NOT_FOUND",m}var T=h[y]={exports:{}};_[y][0].call(T.exports,function(R){var E=_[y][1][R];return f(E||R)},T,T.exports,t,_,h,l)}return h[y].exports}for(var p=typeof Wi=="function"&&Wi,u=0;u<l.length;u++)f(l[u]);return f})({1:[function(t,_,h){var l={};l.encode=function(p){for(var u=[],y=0;y<p.length;++y){var v=p.charCodeAt(y);v<128?u.push(v):v<2048?(u.push(192|v>>6),u.push(128|63&v)):v<65536?(u.push(224|v>>12),u.push(128|63&v>>6),u.push(128|63&v)):(u.push(240|v>>18),u.push(128|63&v>>12),u.push(128|63&v>>6),u.push(128|63&v))}return u},l.decode=function(p){for(var u=[],y=0;y<p.length;){var v=p[y++];v<128||(v<224?(v=(31&v)<<6,v|=63&p[y++]):v<240?(v=(15&v)<<12,v|=(63&p[y++])<<6,v|=63&p[y++]):(v=(7&v)<<18,v|=(63&p[y++])<<12,v|=(63&p[y++])<<6,v|=63&p[y++])),u.push(String.fromCharCode(v))}return u.join("")};var f={};(function(p){var u=function(m){for(var T=0,R=[],E=0|m.length/3;0<E--;){var F=(m[T]<<16)+(m[T+1]<<8)+m[T+2];T+=3,R.push(p.charAt(63&F>>18)),R.push(p.charAt(63&F>>12)),R.push(p.charAt(63&F>>6)),R.push(p.charAt(63&F))}if(m.length-T==2){var F=(m[T]<<16)+(m[T+1]<<8);R.push(p.charAt(63&F>>18)),R.push(p.charAt(63&F>>12)),R.push(p.charAt(63&F>>6)),R.push("=")}else if(m.length-T==1){var F=m[T]<<16;R.push(p.charAt(63&F>>18)),R.push(p.charAt(63&F>>12)),R.push("==")}return R.join("")},y=function(){for(var m=[],T=0;T<p.length;++T)m[p.charCodeAt(T)]=T;return m["=".charCodeAt(0)]=0,m}(),v=function(m){for(var T=0,R=[],E=0|m.length/4;0<E--;){var F=(y[m.charCodeAt(T)]<<18)+(y[m.charCodeAt(T+1)]<<12)+(y[m.charCodeAt(T+2)]<<6)+y[m.charCodeAt(T+3)];R.push(255&F>>16),R.push(255&F>>8),R.push(255&F),T+=4}return R&&(m.charAt(T-2)=="="?(R.pop(),R.pop()):m.charAt(T-1)=="="&&R.pop()),R},b={};b.encode=function(m){for(var T=[],R=0;R<m.length;++R)T.push(m.charCodeAt(R));return T},b.decode=function(m){for(var T=0;T<s.length;++T)a[T]=String.fromCharCode(a[T]);return a.join("")},f.decodeArray=function(m){var T=v(m);return new Uint8Array(T)},f.encodeASCII=function(m){var T=b.encode(m);return u(T)},f.decodeASCII=function(m){var T=v(m);return b.decode(T)},f.encode=function(m){var T=l.encode(m);return u(T)},f.decode=function(m){var T=v(m);return l.decode(T)}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),h!==void 0&&(h.decode=f.decode,h.decodeArray=f.decodeArray,h.encode=f.encode,h.encodeASCII=f.encodeASCII)},{}],2:[function(t,_,h){(function(l){var f={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},p=function(w){var O=w;return f.hasOwnProperty(w)&&(O=f[w]),String.fromCharCode(O)},u=15,y=32,v={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},b={17:2,18:4,21:6,22:8,23:10,19:13,20:15},m={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},T={25:2,26:4,29:6,30:8,31:10,27:13,28:15},R=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],E={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(w){this.time=w},log:function(w,O){var G=this.verboseFilter[w];this.verboseLevel>=G&&console.log(this.time+" ["+w+"] "+O)}},F=function(w){for(var O=[],G=0;G<w.length;G++)O.push(w[G].toString(16));return O},L=function(w,O,G,ee,de){this.foreground=w||"white",this.underline=O||!1,this.italics=G||!1,this.background=ee||"black",this.flash=de||!1};L.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(w){for(var O=["foreground","underline","italics","background","flash"],G=0;G<O.length;G++){var ee=O[G];w.hasOwnProperty(ee)&&(this[ee]=w[ee])}},isDefault:function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},equals:function(w){return this.foreground===w.foreground&&this.underline===w.underline&&this.italics===w.italics&&this.background===w.background&&this.flash===w.flash},copy:function(w){this.foreground=w.foreground,this.underline=w.underline,this.italics=w.italics,this.background=w.background,this.flash=w.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var k=function(w,O,G,ee,de,ie){this.uchar=w||" ",this.penState=new L(O,G,ee,de,ie)};k.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(w,O){this.uchar=w,this.penState.copy(O)},setPenState:function(w){this.penState.copy(w)},equals:function(w){return this.uchar===w.uchar&&this.penState.equals(w.penState)},copy:function(w){this.uchar=w.uchar,this.penState.copy(w.penState)},isEmpty:function(){return this.uchar===" "&&this.penState.isDefault()}};var q=function(){this.chars=[];for(var w=0;w<y;w++)this.chars.push(new k);this.pos=0,this.currPenState=new L};q.prototype={equals:function(w){for(var O=!0,G=0;G<y;G++)if(!this.chars[G].equals(w.chars[G])){O=!1;break}return O},copy:function(w){for(var O=0;O<y;O++)this.chars[O].copy(w.chars[O])},isEmpty:function(){for(var w=!0,O=0;O<y;O++)if(!this.chars[O].isEmpty()){w=!1;break}return w},setCursor:function(w){this.pos!==w&&(this.pos=w),this.pos<0?(E.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>y&&(E.log("ERROR","Too large cursor position "+this.pos),this.pos=y)},moveCursor:function(w){var O=this.pos+w;if(w>1)for(var G=this.pos+1;G<O+1;G++)this.chars[G].setPenState(this.currPenState);this.setCursor(O)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(w){w>=144&&this.backSpace();var O=p(w);if(this.pos>=y)return void E.log("ERROR","Cannot insert "+w.toString(16)+" ("+O+") at position "+this.pos+". Skipping it!");this.chars[this.pos].setChar(O,this.currPenState),this.moveCursor(1)},clearFromPos:function(w){var O;for(O=w;O<y;O++)this.chars[O].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var w=[],O=!0,G=0;G<y;G++){var ee=this.chars[G].uchar;ee!==" "&&(O=!1),w.push(ee)}return O?"":w.join("")},setPenStyles:function(w){this.currPenState.setStyles(w),this.chars[this.pos].setPenState(this.currPenState)}};var Z=function(){this.rows=[];for(var w=0;w<u;w++)this.rows.push(new q);this.currRow=u-1,this.nrRollUpRows=null,this.reset()};Z.prototype={reset:function(){for(var w=0;w<u;w++)this.rows[w].clear();this.currRow=u-1},equals:function(w){for(var O=!0,G=0;G<u;G++)if(!this.rows[G].equals(w.rows[G])){O=!1;break}return O},copy:function(w){for(var O=0;O<u;O++)this.rows[O].copy(w.rows[O])},isEmpty:function(){for(var w=!0,O=0;O<u;O++)if(!this.rows[O].isEmpty()){w=!1;break}return w},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(w){this.rows[this.currRow].insertChar(w)},setPen:function(w){this.rows[this.currRow].setPenStyles(w)},moveCursor:function(w){this.rows[this.currRow].moveCursor(w)},setCursor:function(w){E.log("INFO","setCursor: "+w),this.rows[this.currRow].setCursor(w)},setPAC:function(w){E.log("INFO","pacData = "+JSON.stringify(w));var O=w.row-1;this.nrRollUpRows&&O<this.nrRollUpRows-1&&(O=this.nrRollUpRows-1),this.currRow=O;var G=this.rows[this.currRow];if(w.indent!==null){var ee=w.indent,de=Math.max(ee-1,0);G.setCursor(w.indent),w.color=G.chars[de].penState.foreground}var ie={foreground:w.color,underline:w.underline,italics:w.italics,background:"black",flash:!1};this.setPen(ie)},setBkgData:function(w){E.log("INFO","bkgData = "+JSON.stringify(w)),this.backSpace(),this.setPen(w),this.insertChar(32)},setRollUpRows:function(w){this.nrRollUpRows=w},rollUp:function(){if(this.nrRollUpRows===null)return void E.log("DEBUG","roll_up but nrRollUpRows not set yet");E.log("TEXT",this.getDisplayText());var w=this.currRow+1-this.nrRollUpRows,O=this.rows.splice(w,1)[0];O.clear(),this.rows.splice(this.currRow,0,O),E.log("INFO","Rolling up")},getDisplayText:function(w){w=w||!1;for(var O=[],G="",ee=-1,de=0;de<u;de++){var ie=this.rows[de].getTextString();ie&&(ee=de+1,w?O.push("Row "+ee+': "'+ie+'"'):O.push(ie.trim()))}return O.length>0&&(G=w?"["+O.join(" | ")+"]":O.join(`
`)),G},getTextAndFormat:function(){return this.rows}};var V=function(w,O){this.chNr=w,this.outputFilter=O,this.mode=null,this.verbose=0,this.displayedMemory=new Z,this.nonDisplayedMemory=new Z,this.lastOutputScreen=new Z,this.currRollUpRow=this.displayedMemory.rows[u-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};V.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[u-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(w){this.outputFilter=w},setPAC:function(w){this.writeScreen.setPAC(w)},setBkgData:function(w){this.writeScreen.setBkgData(w)},setMode:function(w){w!==this.mode&&(this.mode=w,E.log("INFO","MODE="+w),this.mode=="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=w)},insertChars:function(w){for(var O=0;O<w.length;O++)this.writeScreen.insertChar(w[O]);var G=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";E.log("INFO",G+": "+this.writeScreen.getDisplayText(!0)),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(E.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){E.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){E.log("INFO","BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){E.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(w){E.log("INFO","RU("+w+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(w)},cc_FON:function(){E.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){E.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){E.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){E.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){E.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){E.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){E.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(E.log("INFO","EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var w=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=w,this.writeScreen=this.nonDisplayedMemory,E.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(w){E.log("INFO","TO("+w+") - Tab Offset"),this.writeScreen.moveCursor(w)},cc_MIDROW:function(w){var O={flash:!1};if(O.underline=w%2==1,O.italics=w>=46,O.italics)O.foreground="white";else{var G=Math.floor(w/2)-16,ee=["white","green","blue","cyan","red","yellow","magenta"];O.foreground=ee[G]}E.log("INFO","MIDROW: "+JSON.stringify(O)),this.writeScreen.setPen(O)},outputDataUpdate:function(){var w=E.time;w!==null&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(w,this.displayedMemory),this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,w,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:w):this.cueStartTime=w,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(w){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,w,this.displayedMemory),this.cueStartTime=w))}};var D=function(w,O,G){this.field=w||1,this.outputs=[O,G],this.channels=[new V(1,O),new V(2,G)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};D.prototype={getHandler:function(w){return this.channels[w].getHandler()},setHandler:function(w,O){this.channels[w].setHandler(O)},addData:function(w,O){var G,ee,de,ie=!1;this.lastTime=w,E.setTime(w);for(var W=0;W<O.length;W+=2)if(ee=127&O[W],de=127&O[W+1],ee>=16&&ee<=31&&ee===this.lastCmdA&&de===this.lastCmdB)this.lastCmdA=null,this.lastCmdB=null,E.log("DEBUG","Repeated command ("+F([ee,de])+") is dropped");else if(ee!==0||de!==0){if(E.log("DATA","["+F([O[W],O[W+1]])+"] -> ("+F([ee,de])+")"),G=this.parseCmd(ee,de),G||(G=this.parseMidrow(ee,de)),G||(G=this.parsePAC(ee,de)),G||(G=this.parseBackgroundAttributes(ee,de)),!G&&(ie=this.parseChars(ee,de)))if(this.currChNr&&this.currChNr>=0){var re=this.channels[this.currChNr-1];re.insertChars(ie)}else E.log("WARNING","No channel found yet. TEXT-MODE?");G?this.dataCounters.cmd+=2:ie?this.dataCounters.char+=2:(this.dataCounters.other+=2,E.log("WARNING","Couldn't parse cleaned data "+F([ee,de])+" orig: "+F([O[W],O[W+1]])))}else this.dataCounters.padding+=2},parseCmd:function(w,O){var G=null,ee=(w===20||w===21||w===28||w===29)&&32<=O&&O<=47,de=(w===23||w===31)&&33<=O&&O<=35;if(!ee&&!de)return!1;G=w===20||w===21||w===23?1:2;var ie=this.channels[G-1];return w===20||w===21||w===28||w===29?O===32?ie.cc_RCL():O===33?ie.cc_BS():O===34?ie.cc_AOF():O===35?ie.cc_AON():O===36?ie.cc_DER():O===37?ie.cc_RU(2):O===38?ie.cc_RU(3):O===39?ie.cc_RU(4):O===40?ie.cc_FON():O===41?ie.cc_RDC():O===42?ie.cc_TR():O===43?ie.cc_RTD():O===44?ie.cc_EDM():O===45?ie.cc_CR():O===46?ie.cc_ENM():O===47&&ie.cc_EOC():ie.cc_TO(O-32),this.lastCmdA=w,this.lastCmdB=O,this.currChNr=G,!0},parseMidrow:function(w,O){var G=null;if((w===17||w===25)&&32<=O&&O<=47){if((G=w===17?1:2)!==this.currChNr)return E.log("ERROR","Mismatch channel in midrow parsing"),!1;var ee=this.channels[G-1];return ee.insertChars([32]),ee.cc_MIDROW(O),E.log("DEBUG","MIDROW ("+F([w,O])+")"),this.lastCmdA=w,this.lastCmdB=O,!0}return!1},parsePAC:function(w,O){var G=null,ee=null,de=(17<=w&&w<=23||25<=w&&w<=31)&&64<=O&&O<=127,ie=(w===16||w===24)&&64<=O&&O<=95;if(!de&&!ie)return!1;G=w<=23?1:2,ee=64<=O&&O<=95?G===1?v[w]:m[w]:G===1?b[w]:T[w];var W=this.interpretPAC(ee,O);return this.channels[G-1].setPAC(W),this.lastCmdA=w,this.lastCmdB=O,this.currChNr=G,!0},interpretPAC:function(w,O){var G=O,ee={color:null,italics:!1,indent:null,underline:!1,row:w};return G=O>95?O-96:O-64,ee.underline=(1&G)==1,G<=13?ee.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(G/2)]:G<=15?(ee.italics=!0,ee.color="white"):ee.indent=4*Math.floor((G-16)/2),ee},parseChars:function(w,O){var G=null,ee=null,de=null;if(w>=25?(G=2,de=w-8):(G=1,de=w),17<=de&&de<=19){var ie=O;ie=de===17?O+80:de===18?O+112:O+144,E.log("INFO","Special char '"+p(ie)+"' in channel "+G),ee=[ie],this.lastCmdA=w,this.lastCmdB=O}else 32<=w&&w<=127&&(ee=O===0?[w]:[w,O],this.lastCmdA=null,this.lastCmdB=null);if(ee){var W=F(ee);E.log("DEBUG","Char codes =  "+W.join(","))}return ee},parseBackgroundAttributes:function(w,O){var G,ee,de,ie,W=(w===16||w===24)&&32<=O&&O<=47,re=(w===23||w===31)&&45<=O&&O<=47;return!(!W&&!re)&&(G={},w===16||w===24?(ee=Math.floor((O-32)/2),G.background=R[ee],O%2==1&&(G.background=G.background+"_semi")):O===45?G.background="transparent":(G.foreground="black",O===47&&(G.underline=!0)),de=w<24?1:2,ie=this.channels[de-1],ie.setBkgData(G),this.lastCmdA=w,this.lastCmdB=O,!0)},reset:function(){for(var w=0;w<this.channels.length;w++)this.channels[w]&&this.channels[w].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(w){for(var O=0;O<this.channels.length;O++)this.channels[O]&&this.channels[O].cueSplitAtTime(w)}};var M=function(w,O,G){for(var ee=0,de=O,ie=[],W=function(he,se,e,i){if(he!==4||se<8)return null;var n=e.getUint8(i),r=e.getUint16(i+1),o=e.getUint32(i+3),c=e.getUint8(i+7);return n==181&&r==49&&o==1195456820&&c==3};de<O+G;){if(ee=w.getUint32(de),(31&w.getUint8(de+4))==6)for(var re=de+5,ue=-1;re<de+4+ee-1;){ue=0;for(var ce=255;ce===255;)ce=w.getUint8(re),ue+=ce,re++;var le=0;for(ce=255;ce===255;)ce=w.getUint8(re),le+=ce,re++;W(ue,le,w,re)&&ie.push([re,le]),re+=le}de+=ee+4}return ie},X=function(w,O){var G=O[0],ee=[[],[]];G+=8;var de=31&w.getUint8(G);G+=2;for(var ie=0;ie<de;ie++){var W=w.getUint8(G),re=4&W,ue=3&W;G++;var ce=w.getUint8(G);G++;var le=w.getUint8(G);G++,re&&(127&ce)+(127&le)!=0&&(ue===0?(ee[0].push(ce),ee[0].push(le)):ue===1&&(ee[1].push(ce),ee[1].push(le)))}return ee};l.logger=E,l.PenState=L,l.CaptionScreen=Z,l.Cea608Parser=D,l.findCea608Nalus=M,l.extractCea608DataFromRange=X})(h===void 0?(void 0).cea608parser={}:h)},{}],3:[function(t,_,h){function l(f){var p,u,y;for(p=[],y=0,u=f.length;y<u;y+=1)f[y].isRoot?p.push("root"):p.push(f[y].name);var v=function(T,R){var E;if(T!==null&&R!==null)for(E in T)T.hasOwnProperty(E)&&(R.hasOwnProperty(E)||(R[E]=T[E]))},b=function(T,R,E){var F,L,k,q,Z;if(T!==null&&T.length!==0)for(F=0,L=T.length;F<L;F+=1)k=T[F],R.hasOwnProperty(k.name)&&(E.hasOwnProperty(k.name)?k.merge&&(q=R[k.name],Z=E[k.name],typeof q=="object"&&typeof Z=="object"?v(q,Z):k.mergeFunction!=null?E[k.name]=k.mergeFunction(q,Z):E[k.name]=q+Z):E[k.name]=R[k.name])},m=function T(R,E){var F,L,k,q,Z,V,D,M=R;if(M.children!==null&&M.children.length!==0){for(F=0,L=M.children.length;F<L;F+=1)if(V=M.children[F],E.hasOwnProperty(V.name))if(V.isArray)for(Z=E[V.name+"_asArray"],k=0,q=Z.length;k<q;k+=1)D=Z[k],b(M.properties,E,D),T(V,D);else D=E[V.name],b(M.properties,E,D),T(V,D)}};return{run:function T(R){var E,F,L,k,q,Z,V;if(R===null||typeof R!="object")return R;for(E=0,F=p.length;E<F;E+=1)p[E]==="root"&&(q=f[E],Z=R,m(q,Z));for(k in R)if(R.hasOwnProperty(k)&&k!="__children"){if((L=p.indexOf(k))!==-1)if(q=f[L],q.isArray)for(V=R[k+"_asArray"],E=0,F=V.length;E<F;E+=1)Z=V[E],m(q,Z);else Z=R[k],m(q,Z);T(R[k])}return R}}}Object.defineProperty(h,"__esModule",{value:!0}),h.default=l,_.exports=h.default},{}],4:[function(t,_,h){function l(f){function p(){f.escapeMode===void 0&&(f.escapeMode=!0),f.attributePrefix===void 0&&(f.attributePrefix="_"),f.arrayAccessForm=f.arrayAccessForm||"none",f.emptyNodeForm=f.emptyNodeForm||"text",f.enableToStringFunc===void 0&&(f.enableToStringFunc=!0),f.arrayAccessFormPaths=f.arrayAccessFormPaths||[],f.skipEmptyTextNodesForObj===void 0&&(f.skipEmptyTextNodesForObj=!0),f.stripWhitespaces===void 0&&(f.stripWhitespaces=!0),f.datetimeAccessFormPaths=f.datetimeAccessFormPaths||[],f.useDoubleQuotes===void 0&&(f.useDoubleQuotes=!1),f.xmlElementsFilter=f.xmlElementsFilter||[],f.jsonPropertiesFilter=f.jsonPropertiesFilter||[],f.keepCData===void 0&&(f.keepCData=!1),f.ignoreRoot===void 0&&(f.ignoreRoot=!1)}function u(W){var re=W.localName;return re==null&&(re=W.baseName),re!=null&&re!=""||(re=W.nodeName),re}function y(W){return W.prefix}function v(W){return typeof W=="string"?W.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):W}function b(W,re,ue,ce){for(var le=0;le<W.length;le++){var he=W[le];if(typeof he=="string"){if(he==ce)break}else if(he instanceof RegExp){if(he.test(ce))break}else if(typeof he=="function"&&he(re,ue,ce))break}return le!=W.length}function m(W,re,ue){switch(f.arrayAccessForm){case"property":W[re]instanceof Array?W[re+"_asArray"]=W[re]:W[re+"_asArray"]=[W[re]]}!(W[re]instanceof Array)&&f.arrayAccessFormPaths.length>0&&b(f.arrayAccessFormPaths,W,re,ue)&&(W[re]=[W[re]])}function T(W){var re=W.split(/[-T:+Z]/g),ue=new Date(re[0],re[1]-1,re[2]),ce=re[5].split(".");if(ue.setHours(re[3],re[4],ce[0]),ce.length>1&&ue.setMilliseconds(ce[1]),re[6]&&re[7]){var le=60*re[6]+Number(re[7]);le=0+((/\d\d-\d\d:\d\d$/.test(W)?"-":"+")=="-"?-1*le:le),ue.setMinutes(ue.getMinutes()-le-ue.getTimezoneOffset())}else W.indexOf("Z",W.length-1)!==-1&&(ue=new Date(Date.UTC(ue.getFullYear(),ue.getMonth(),ue.getDate(),ue.getHours(),ue.getMinutes(),ue.getSeconds(),ue.getMilliseconds())));return ue}function R(W,re,ue){if(f.datetimeAccessFormPaths.length>0){var ce=ue.split(".#")[0];return b(f.datetimeAccessFormPaths,W,re,ce)?T(W):W}return W}function E(W,re,ue,ce){return!(re==ie.ELEMENT_NODE&&f.xmlElementsFilter.length>0)||b(f.xmlElementsFilter,W,ue,ce)}function F(W,re){if(W.nodeType==ie.DOCUMENT_NODE){for(var ue=new Object,ce=W.childNodes,le=0;le<ce.length;le++){var he=ce[le];if(he.nodeType==ie.ELEMENT_NODE)if(f.ignoreRoot)ue=F(he);else{ue={};var se=u(he);ue[se]=F(he)}}return ue}if(W.nodeType==ie.ELEMENT_NODE){var ue=new Object;ue.__cnt=0;for(var e=[],ce=W.childNodes,le=0;le<ce.length;le++){var he=ce[le],se=u(he);if(he.nodeType!=ie.COMMENT_NODE){var i=re+"."+se;if(E(ue,he.nodeType,se,i))if(ue.__cnt++,ue[se]==null){var n=F(he,i);if(se!="#text"||/[^\s]/.test(n)){var r={};r[se]=n,e.push(r)}ue[se]=n,m(ue,se,i)}else{ue[se]!=null&&(ue[se]instanceof Array||(ue[se]=[ue[se]],m(ue,se,i)));var n=F(he,i);if(se!="#text"||/[^\s]/.test(n)){var r={};r[se]=n,e.push(r)}ue[se][ue[se].length]=n}}}ue.__children=e;for(var o=u(W),c=0;c<W.attributes.length;c++){var g=W.attributes[c];ue.__cnt++;for(var I=g.value,P=0,U=f.matchers.length;P<U;P++){var B=f.matchers[P];B.test(g,o)&&(I=B.converter(g.value))}ue[f.attributePrefix+g.name]=I}var te=y(W);return te!=null&&te!=""&&(ue.__cnt++,ue.__prefix=te),ue["#text"]!=null&&(ue.__text=ue["#text"],ue.__text instanceof Array&&(ue.__text=ue.__text.join(`
`)),f.stripWhitespaces&&(ue.__text=ue.__text.trim()),delete ue["#text"],f.arrayAccessForm=="property"&&delete ue["#text_asArray"],ue.__text=R(ue.__text,se,re+"."+se)),ue["#cdata-section"]!=null&&(ue.__cdata=ue["#cdata-section"],delete ue["#cdata-section"],f.arrayAccessForm=="property"&&delete ue["#cdata-section_asArray"]),ue.__cnt==0&&f.emptyNodeForm=="text"?ue="":ue.__cnt==1&&ue.__text!=null?ue=ue.__text:ue.__cnt!=1||ue.__cdata==null||f.keepCData?ue.__cnt>1&&ue.__text!=null&&f.skipEmptyTextNodesForObj&&(f.stripWhitespaces&&ue.__text==""||ue.__text.trim()=="")&&delete ue.__text:ue=ue.__cdata,delete ue.__cnt,!f.enableToStringFunc||ue.__text==null&&ue.__cdata==null||(ue.toString=function(){return(this.__text!=null?this.__text:"")+(this.__cdata!=null?this.__cdata:"")}),ue}if(W.nodeType==ie.TEXT_NODE||W.nodeType==ie.CDATA_SECTION_NODE)return W.nodeValue}function L(W,re,ue,ce){var le="<"+(W!=null&&W.__prefix!=null?W.__prefix+":":"")+re;if(ue!=null)for(var he=0;he<ue.length;he++){var se=ue[he],e=W[se];f.escapeMode&&(e=v(e)),le+=" "+se.substr(f.attributePrefix.length)+"=",f.useDoubleQuotes?le+='"'+e+'"':le+="'"+e+"'"}return le+=ce?"/>":">"}function k(W,re){return"</"+(W.__prefix!=null?W.__prefix+":":"")+re+">"}function q(W,re){return W.indexOf(re,W.length-re.length)!==-1}function Z(W,re){return!!(f.arrayAccessForm=="property"&&q(re.toString(),"_asArray")||re.toString().indexOf(f.attributePrefix)==0||re.toString().indexOf("__")==0||W[re]instanceof Function)}function V(W){var re=0;if(W instanceof Object)for(var ue in W)Z(W,ue)||re++;return re}function D(W,re,ue){return f.jsonPropertiesFilter.length==0||ue==""||b(f.jsonPropertiesFilter,W,re,ue)}function M(W){var re=[];if(W instanceof Object)for(var ue in W)ue.toString().indexOf("__")==-1&&ue.toString().indexOf(f.attributePrefix)==0&&re.push(ue);return re}function X(W){var re="";return W.__cdata!=null&&(re+="<![CDATA["+W.__cdata+"]]>"),W.__text!=null&&(f.escapeMode?re+=v(W.__text):re+=W.__text),re}function w(W){var re="";return W instanceof Object?re+=X(W):W!=null&&(f.escapeMode?re+=v(W):re+=W),re}function O(W,re){return W===""?re:W+"."+re}function G(W,re,ue,ce){var le="";if(W.length==0)le+=L(W,re,ue,!0);else for(var he=0;he<W.length;he++)le+=L(W[he],re,M(W[he]),!1),le+=ee(W[he],O(ce,re)),le+=k(W[he],re);return le}function ee(W,re){var ue="";if(V(W)>0){for(var ce in W)if(!Z(W,ce)&&(re==""||D(W,ce,O(re,ce)))){var le=W[ce],he=M(le);if(le==null||le==null)ue+=L(le,ce,he,!0);else if(le instanceof Object)if(le instanceof Array)ue+=G(le,ce,he,re);else if(le instanceof Date)ue+=L(le,ce,he,!1),ue+=le.toISOString(),ue+=k(le,ce);else{var se=V(le);se>0||le.__text!=null||le.__cdata!=null?(ue+=L(le,ce,he,!1),ue+=ee(le,O(re,ce)),ue+=k(le,ce)):ue+=L(le,ce,he,!0)}else ue+=L(le,ce,he,!1),ue+=w(le),ue+=k(le,ce)}}return ue+=w(W)}var de="1.2.0";f=f||{},p();var ie={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(W){if(W===void 0)return null;var re;if(window.DOMParser){var ue=new window.DOMParser;try{re=ue.parseFromString(W,"text/xml"),re.getElementsByTagNameNS("*","parsererror").length>0&&(re=null)}catch{re=null}}else W.indexOf("<?")==0&&(W=W.substr(W.indexOf("?>")+2)),re=new ActiveXObject("Microsoft.XMLDOM"),re.async="false",re.loadXML(W);return re},this.asArray=function(W){return W===void 0||W==null?[]:W instanceof Array?W:[W]},this.toXmlDateTime=function(W){return W instanceof Date?W.toISOString():typeof W=="number"?new Date(W).toISOString():null},this.asDateTime=function(W){return typeof W=="string"?T(W):W},this.xml2json=function(W){return F(W)},this.xml_str2json=function(W){var re=this.parseXmlString(W);return re!=null?this.xml2json(re):null},this.json2xml_str=function(W){return ee(W,"")},this.json2xml=function(W){var re=this.json2xml_str(W);return this.parseXmlString(re)},this.getVersion=function(){return de}}Object.defineProperty(h,"__esModule",{value:!0}),h.default=l,_.exports=h.default},{}],5:[function(t,_,h){(function(l){function f(R){return R&&R.__esModule?R:{default:R}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(90),u=f(p),y=t(48),v=f(y),b=t(49),m=typeof window<"u"&&window||l,T=m.dashjs;T||(T=m.dashjs={}),T.MediaPlayer=u.default,T.FactoryMaker=v.default,T.Version=(0,b.getVersionString)(),h.default=T,h.MediaPlayer=u.default,h.FactoryMaker=v.default}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{48:48,49:49,90:90}],6:[function(t,_,h){(function(l){function f(L){var k=L.charCodeAt(0);return k===v||k===E?62:k===b||k===F?63:k<m?-1:k<m+10?k-m+26+26:k<R+26?k-R:k<T+26?k-T+26:void 0}function p(L){function k(G){X[O++]=G}var q,Z,V,D,M,X;if(L.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=L.length;M=L.charAt(w-2)==="="?2:L.charAt(w-1)==="="?1:0,X=new y(3*L.length/4-M),V=M>0?L.length-4:L.length;var O=0;for(q=0,Z=0;q<V;q+=4,Z+=3)D=f(L.charAt(q))<<18|f(L.charAt(q+1))<<12|f(L.charAt(q+2))<<6|f(L.charAt(q+3)),k((16711680&D)>>16),k((65280&D)>>8),k(255&D);return M===2?(D=f(L.charAt(q))<<2|f(L.charAt(q+1))>>4,k(255&D)):M===1&&(D=f(L.charAt(q))<<10|f(L.charAt(q+1))<<4|f(L.charAt(q+2))>>2,k(D>>8&255),k(255&D)),X}function u(L){function k(w){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(w)}function q(w){return k(w>>18&63)+k(w>>12&63)+k(w>>6&63)+k(63&w)}var Z,V,D,M=L.length%3,X="";for(Z=0,D=L.length-M;Z<D;Z+=3)V=(L[Z]<<16)+(L[Z+1]<<8)+L[Z+2],X+=q(V);switch(M){case 1:V=L[L.length-1],X+=k(V>>2),X+=k(V<<4&63),X+="==";break;case 2:V=(L[L.length-2]<<8)+L[L.length-1],X+=k(V>>10),X+=k(V>>4&63),X+=k(V<<2&63),X+="="}return X}var y=typeof Uint8Array<"u"?Uint8Array:Array,v="+".charCodeAt(0),b="/".charCodeAt(0),m="0".charCodeAt(0),T="a".charCodeAt(0),R="A".charCodeAt(0),E="-".charCodeAt(0),F="_".charCodeAt(0);l.toByteArray=p,l.fromByteArray=u})(h===void 0?this.base64js={}:h)},{}],7:[function(t,_,h){},{}],8:[function(t,_,h){function l(m){if(m&&!v(m))throw new Error("Unknown encoding: "+m)}function f(m){return m.toString(this.encoding)}function p(m){this.charReceived=m.length%2,this.charLength=this.charReceived?2:0}function u(m){this.charReceived=m.length%3,this.charLength=this.charReceived?3:0}var y=t(9).Buffer,v=y.isEncoding||function(m){switch(m&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},b=h.StringDecoder=function(m){switch(this.encoding=(m||"utf8").toLowerCase().replace(/[-_]/,""),l(m),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=p;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=u;break;default:return void(this.write=f)}this.charBuffer=new y(6),this.charReceived=0,this.charLength=0};b.prototype.write=function(m){for(var T="";this.charLength;){var R=m.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:m.length;if(m.copy(this.charBuffer,this.charReceived,0,R),this.charReceived+=R,this.charReceived<this.charLength)return"";m=m.slice(R,m.length),T=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var F=T.charCodeAt(T.length-1);if(!(F>=55296&&F<=56319)){if(this.charReceived=this.charLength=0,m.length===0)return T;break}this.charLength+=this.surrogateSize,T=""}this.detectIncompleteChar(m);var E=m.length;this.charLength&&(m.copy(this.charBuffer,0,m.length-this.charReceived,E),E-=this.charReceived),T+=m.toString(this.encoding,0,E);var E=T.length-1,F=T.charCodeAt(E);if(F>=55296&&F<=56319){var L=this.surrogateSize;return this.charLength+=L,this.charReceived+=L,this.charBuffer.copy(this.charBuffer,L,0,L),m.copy(this.charBuffer,0,0,L),T.substring(0,E)}return T},b.prototype.detectIncompleteChar=function(m){for(var T=m.length>=3?3:m.length;T>0;T--){var R=m[m.length-T];if(T==1&&R>>5==6){this.charLength=2;break}if(T<=2&&R>>4==14){this.charLength=3;break}if(T<=3&&R>>3==30){this.charLength=4;break}}this.charReceived=T},b.prototype.end=function(m){var T="";if(m&&m.length&&(T=this.write(m)),this.charReceived){var R=this.charReceived,E=this.charBuffer,F=this.encoding;T+=E.slice(0,R).toString(F)}return T}},{9:9}],9:[function(t,_,h){(function(l){function f(){function d(){}try{var A=new Uint8Array(1);return A.foo=function(){return 42},A.constructor=d,A.foo()===42&&A.constructor===d&&typeof A.subarray=="function"&&A.subarray(1,1).byteLength===0}catch{return!1}}function p(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(d){return this instanceof u?(u.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),typeof d=="number"?y(this,d):typeof d=="string"?v(this,d,arguments.length>1?arguments[1]:"utf8"):b(this,d)):arguments.length>1?new u(d,arguments[1]):new u(d)}function y(d,A){if(d=k(d,A<0?0:0|q(A)),!u.TYPED_ARRAY_SUPPORT)for(var H=0;H<A;H++)d[H]=0;return d}function v(d,A,H){return typeof H=="string"&&H!==""||(H="utf8"),d=k(d,0|V(A,H)),d.write(A,H),d}function b(d,A){if(u.isBuffer(A))return m(d,A);if(x(A))return T(d,A);if(A==null)throw new TypeError("must start with number, buffer, array or string");if(typeof ArrayBuffer<"u"){if(A.buffer instanceof ArrayBuffer)return R(d,A);if(A instanceof ArrayBuffer)return E(d,A)}return A.length?F(d,A):L(d,A)}function m(d,A){var H=0|q(A.length);return d=k(d,H),A.copy(d,0,0,H),d}function T(d,A){var H=0|q(A.length);d=k(d,H);for(var j=0;j<H;j+=1)d[j]=255&A[j];return d}function R(d,A){var H=0|q(A.length);d=k(d,H);for(var j=0;j<H;j+=1)d[j]=255&A[j];return d}function E(d,A){return u.TYPED_ARRAY_SUPPORT?(A.byteLength,d=u._augment(new Uint8Array(A))):d=R(d,new Uint8Array(A)),d}function F(d,A){var H=0|q(A.length);d=k(d,H);for(var j=0;j<H;j+=1)d[j]=255&A[j];return d}function L(d,A){var H,j=0;A.type==="Buffer"&&x(A.data)&&(H=A.data,j=0|q(H.length)),d=k(d,j);for(var J=0;J<j;J+=1)d[J]=255&H[J];return d}function k(d,A){return u.TYPED_ARRAY_SUPPORT?(d=u._augment(new Uint8Array(A)),d.__proto__=u.prototype):(d.length=A,d._isBuffer=!0),A!==0&&A<=u.poolSize>>>1&&(d.parent=z),d}function q(d){if(d>=p())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p().toString(16)+" bytes");return 0|d}function Z(d,A){if(!(this instanceof Z))return new Z(d,A);var H=new u(d,A);return delete H.parent,H}function V(d,A){typeof d!="string"&&(d=""+d);var H=d.length;if(H===0)return 0;for(var j=!1;;)switch(A){case"ascii":case"binary":case"raw":case"raws":return H;case"utf8":case"utf-8":return P(d).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*H;case"hex":return H>>>1;case"base64":return te(d).length;default:if(j)return P(d).length;A=(""+A).toLowerCase(),j=!0}}function D(d,A,H){var j=!1;if(A|=0,H=H===void 0||H===1/0?this.length:0|H,d||(d="utf8"),A<0&&(A=0),H>this.length&&(H=this.length),H<=A)return"";for(;;)switch(d){case"hex":return ce(this,A,H);case"utf8":case"utf-8":return ie(this,A,H);case"ascii":return re(this,A,H);case"binary":return ue(this,A,H);case"base64":return de(this,A,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,A,H);default:if(j)throw new TypeError("Unknown encoding: "+d);d=(d+"").toLowerCase(),j=!0}}function M(d,A,H,j){H=Number(H)||0;var J=d.length-H;j?(j=Number(j))>J&&(j=J):j=J;var oe=A.length;if(oe%2!=0)throw new Error("Invalid hex string");j>oe/2&&(j=oe/2);for(var ve=0;ve<j;ve++){var ge=parseInt(A.substr(2*ve,2),16);if(isNaN(ge))throw new Error("Invalid hex string");d[H+ve]=ge}return ve}function X(d,A,H,j){return S(P(A,d.length-H),d,H,j)}function w(d,A,H,j){return S(U(A),d,H,j)}function O(d,A,H,j){return w(d,A,H,j)}function G(d,A,H,j){return S(te(A),d,H,j)}function ee(d,A,H,j){return S(B(A,d.length-H),d,H,j)}function de(d,A,H){return A===0&&H===d.length?N.fromByteArray(d):N.fromByteArray(d.slice(A,H))}function ie(d,A,H){H=Math.min(d.length,H);for(var j=[],J=A;J<H;){var oe=d[J],ve=null,ge=oe>239?4:oe>223?3:oe>191?2:1;if(J+ge<=H){var ye,Ee,we,Ne;switch(ge){case 1:oe<128&&(ve=oe);break;case 2:ye=d[J+1],(192&ye)==128&&(Ne=(31&oe)<<6|63&ye)>127&&(ve=Ne);break;case 3:ye=d[J+1],Ee=d[J+2],(192&ye)==128&&(192&Ee)==128&&(Ne=(15&oe)<<12|(63&ye)<<6|63&Ee)>2047&&(Ne<55296||Ne>57343)&&(ve=Ne);break;case 4:ye=d[J+1],Ee=d[J+2],we=d[J+3],(192&ye)==128&&(192&Ee)==128&&(192&we)==128&&(Ne=(15&oe)<<18|(63&ye)<<12|(63&Ee)<<6|63&we)>65535&&Ne<1114112&&(ve=Ne)}}ve===null?(ve=65533,ge=1):ve>65535&&(ve-=65536,j.push(ve>>>10&1023|55296),ve=56320|1023&ve),j.push(ve),J+=ge}return W(j)}function W(d){var A=d.length;if(A<=Y)return String.fromCharCode.apply(String,d);for(var H="",j=0;j<A;)H+=String.fromCharCode.apply(String,d.slice(j,j+=Y));return H}function re(d,A,H){var j="";H=Math.min(d.length,H);for(var J=A;J<H;J++)j+=String.fromCharCode(127&d[J]);return j}function ue(d,A,H){var j="";H=Math.min(d.length,H);for(var J=A;J<H;J++)j+=String.fromCharCode(d[J]);return j}function ce(d,A,H){var j=d.length;(!A||A<0)&&(A=0),(!H||H<0||H>j)&&(H=j);for(var J="",oe=A;oe<H;oe++)J+=I(d[oe]);return J}function le(d,A,H){for(var j=d.slice(A,H),J="",oe=0;oe<j.length;oe+=2)J+=String.fromCharCode(j[oe]+256*j[oe+1]);return J}function he(d,A,H){if(d%1!=0||d<0)throw new RangeError("offset is not uint");if(d+A>H)throw new RangeError("Trying to access beyond buffer length")}function se(d,A,H,j,J,oe){if(!u.isBuffer(d))throw new TypeError("buffer must be a Buffer instance");if(A>J||A<oe)throw new RangeError("value is out of bounds");if(H+j>d.length)throw new RangeError("index out of range")}function e(d,A,H,j){A<0&&(A=65535+A+1);for(var J=0,oe=Math.min(d.length-H,2);J<oe;J++)d[H+J]=(A&255<<8*(j?J:1-J))>>>8*(j?J:1-J)}function i(d,A,H,j){A<0&&(A=4294967295+A+1);for(var J=0,oe=Math.min(d.length-H,4);J<oe;J++)d[H+J]=A>>>8*(j?J:3-J)&255}function n(d,A,H,j,J,oe){if(A>J||A<oe)throw new RangeError("value is out of bounds");if(H+j>d.length)throw new RangeError("index out of range");if(H<0)throw new RangeError("index out of range")}function r(d,A,H,j,J){return J||n(d,A,H,4,34028234663852886e22,-34028234663852886e22),C.write(d,A,H,j,23,4),H+4}function o(d,A,H,j,J){return J||n(d,A,H,8,17976931348623157e292,-17976931348623157e292),C.write(d,A,H,j,52,8),H+8}function c(d){if(d=g(d).replace(Q,""),d.length<2)return"";for(;d.length%4!=0;)d+="=";return d}function g(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function I(d){return d<16?"0"+d.toString(16):d.toString(16)}function P(d,A){A=A||1/0;for(var H,j=d.length,J=null,oe=[],ve=0;ve<j;ve++){if((H=d.charCodeAt(ve))>55295&&H<57344){if(!J){if(H>56319){(A-=3)>-1&&oe.push(239,191,189);continue}if(ve+1===j){(A-=3)>-1&&oe.push(239,191,189);continue}J=H;continue}if(H<56320){(A-=3)>-1&&oe.push(239,191,189),J=H;continue}H=65536+(J-55296<<10|H-56320)}else J&&(A-=3)>-1&&oe.push(239,191,189);if(J=null,H<128){if((A-=1)<0)break;oe.push(H)}else if(H<2048){if((A-=2)<0)break;oe.push(H>>6|192,63&H|128)}else if(H<65536){if((A-=3)<0)break;oe.push(H>>12|224,H>>6&63|128,63&H|128)}else{if(!(H<1114112))throw new Error("Invalid code point");if((A-=4)<0)break;oe.push(H>>18|240,H>>12&63|128,H>>6&63|128,63&H|128)}}return oe}function U(d){for(var A=[],H=0;H<d.length;H++)A.push(255&d.charCodeAt(H));return A}function B(d,A){for(var H,j,J,oe=[],ve=0;ve<d.length&&!((A-=2)<0);ve++)H=d.charCodeAt(ve),j=H>>8,J=H%256,oe.push(J),oe.push(j);return oe}function te(d){return N.toByteArray(c(d))}function S(d,A,H,j){for(var J=0;J<j&&!(J+H>=A.length||J>=d.length);J++)A[J+H]=d[J];return J}var N=t(6),C=t(14),x=t(24);h.Buffer=u,h.SlowBuffer=Z,h.INSPECT_MAX_BYTES=50,u.poolSize=8192;var z={};u.TYPED_ARRAY_SUPPORT=l.TYPED_ARRAY_SUPPORT!==void 0?l.TYPED_ARRAY_SUPPORT:f(),u.TYPED_ARRAY_SUPPORT?(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array):(u.prototype.length=void 0,u.prototype.parent=void 0),u.isBuffer=function(d){return!(d==null||!d._isBuffer)},u.compare=function(d,A){if(!u.isBuffer(d)||!u.isBuffer(A))throw new TypeError("Arguments must be Buffers");if(d===A)return 0;for(var H=d.length,j=A.length,J=0,oe=Math.min(H,j);J<oe&&d[J]===A[J];)++J;return J!==oe&&(H=d[J],j=A[J]),H<j?-1:j<H?1:0},u.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(d,A){if(!x(d))throw new TypeError("list argument must be an Array of Buffers.");if(d.length===0)return new u(0);var H;if(A===void 0)for(A=0,H=0;H<d.length;H++)A+=d[H].length;var j=new u(A),J=0;for(H=0;H<d.length;H++){var oe=d[H];oe.copy(j,J),J+=oe.length}return j},u.byteLength=V,u.prototype.toString=function(){var d=0|this.length;return d===0?"":arguments.length===0?ie(this,0,d):D.apply(this,arguments)},u.prototype.equals=function(d){if(!u.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d||u.compare(this,d)===0},u.prototype.inspect=function(){var d="",A=h.INSPECT_MAX_BYTES;return this.length>0&&(d=this.toString("hex",0,A).match(/.{2}/g).join(" "),this.length>A&&(d+=" ... ")),"<Buffer "+d+">"},u.prototype.compare=function(d){if(!u.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?0:u.compare(this,d)},u.prototype.indexOf=function(d,A){function H(j,J,oe){for(var ve=-1,ge=0;oe+ge<j.length;ge++)if(j[oe+ge]===J[ve===-1?0:ge-ve]){if(ve===-1&&(ve=ge),ge-ve+1===J.length)return oe+ve}else ve=-1;return-1}if(A>2147483647?A=2147483647:A<-2147483648&&(A=-2147483648),A>>=0,this.length===0||A>=this.length)return-1;if(A<0&&(A=Math.max(this.length+A,0)),typeof d=="string")return d.length===0?-1:String.prototype.indexOf.call(this,d,A);if(u.isBuffer(d))return H(this,d,A);if(typeof d=="number")return u.TYPED_ARRAY_SUPPORT&&Uint8Array.prototype.indexOf==="function"?Uint8Array.prototype.indexOf.call(this,d,A):H(this,[d],A);throw new TypeError("val must be string, number or Buffer")},u.prototype.get=function(d){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(d)},u.prototype.set=function(d,A){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(d,A)},u.prototype.write=function(d,A,H,j){if(A===void 0)j="utf8",H=this.length,A=0;else if(H===void 0&&typeof A=="string")j=A,H=this.length,A=0;else if(isFinite(A))A|=0,isFinite(H)?(H|=0,j===void 0&&(j="utf8")):(j=H,H=void 0);else{var J=j;j=A,A=0|H,H=J}var oe=this.length-A;if((H===void 0||H>oe)&&(H=oe),d.length>0&&(H<0||A<0)||A>this.length)throw new RangeError("attempt to write outside buffer bounds");j||(j="utf8");for(var ve=!1;;)switch(j){case"hex":return M(this,d,A,H);case"utf8":case"utf-8":return X(this,d,A,H);case"ascii":return w(this,d,A,H);case"binary":return O(this,d,A,H);case"base64":return G(this,d,A,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,d,A,H);default:if(ve)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),ve=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Y=4096;u.prototype.slice=function(d,A){var H=this.length;d=~~d,A=A===void 0?H:~~A,d<0?(d+=H)<0&&(d=0):d>H&&(d=H),A<0?(A+=H)<0&&(A=0):A>H&&(A=H),A<d&&(A=d);var j;if(u.TYPED_ARRAY_SUPPORT)j=u._augment(this.subarray(d,A));else{var J=A-d;j=new u(J,void 0);for(var oe=0;oe<J;oe++)j[oe]=this[oe+d]}return j.length&&(j.parent=this.parent||this),j},u.prototype.readUIntLE=function(d,A,H){d|=0,A|=0,H||he(d,A,this.length);for(var j=this[d],J=1,oe=0;++oe<A&&(J*=256);)j+=this[d+oe]*J;return j},u.prototype.readUIntBE=function(d,A,H){d|=0,A|=0,H||he(d,A,this.length);for(var j=this[d+--A],J=1;A>0&&(J*=256);)j+=this[d+--A]*J;return j},u.prototype.readUInt8=function(d,A){return A||he(d,1,this.length),this[d]},u.prototype.readUInt16LE=function(d,A){return A||he(d,2,this.length),this[d]|this[d+1]<<8},u.prototype.readUInt16BE=function(d,A){return A||he(d,2,this.length),this[d]<<8|this[d+1]},u.prototype.readUInt32LE=function(d,A){return A||he(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+16777216*this[d+3]},u.prototype.readUInt32BE=function(d,A){return A||he(d,4,this.length),16777216*this[d]+(this[d+1]<<16|this[d+2]<<8|this[d+3])},u.prototype.readIntLE=function(d,A,H){d|=0,A|=0,H||he(d,A,this.length);for(var j=this[d],J=1,oe=0;++oe<A&&(J*=256);)j+=this[d+oe]*J;return J*=128,j>=J&&(j-=Math.pow(2,8*A)),j},u.prototype.readIntBE=function(d,A,H){d|=0,A|=0,H||he(d,A,this.length);for(var j=A,J=1,oe=this[d+--j];j>0&&(J*=256);)oe+=this[d+--j]*J;return J*=128,oe>=J&&(oe-=Math.pow(2,8*A)),oe},u.prototype.readInt8=function(d,A){return A||he(d,1,this.length),128&this[d]?-1*(255-this[d]+1):this[d]},u.prototype.readInt16LE=function(d,A){A||he(d,2,this.length);var H=this[d]|this[d+1]<<8;return 32768&H?4294901760|H:H},u.prototype.readInt16BE=function(d,A){A||he(d,2,this.length);var H=this[d+1]|this[d]<<8;return 32768&H?4294901760|H:H},u.prototype.readInt32LE=function(d,A){return A||he(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},u.prototype.readInt32BE=function(d,A){return A||he(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},u.prototype.readFloatLE=function(d,A){return A||he(d,4,this.length),C.read(this,d,!0,23,4)},u.prototype.readFloatBE=function(d,A){return A||he(d,4,this.length),C.read(this,d,!1,23,4)},u.prototype.readDoubleLE=function(d,A){return A||he(d,8,this.length),C.read(this,d,!0,52,8)},u.prototype.readDoubleBE=function(d,A){return A||he(d,8,this.length),C.read(this,d,!1,52,8)},u.prototype.writeUIntLE=function(d,A,H,j){d=+d,A|=0,H|=0,j||se(this,d,A,H,Math.pow(2,8*H),0);var J=1,oe=0;for(this[A]=255&d;++oe<H&&(J*=256);)this[A+oe]=d/J&255;return A+H},u.prototype.writeUIntBE=function(d,A,H,j){d=+d,A|=0,H|=0,j||se(this,d,A,H,Math.pow(2,8*H),0);var J=H-1,oe=1;for(this[A+J]=255&d;--J>=0&&(oe*=256);)this[A+J]=d/oe&255;return A+H},u.prototype.writeUInt8=function(d,A,H){return d=+d,A|=0,H||se(this,d,A,1,255,0),u.TYPED_ARRAY_SUPPORT||(d=Math.floor(d)),this[A]=255&d,A+1},u.prototype.writeUInt16LE=function(d,A,H){return d=+d,A|=0,H||se(this,d,A,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[A]=255&d,this[A+1]=d>>>8):e(this,d,A,!0),A+2},u.prototype.writeUInt16BE=function(d,A,H){return d=+d,A|=0,H||se(this,d,A,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[A]=d>>>8,this[A+1]=255&d):e(this,d,A,!1),A+2},u.prototype.writeUInt32LE=function(d,A,H){return d=+d,A|=0,H||se(this,d,A,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[A+3]=d>>>24,this[A+2]=d>>>16,this[A+1]=d>>>8,this[A]=255&d):i(this,d,A,!0),A+4},u.prototype.writeUInt32BE=function(d,A,H){return d=+d,A|=0,H||se(this,d,A,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[A]=d>>>24,this[A+1]=d>>>16,this[A+2]=d>>>8,this[A+3]=255&d):i(this,d,A,!1),A+4},u.prototype.writeIntLE=function(d,A,H,j){if(d=+d,A|=0,!j){var J=Math.pow(2,8*H-1);se(this,d,A,H,J-1,-J)}var oe=0,ve=1,ge=d<0?1:0;for(this[A]=255&d;++oe<H&&(ve*=256);)this[A+oe]=(d/ve>>0)-ge&255;return A+H},u.prototype.writeIntBE=function(d,A,H,j){if(d=+d,A|=0,!j){var J=Math.pow(2,8*H-1);se(this,d,A,H,J-1,-J)}var oe=H-1,ve=1,ge=d<0?1:0;for(this[A+oe]=255&d;--oe>=0&&(ve*=256);)this[A+oe]=(d/ve>>0)-ge&255;return A+H},u.prototype.writeInt8=function(d,A,H){return d=+d,A|=0,H||se(this,d,A,1,127,-128),u.TYPED_ARRAY_SUPPORT||(d=Math.floor(d)),d<0&&(d=255+d+1),this[A]=255&d,A+1},u.prototype.writeInt16LE=function(d,A,H){return d=+d,A|=0,H||se(this,d,A,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[A]=255&d,this[A+1]=d>>>8):e(this,d,A,!0),A+2},u.prototype.writeInt16BE=function(d,A,H){return d=+d,A|=0,H||se(this,d,A,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[A]=d>>>8,this[A+1]=255&d):e(this,d,A,!1),A+2},u.prototype.writeInt32LE=function(d,A,H){return d=+d,A|=0,H||se(this,d,A,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[A]=255&d,this[A+1]=d>>>8,this[A+2]=d>>>16,this[A+3]=d>>>24):i(this,d,A,!0),A+4},u.prototype.writeInt32BE=function(d,A,H){return d=+d,A|=0,H||se(this,d,A,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),u.TYPED_ARRAY_SUPPORT?(this[A]=d>>>24,this[A+1]=d>>>16,this[A+2]=d>>>8,this[A+3]=255&d):i(this,d,A,!1),A+4},u.prototype.writeFloatLE=function(d,A,H){return r(this,d,A,!0,H)},u.prototype.writeFloatBE=function(d,A,H){return r(this,d,A,!1,H)},u.prototype.writeDoubleLE=function(d,A,H){return o(this,d,A,!0,H)},u.prototype.writeDoubleBE=function(d,A,H){return o(this,d,A,!1,H)},u.prototype.copy=function(d,A,H,j){if(H||(H=0),j||j===0||(j=this.length),A>=d.length&&(A=d.length),A||(A=0),j>0&&j<H&&(j=H),j===H||d.length===0||this.length===0)return 0;if(A<0)throw new RangeError("targetStart out of bounds");if(H<0||H>=this.length)throw new RangeError("sourceStart out of bounds");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),d.length-A<j-H&&(j=d.length-A+H);var J,oe=j-H;if(this===d&&H<A&&A<j)for(J=oe-1;J>=0;J--)d[J+A]=this[J+H];else if(oe<1e3||!u.TYPED_ARRAY_SUPPORT)for(J=0;J<oe;J++)d[J+A]=this[J+H];else d._set(this.subarray(H,H+oe),A);return oe},u.prototype.fill=function(d,A,H){if(d||(d=0),A||(A=0),H||(H=this.length),H<A)throw new RangeError("end < start");if(H!==A&&this.length!==0){if(A<0||A>=this.length)throw new RangeError("start out of bounds");if(H<0||H>this.length)throw new RangeError("end out of bounds");var j;if(typeof d=="number")for(j=A;j<H;j++)this[j]=d;else{var J=P(d.toString()),oe=J.length;for(j=A;j<H;j++)this[j]=J[j%oe]}return this}},u.prototype.toArrayBuffer=function(){if(typeof Uint8Array<"u"){if(u.TYPED_ARRAY_SUPPORT)return new u(this).buffer;for(var d=new Uint8Array(this.length),A=0,H=d.length;A<H;A+=1)d[A]=this[A];return d.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var K=u.prototype;u._augment=function(d){return d.constructor=u,d._isBuffer=!0,d._set=d.set,d.get=K.get,d.set=K.set,d.write=K.write,d.toString=K.toString,d.toLocaleString=K.toString,d.toJSON=K.toJSON,d.equals=K.equals,d.compare=K.compare,d.indexOf=K.indexOf,d.copy=K.copy,d.slice=K.slice,d.readUIntLE=K.readUIntLE,d.readUIntBE=K.readUIntBE,d.readUInt8=K.readUInt8,d.readUInt16LE=K.readUInt16LE,d.readUInt16BE=K.readUInt16BE,d.readUInt32LE=K.readUInt32LE,d.readUInt32BE=K.readUInt32BE,d.readIntLE=K.readIntLE,d.readIntBE=K.readIntBE,d.readInt8=K.readInt8,d.readInt16LE=K.readInt16LE,d.readInt16BE=K.readInt16BE,d.readInt32LE=K.readInt32LE,d.readInt32BE=K.readInt32BE,d.readFloatLE=K.readFloatLE,d.readFloatBE=K.readFloatBE,d.readDoubleLE=K.readDoubleLE,d.readDoubleBE=K.readDoubleBE,d.writeUInt8=K.writeUInt8,d.writeUIntLE=K.writeUIntLE,d.writeUIntBE=K.writeUIntBE,d.writeUInt16LE=K.writeUInt16LE,d.writeUInt16BE=K.writeUInt16BE,d.writeUInt32LE=K.writeUInt32LE,d.writeUInt32BE=K.writeUInt32BE,d.writeIntLE=K.writeIntLE,d.writeIntBE=K.writeIntBE,d.writeInt8=K.writeInt8,d.writeInt16LE=K.writeInt16LE,d.writeInt16BE=K.writeInt16BE,d.writeInt32LE=K.writeInt32LE,d.writeInt32BE=K.writeInt32BE,d.writeFloatLE=K.writeFloatLE,d.writeFloatBE=K.writeFloatBE,d.writeDoubleLE=K.writeDoubleLE,d.writeDoubleBE=K.writeDoubleBE,d.fill=K.fill,d.inspect=K.inspect,d.toArrayBuffer=K.toArrayBuffer,d};var Q=/[^+\/0-9A-Za-z-_]/g}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{14:14,24:24,6:6}],10:[function(t,_,h){var l={};l.parseBuffer=function(u){return new f(u).parse()},l.addBoxProcessor=function(u,y){typeof u=="string"&&typeof y=="function"&&(p.prototype._boxProcessors[u]=y)},l.createFile=function(){return new f},l.createBox=function(u,y,v){var b=p.create(u);return y&&y.append(b,v),b},l.createFullBox=function(u,y,v){var b=l.createBox(u,y,v);return b.version=0,b.flags=0,b},l.Utils={},l.Utils.dataViewToString=function(u,y){var v=y||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(v).decode(u);var b=[],m=0;if(v==="utf-8")for(;m<u.byteLength;){var T=u.getUint8(m++);T<128||(T<224?(T=(31&T)<<6,T|=63&u.getUint8(m++)):T<240?(T=(15&T)<<12,T|=(63&u.getUint8(m++))<<6,T|=63&u.getUint8(m++)):(T=(7&T)<<18,T|=(63&u.getUint8(m++))<<12,T|=(63&u.getUint8(m++))<<6,T|=63&u.getUint8(m++))),b.push(String.fromCharCode(T))}else for(;m<u.byteLength;)b.push(String.fromCharCode(u.getUint8(m++)));return b.join("")},l.Utils.utf8ToByteArray=function(u){var y,v;if(typeof TextEncoder<"u")y=new TextEncoder().encode(u);else for(y=[],v=0;v<u.length;++v){var b=u.charCodeAt(v);b<128?y.push(b):b<2048?(y.push(192|b>>6),y.push(128|63&b)):b<65536?(y.push(224|b>>12),y.push(128|63&b>>6),y.push(128|63&b)):(y.push(240|b>>18),y.push(128|63&b>>12),y.push(128|63&b>>6),y.push(128|63&b))}return y},l.Utils.appendBox=function(u,y,v){if(y._offset=u._cursor.offset,y._root=u._root?u._root:u,y._raw=u._raw,y._parent=u,v!==-1){if(v==null)return void u.boxes.push(y);var b,m=-1;if(typeof v=="number")m=v;else{if(typeof v=="string")b=v;else{if(typeof v!="object"||!v.type)return void u.boxes.push(y);b=v.type}for(var T=0;T<u.boxes.length;T++)if(b===u.boxes[T].type){m=T+1;break}}u.boxes.splice(m,0,y)}},h!==void 0&&(h.parseBuffer=l.parseBuffer,h.addBoxProcessor=l.addBoxProcessor,h.createFile=l.createFile,h.createBox=l.createBox,h.createFullBox=l.createFullBox,h.Utils=l.Utils),l.Cursor=function(u){this.offset=u===void 0?0:u};var f=function(u){this._cursor=new l.Cursor,this.boxes=[],u&&(this._raw=new DataView(u))};f.prototype.fetch=function(u){var y=this.fetchAll(u,!0);return y.length?y[0]:null},f.prototype.fetchAll=function(u,y){var v=[];return f._sweep.call(this,u,v,y),v},f.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var u=p.parse(this);if(u.type===void 0)break;this.boxes.push(u)}return this},f._sweep=function(u,y,v){this.type&&this.type==u&&y.push(this);for(var b in this.boxes){if(y.length&&v)return;f._sweep.call(this.boxes[b],u,y,v)}},f.prototype.write=function(){var u,y=0;for(u=0;u<this.boxes.length;u++)y+=this.boxes[u].getLength(!1);var v=new Uint8Array(y);for(this._rawo=new DataView(v.buffer),this.bytes=v,this._cursor.offset=0,u=0;u<this.boxes.length;u++)this.boxes[u].write();return v.buffer},f.prototype.append=function(u,y){l.Utils.appendBox(this,u,y)};var p=function(){this._cursor=new l.Cursor};p.parse=function(u){var y=new p;return y._offset=u._cursor.offset,y._root=u._root?u._root:u,y._raw=u._raw,y._parent=u,y._parseBox(),u._cursor.offset=y._raw.byteOffset+y._raw.byteLength,y},p.create=function(u){var y=new p;return y.type=u,y.boxes=[],y},p.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],p.prototype._boxProcessors={},p.prototype._procField=function(u,y,v){this._parsing?this[u]=this._readField(y,v):this._writeField(y,v,this[u])},p.prototype._procFieldArray=function(u,y,v,b){var m;if(this._parsing)for(this[u]=[],m=0;m<y;m++)this[u][m]=this._readField(v,b);else for(m=0;m<this[u].length;m++)this._writeField(v,b,this[u][m])},p.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},p.prototype._procEntries=function(u,y,v){var b;if(this._parsing)for(this[u]=[],b=0;b<y;b++)this[u].push({}),v.call(this,this[u][b]);else for(b=0;b<y;b++)v.call(this,this[u][b])},p.prototype._procSubEntries=function(u,y,v,b){var m;if(this._parsing)for(u[y]=[],m=0;m<v;m++)u[y].push({}),b.call(this,u[y][m]);else for(m=0;m<v;m++)b.call(this,u[y][m])},p.prototype._procEntryField=function(u,y,v,b){this._parsing?u[y]=this._readField(v,b):this._writeField(v,b,u[y])},p.prototype._procSubBoxes=function(u,y){var v;if(this._parsing)for(this[u]=[],v=0;v<y;v++)this[u].push(p.parse(this));else for(v=0;v<y;v++)this._rawo?this[u][v].write():this.size+=this[u][v].getLength()},p.prototype._readField=function(u,y){switch(u){case"uint":return this._readUint(y);case"int":return this._readInt(y);case"template":return this._readTemplate(y);case"string":return y===-1?this._readTerminatedString():this._readString(y);case"data":return this._readData(y);case"utf8":return this._readUTF8String();default:return-1}},p.prototype._readInt=function(u){var y=null,v=this._cursor.offset-this._raw.byteOffset;switch(u){case 8:y=this._raw.getInt8(v);break;case 16:y=this._raw.getInt16(v);break;case 32:y=this._raw.getInt32(v);break;case 64:var b=this._raw.getInt32(v),m=this._raw.getInt32(v+4);y=b*Math.pow(2,32)+m}return this._cursor.offset+=u>>3,y},p.prototype._readUint=function(u){var y,v,b=null,m=this._cursor.offset-this._raw.byteOffset;switch(u){case 8:b=this._raw.getUint8(m);break;case 16:b=this._raw.getUint16(m);break;case 24:y=this._raw.getUint16(m),v=this._raw.getUint8(m+2),b=(y<<8)+v;break;case 32:b=this._raw.getUint32(m);break;case 64:y=this._raw.getUint32(m),v=this._raw.getUint32(m+4),b=y*Math.pow(2,32)+v}return this._cursor.offset+=u>>3,b},p.prototype._readString=function(u){for(var y="",v=0;v<u;v++){var b=this._readUint(8);y+=String.fromCharCode(b)}return y},p.prototype._readTemplate=function(u){return this._readUint(u/2)+this._readUint(u/2)/Math.pow(2,u/2)},p.prototype._readTerminatedString=function(){for(var u="";this._cursor.offset-this._offset<this._raw.byteLength;){var y=this._readUint(8);if(y===0)break;u+=String.fromCharCode(y)}return u},p.prototype._readData=function(u){var y=u>0?u:this._raw.byteLength-(this._cursor.offset-this._offset);if(y>0){var v=new Uint8Array(this._raw.buffer,this._cursor.offset,y);return this._cursor.offset+=y,v}return null},p.prototype._readUTF8String=function(){var u=this._raw.byteLength-(this._cursor.offset-this._offset),y=null;return u>0&&(y=new DataView(this._raw.buffer,this._cursor.offset,u),this._cursor.offset+=u),y&&l.Utils.dataViewToString(y)},p.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)return void(this._root._incomplete=!0);switch(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1?this._parseContainerBox():this._data=this._readData())},p.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},p.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(p.parse(this))},p.prototype.append=function(u,y){l.Utils.appendBox(this,u,y)},p.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var u=0;u<this.boxes.length;u++)this.size+=this.boxes[u].getLength();return this._data&&this._writeData(this._data),this.size},p.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var u=0;u<this.boxes.length;u++)this.boxes[u].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},p.prototype._writeInt=function(u,y){if(this._rawo){var v=this._cursor.offset-this._rawo.byteOffset;switch(u){case 8:this._rawo.setInt8(v,y);break;case 16:this._rawo.setInt16(v,y);break;case 32:this._rawo.setInt32(v,y);break;case 64:var b=Math.floor(y/Math.pow(2,32)),m=y-b*Math.pow(2,32);this._rawo.setUint32(v,b),this._rawo.setUint32(v+4,m)}this._cursor.offset+=u>>3}else this.size+=u>>3},p.prototype._writeUint=function(u,y){if(this._rawo){var v,b,m=this._cursor.offset-this._rawo.byteOffset;switch(u){case 8:this._rawo.setUint8(m,y);break;case 16:this._rawo.setUint16(m,y);break;case 24:v=(16776960&y)>>8,b=255&y,this._rawo.setUint16(m,v),this._rawo.setUint8(m+2,b);break;case 32:this._rawo.setUint32(m,y);break;case 64:v=Math.floor(y/Math.pow(2,32)),b=y-v*Math.pow(2,32),this._rawo.setUint32(m,v),this._rawo.setUint32(m+4,b)}this._cursor.offset+=u>>3}else this.size+=u>>3},p.prototype._writeString=function(u,y){for(var v=0;v<u;v++)this._writeUint(8,y.charCodeAt(v))},p.prototype._writeTerminatedString=function(u){if(u.length!==0){for(var y=0;y<u.length;y++)this._writeUint(8,u.charCodeAt(y));this._writeUint(8,0)}},p.prototype._writeTemplate=function(u,y){var v=Math.floor(y),b=(y-v)*Math.pow(2,u/2);this._writeUint(u/2,v),this._writeUint(u/2,b)},p.prototype._writeData=function(u){var y;if(u)if(this._rawo){if(u instanceof Array){for(var v=this._cursor.offset-this._rawo.byteOffset,y=0;y<u.length;y++)this._rawo.setInt8(v+y,u[y]);this._cursor.offset+=u.length}u instanceof Uint8Array&&(this._root.bytes.set(u,this._cursor.offset),this._cursor.offset+=u.length)}else this.size+=u.length},p.prototype._writeUTF8String=function(u){var y=l.Utils.utf8ToByteArray(u);if(this._rawo)for(var v=new DataView(this._rawo.buffer,this._cursor.offset,y.length),b=0;b<y.length;b++)v.setUint8(b,y[b]);else this.size+=y.length},p.prototype._writeField=function(u,y,v){switch(u){case"uint":this._writeUint(y,v);break;case"int":this._writeInt(y,v);break;case"template":this._writeTemplate(y,v);break;case"string":y==-1?this._writeTerminatedString(v):this._writeString(y,v);break;case"data":this._writeData(v);break;case"utf8":this._writeUTF8String(v)}},p.prototype._boxProcessors.avc1=p.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},p.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},p.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(u){this._procEntryField(u,"segment_duration","uint",this.version===1?64:32),this._procEntryField(u,"media_time","int",this.version===1?64:32),this._procEntryField(u,"media_rate_integer","int",16),this._procEntryField(u,"media_rate_fraction","int",16)})},p.prototype._boxProcessors.emsg=function(){this._procFullBox(),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("message_data","data",-1)},p.prototype._boxProcessors.free=p.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},p.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},p.prototype._boxProcessors.ftyp=p.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var u=-1;this._parsing&&(u=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",u,"string",4)},p.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},p.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},p.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._parsing||typeof this.language!="string"||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},p.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",this.version==1?64:32)},p.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},p.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},p.prototype._boxProcessors.mp4a=p.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},p.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},p.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},p.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},p.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},p.prototype._boxProcessors.sdtp=function(){this._procFullBox();var u=-1;this._parsing&&(u=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",u,"uint",8)},p.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",this.version==1?64:32),this._procField("first_offset","uint",this.version==1?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(u){this._parsing||(u.reference=(1&u.reference_type)<<31,u.reference|=2147483647&u.referenced_size,u.sap=(1&u.starts_with_SAP)<<31,u.sap|=(3&u.SAP_type)<<28,u.sap|=268435455&u.SAP_delta_time),this._procEntryField(u,"reference","uint",32),this._procEntryField(u,"subsegment_duration","uint",32),this._procEntryField(u,"sap","uint",32),this._parsing&&(u.reference_type=u.reference>>31&1,u.referenced_size=2147483647&u.reference,u.starts_with_SAP=u.sap>>31&1,u.SAP_type=u.sap>>28&7,u.SAP_delta_time=268435455&u.sap)})},p.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},p.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(u){this._procEntryField(u,"ranges_count","uint",32),this._procSubEntries(u,"ranges",u.ranges_count,function(y){this._procEntryField(y,"level","uint",8),this._procEntryField(y,"range_size","uint",24)})})},p.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},p.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(u){this._procEntryField(u,"sample_delta","uint",32),this._procEntryField(u,"subsample_count","uint",16),this._procSubEntries(u,"subsamples",u.subsample_count,function(y){this._procEntryField(y,"subsample_size","uint",this.version===1?32:16),this._procEntryField(y,"subsample_priority","uint",8),this._procEntryField(y,"discardable","uint",8),this._procEntryField(y,"codec_specific_parameters","uint",32)})})},p.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},p.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",this.version==1?64:32)},p.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},p.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(u){this._procEntryField(u,"time","uint",this.version===1?64:32),this._procEntryField(u,"moof_offset","uint",this.version===1?64:32),this._procEntryField(u,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(u,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(u,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},p.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},p.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},p.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(u){256&this.flags&&this._procEntryField(u,"sample_duration","uint",32),512&this.flags&&this._procEntryField(u,"sample_size","uint",32),1024&this.flags&&this._procEntryField(u,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(u,"sample_composition_time_offset",this.version===1?"int":"uint",32)})},p.prototype._boxProcessors["url "]=p.prototype._boxProcessors["urn "]=function(){this._procFullBox(),this.type==="urn "&&this._procField("name","string",-1),this._procField("location","string",-1)},p.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},p.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},p.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},p.prototype._boxProcessors.vtte=function(){}},{}],11:[function(t,_,h){(function(l){function f(V){return Array.isArray?Array.isArray(V):Z(V)==="[object Array]"}function p(V){return typeof V=="boolean"}function u(V){return V===null}function y(V){return V==null}function v(V){return typeof V=="number"}function b(V){return typeof V=="string"}function m(V){return typeof V=="symbol"}function T(V){return V===void 0}function R(V){return Z(V)==="[object RegExp]"}function E(V){return typeof V=="object"&&V!==null}function F(V){return Z(V)==="[object Date]"}function L(V){return Z(V)==="[object Error]"||V instanceof Error}function k(V){return typeof V=="function"}function q(V){return V===null||typeof V=="boolean"||typeof V=="number"||typeof V=="string"||typeof V=="symbol"||V===void 0}function Z(V){return Object.prototype.toString.call(V)}h.isArray=f,h.isBoolean=p,h.isNull=u,h.isNullOrUndefined=y,h.isNumber=v,h.isString=b,h.isSymbol=m,h.isUndefined=T,h.isRegExp=R,h.isObject=E,h.isDate=F,h.isError=L,h.isFunction=k,h.isPrimitive=q,h.isBuffer=l.isBuffer}).call(this,{isBuffer:t(23)})},{23:23}],12:[function(t,_,h){function l(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function f(v){return typeof v=="function"}function p(v){return typeof v=="number"}function u(v){return typeof v=="object"&&v!==null}function y(v){return v===void 0}_.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._maxListeners=void 0,l.defaultMaxListeners=10,l.prototype.setMaxListeners=function(v){if(!p(v)||v<0||isNaN(v))throw TypeError("n must be a positive number");return this._maxListeners=v,this},l.prototype.emit=function(v){var b,m,T,R,E,F;if(this._events||(this._events={}),v==="error"&&(!this._events.error||u(this._events.error)&&!this._events.error.length))throw(b=arguments[1])instanceof Error?b:TypeError('Uncaught, unspecified "error" event.');if(m=this._events[v],y(m))return!1;if(f(m))switch(arguments.length){case 1:m.call(this);break;case 2:m.call(this,arguments[1]);break;case 3:m.call(this,arguments[1],arguments[2]);break;default:for(T=arguments.length,R=new Array(T-1),E=1;E<T;E++)R[E-1]=arguments[E];m.apply(this,R)}else if(u(m)){for(T=arguments.length,R=new Array(T-1),E=1;E<T;E++)R[E-1]=arguments[E];for(F=m.slice(),T=F.length,E=0;E<T;E++)F[E].apply(this,R)}return!0},l.prototype.addListener=function(v,b){var m;if(!f(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",v,f(b.listener)?b.listener:b),this._events[v]?u(this._events[v])?this._events[v].push(b):this._events[v]=[this._events[v],b]:this._events[v]=b,u(this._events[v])&&!this._events[v].warned){var m;m=y(this._maxListeners)?l.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[v].length>m&&(this._events[v].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[v].length),typeof console.trace=="function"&&console.trace())}return this},l.prototype.on=l.prototype.addListener,l.prototype.once=function(v,b){function m(){this.removeListener(v,m),T||(T=!0,b.apply(this,arguments))}if(!f(b))throw TypeError("listener must be a function");var T=!1;return m.listener=b,this.on(v,m),this},l.prototype.removeListener=function(v,b){var m,T,R,E;if(!f(b))throw TypeError("listener must be a function");if(!this._events||!this._events[v])return this;if(m=this._events[v],R=m.length,T=-1,m===b||f(m.listener)&&m.listener===b)delete this._events[v],this._events.removeListener&&this.emit("removeListener",v,b);else if(u(m)){for(E=R;E-- >0;)if(m[E]===b||m[E].listener&&m[E].listener===b){T=E;break}if(T<0)return this;m.length===1?(m.length=0,delete this._events[v]):m.splice(T,1),this._events.removeListener&&this.emit("removeListener",v,b)}return this},l.prototype.removeAllListeners=function(v){var b,m;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[v]&&delete this._events[v],this;if(arguments.length===0){for(b in this._events)b!=="removeListener"&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(m=this._events[v],f(m))this.removeListener(v,m);else for(;m.length;)this.removeListener(v,m[m.length-1]);return delete this._events[v],this},l.prototype.listeners=function(v){return this._events&&this._events[v]?f(this._events[v])?[this._events[v]]:this._events[v].slice():[]},l.listenerCount=function(v,b){return v._events&&v._events[b]?f(v._events[b])?1:v._events[b].length:0}},{}],13:[function(t,_,h){_.exports=function l(f,p){if(f===p)return!0;var u,y=Array.isArray(f),v=Array.isArray(p);if(y&&v){if(f.length!=p.length)return!1;for(u=0;u<f.length;u++)if(!l(f[u],p[u]))return!1;return!0}if(y!=v)return!1;if(f&&p&&typeof f=="object"&&typeof p=="object"){var b=Object.keys(f);if(b.length!==Object.keys(p).length)return!1;var m=f instanceof Date,T=p instanceof Date;if(m&&T)return f.getTime()==p.getTime();if(m!=T)return!1;var R=f instanceof RegExp,E=p instanceof RegExp;if(R&&E)return f.toString()==p.toString();if(R!=E)return!1;for(u=0;u<b.length;u++)if(!Object.prototype.hasOwnProperty.call(p,b[u]))return!1;for(u=0;u<b.length;u++)if(!l(f[b[u]],p[b[u]]))return!1;return!0}return!1}},{}],14:[function(t,_,h){h.read=function(l,f,p,u,y){var v,b,m=8*y-u-1,T=(1<<m)-1,R=T>>1,E=-7,F=p?y-1:0,L=p?-1:1,k=l[f+F];for(F+=L,v=k&(1<<-E)-1,k>>=-E,E+=m;E>0;v=256*v+l[f+F],F+=L,E-=8);for(b=v&(1<<-E)-1,v>>=-E,E+=u;E>0;b=256*b+l[f+F],F+=L,E-=8);if(v===0)v=1-R;else{if(v===T)return b?NaN:1/0*(k?-1:1);b+=Math.pow(2,u),v-=R}return(k?-1:1)*b*Math.pow(2,v-u)},h.write=function(l,f,p,u,y,v){var b,m,T,R=8*v-y-1,E=(1<<R)-1,F=E>>1,L=y===23?Math.pow(2,-24)-Math.pow(2,-77):0,k=u?0:v-1,q=u?1:-1,Z=f<0||f===0&&1/f<0?1:0;for(f=Math.abs(f),isNaN(f)||f===1/0?(m=isNaN(f)?1:0,b=E):(b=Math.floor(Math.log(f)/Math.LN2),f*(T=Math.pow(2,-b))<1&&(b--,T*=2),f+=b+F>=1?L/T:L*Math.pow(2,1-F),f*T>=2&&(b++,T/=2),b+F>=E?(m=0,b=E):b+F>=1?(m=(f*T-1)*Math.pow(2,y),b+=F):(m=f*Math.pow(2,F-1)*Math.pow(2,y),b=0));y>=8;l[p+k]=255&m,k+=q,m/=256,y-=8);for(b=b<<y|m,R+=y;R>0;l[p+k]=255&b,k+=q,b/=256,R-=8);l[p+k-q]|=128*Z}},{}],15:[function(t,_,h){(function(l,f,p,u,y){function v(g){this.node=g}function b(){this.events=[],this.head=null,this.body=null}function m(){this.styling=null,this.layout=null}function T(){this.styles={}}function R(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function E(){this.regions={}}function F(g){this.kind=g,this.begin=null,this.end=null,this.styleAttrs=null,this.regionID=null,this.sets=null,this.timeContainer=null}function L(){F.call(this,"body")}function k(){F.call(this,"div")}function q(){F.call(this,"p")}function Z(){F.call(this,"span"),this.space=null}function V(){F.call(this,"span"),this.space=null,this.text=null}function D(){F.call(this,"br")}function M(){this.id=null,this.begin=null,this.end=null,this.styleAttrs=null,this.sets=null}function X(){this.begin=null,this.end=null,this.qname=null,this.value=null}function w(g){return g&&"xml:id"in g.attributes&&g.attributes["xml:id"].value||null}function O(g){return g&&"region"in g.attributes?g.attributes.region.value:""}function G(g,I){var P=g&&"timeContainer"in g.attributes?g.attributes.timeContainer.value:null;return P&&P!=="par"?P==="seq"?"seq":(r(I,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}function ee(g){return g&&"style"in g.attributes?g.attributes.style.value.split(" "):[]}function de(g,I){var P={};if(g!==null)for(var U in g.attributes){var B=g.attributes[U].uri+" "+g.attributes[U].local,te=u.byQName[B];if(te!==void 0){var S=te.parse(g.attributes[U].value);S!==null?(P[B]=S,te===u.byName.zIndex&&n(I,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):r(I,"Cannot parse styling attribute "+B+" --> "+g.attributes[U].value)}}return P}function ie(g,I,P){for(var U in g.attributes)if(g.attributes[U].uri===I&&g.attributes[U].local===P)return g.attributes[U].value;return null}function W(g,I){var P=ie(g,p.ns_ittp,"aspectRatio"),U=null;if(P!==null){var B=/(\d+) (\d+)/,te=B.exec(P);if(te!==null){var S=parseInt(te[1]),N=parseInt(te[2]);S!==0&&N!==0?U=S/N:r(I,"Illegal aspectRatio values (ignoring)")}else r(I,"Malformed aspectRatio attribute (ignoring)")}return U}function re(g,I){var P=ie(g,p.ns_ttp,"cellResolution"),U=15,B=32;if(P!==null){var te=/(\d+) (\d+)/,S=te.exec(P);S!==null?(B=parseInt(S[1]),U=parseInt(S[2])):n(I,"Malformed cellResolution value (using initial value instead)")}return{w:B,h:U}}function ue(g,I){var P,U=ie(g,p.ns_ttp,"frameRate"),B=30;U!==null&&(P=/(\d+)/.exec(U),P!==null?B=parseInt(P[1]):n(I,"Malformed frame rate attribute (using initial value instead)"));var te=ie(g,p.ns_ttp,"frameRateMultiplier"),S=1;te!==null&&(P=/(\d+) (\d+)/.exec(te),P!==null?S=parseInt(P[1])/parseInt(P[2]):n(I,"Malformed frame rate multiplier attribute (using initial value instead)"));var N=S*B,C=1,x=ie(g,p.ns_ttp,"tickRate");return x===null?U!==null&&(C=N):(P=/(\d+)/.exec(x),P!==null?C=parseInt(P[1]):n(I,"Malformed tick rate attribute (using initial value instead)")),{effectiveFrameRate:N,tickRate:C}}function ce(g,I){var P=ie(g,p.ns_tts,"extent");if(P===null)return null;var U=P.split(" ");if(U.length!==2)return n(I,"Malformed extent (ignoring)"),null;var B=y.parseLength(U[0]),te=y.parseLength(U[1]);return te&&B?{h:te,w:B}:(n(I,"Malformed extent values (ignoring)"),null)}function le(g,I,P){var U,B=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/,te=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/,S=/^(\d+(?:\.\d+)?)f$/,N=/^(\d+(?:\.\d+)?)t$/,C=/^(\d+(?:\.\d+)?)ms$/,x=/^(\d+(?:\.\d+)?)s$/,z=/^(\d+(?:\.\d+)?)h$/,Y=/^(\d+(?:\.\d+)?)m$/,K=null;return(U=S.exec(P))!==null?I!==null&&(K=parseFloat(U[1])/I):(U=N.exec(P))!==null?g!==null&&(K=parseFloat(U[1])/g):(U=C.exec(P))!==null?K=parseFloat(U[1])/1e3:(U=x.exec(P))!==null?K=parseFloat(U[1]):(U=z.exec(P))!==null?K=3600*parseFloat(U[1]):(U=Y.exec(P))!==null?K=60*parseFloat(U[1]):(U=B.exec(P))!==null?K=3600*parseInt(U[1])+60*parseInt(U[2])+parseFloat(U[3]):(U=te.exec(P))!==null&&I!==null&&(K=3600*parseInt(U[1])+60*parseInt(U[2])+parseInt(U[3])+(U[4]===null?0:parseInt(U[4])/I)),K}function he(g,I,P,U){var B=I&&I.timeContainer==="seq",te=0;P&&"begin"in P.attributes&&(te=le(g.tickRate,g.effectiveFrameRate,P.attributes.begin.value))===null&&(n(U,"Malformed begin value "+P.attributes.begin.value+" (using 0)"),te=0);var S=B?0:null;P&&"dur"in P.attributes&&(S=le(g.tickRate,g.effectiveFrameRate,P.attributes.dur.value))===null&&n(U,"Malformed dur value "+P.attributes.dur.value+" (ignoring)");var N=null;P&&"end"in P.attributes&&(N=le(g.tickRate,g.effectiveFrameRate,P.attributes.end.value))===null&&n(U,"Malformed end value (ignoring)");var C=0;if(I&&(C=B&&"contents"in I&&I.contents.length>0?I.contents[I.contents.length-1].end:I.begin||0),te+=C,S!==null)N=te+S;else{var x=I&&"end"in I?I.end:Number.POSITIVE_INFINITY;N=N!==null?N+C:x}return{begin:te,end:N}}function se(g,I,P){for(;I.styleRefs.length>0;){var U=I.styleRefs.pop();U in g.styles?(se(g,g.styles[U],P),i(g.styles[U].styleAttrs,I.styleAttrs)):r(P,"Non-existant style id referenced")}}function e(g,I,P,U){for(var B=I.length-1;B>=0;B--){var te=I[B];te in g.styles?i(g.styles[te].styleAttrs,P):r(U,"Non-existant style id referenced")}}function i(g,I){for(var P in g)P in I||(I[P]=g[P])}function n(g,I){if(g&&g.warn&&g.warn(I))throw I}function r(g,I){if(g&&g.error&&g.error(I))throw I}function o(g,I){throw g&&g.fatal&&g.fatal(I),I}function c(g,I){for(var P,U=0,B=g.length-1;U<=B;){P=Math.floor((U+B)/2);var te=g[P];if(te<I)U=P+1;else{if(!(te>I))return{found:!0,index:P};B=P-1}}return{found:!1,index:U}}l.fromXML=function(g,I,P){var U=f.parser(!0,{xmlns:!0}),B=[],te=[],S=[],N=0,C=null;U.onclosetag=function(K){if(B[0]instanceof T)for(var Q in B[0].styles)se(B[0],B[0].styles[Q],I);else if(B[0]instanceof q||B[0]instanceof Z){if(B[0].contents.length>1){var d,A=[B[0].contents[0]];for(d=1;d<B[0].contents.length;d++)B[0].contents[d]instanceof V&&A[A.length-1]instanceof V?A[A.length-1].text+=B[0].contents[d].text:A.push(B[0].contents[d]);B[0].contents=A}B[0]instanceof Z&&B[0].contents.length===1&&B[0].contents[0]instanceof V&&B[0].text===null&&(B[0].text=B[0].contents[0].text,delete B[0].contents)}else B[0]instanceof v&&(B[0].node.uri===p.ns_tt&&B[0].node.local==="metadata"?N--:N>0&&P&&"onCloseTag"in P&&P.onCloseTag());S.shift(),te.shift(),B.shift()},U.ontext=function(K){if(B[0]!==void 0)if(B[0]instanceof Z||B[0]instanceof q){var Q=new V;Q.initFromText(C,B[0],K,S[0],I),B[0].contents.push(Q)}else B[0]instanceof v&&N>0&&P&&"onText"in P&&P.onText(K)},U.onopentag=function(K){var Q=K.attributes["xml:space"];Q?S.unshift(Q.value):S.length===0?S.unshift("default"):S.unshift(S[0]);var d=K.attributes["xml:lang"];if(d?te.unshift(d.value):te.length===0?te.unshift(""):te.unshift(te[0]),K.uri===p.ns_tt)if(K.local==="tt")C!==null&&o("Two <tt> elements at ("+this.line+","+this.column+")"),C=new b,C.initFromNode(K,I),B.unshift(C);else if(K.local==="head")B[0]instanceof b||o("Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),C.head!==null&&o("Second <head> element at ("+this.line+","+this.column+")"),C.head=new m,B.unshift(C.head);else if(K.local==="styling")B[0]instanceof m||o("Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),C.head.styling!==null&&o("Second <styling> element at ("+this.line+","+this.column+")"),C.head.styling=new T,B.unshift(C.head.styling);else if(K.local==="style"){var A;B[0]instanceof T?(A=new R,A.initFromNode(K,I),A.id?C.head.styling.styles[A.id]=A:r("<style> element missing @id attribute"),B.unshift(A)):B[0]instanceof M?(A=new R,A.initFromNode(K,I),i(A.styleAttrs,B[0].styleAttrs),B.unshift(A)):o(I,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if(K.local==="layout")B[0]instanceof m||o(I,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),C.head.layout!==null&&o(I,"Second <layout> element at "+this.line+","+this.column+")"),C.head.layout=new E,B.unshift(C.head.layout);else if(K.local==="region"){B[0]instanceof E||o(I,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var H=new M;H.initFromNode(C,K,I),!H.id||H.id in C.head.layout.regions?r(I,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):(C.head.layout.regions[H.id]=H,C._registerEvent(H)),B.unshift(H)}else if(K.local==="body"){B[0]instanceof b||o(I,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),C.body!==null&&o(I,"Second <body> element at "+this.line+","+this.column+")");var j=new L;j.initFromNode(C,K,I),C._registerEvent(j),C.body=j,B.unshift(j)}else if(K.local==="div"){B[0]instanceof k||B[0]instanceof L||o(I,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var J=new k;J.initFromNode(C,B[0],K,I),C._registerEvent(J),B[0].contents.push(J),B.unshift(J)}else if(K.local==="p"){B[0]instanceof k||o(I,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var oe=new q;oe.initFromNode(C,B[0],K,I),C._registerEvent(oe),B[0].contents.push(oe),B.unshift(oe)}else if(K.local==="span"){B[0]instanceof Z||B[0]instanceof q||o(I,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var ve=new Z;ve.initFromNode(C,B[0],K,S[0],I),C._registerEvent(ve),B[0].contents.push(ve),B.unshift(ve)}else if(K.local==="br"){B[0]instanceof Z||B[0]instanceof q||o(I,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var ge=new D;ge.initFromNode(C,B[0],K,I),C._registerEvent(ge),B[0].contents.push(ge),B.unshift(ge)}else if(K.local==="set"){B[0]instanceof Z||B[0]instanceof q||B[0]instanceof k||B[0]instanceof L||B[0]instanceof M||B[0]instanceof D||o(I,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var ye=new X;ye.initFromNode(C,B[0],K,I),C._registerEvent(ye),B[0].sets.push(ye),B.unshift(ye)}else B.unshift(new v(K));else B.unshift(new v(K));if(B[0]instanceof v){if(K.uri===p.ns_tt&&K.local==="metadata")N++;else if(N>0&&P&&"onOpenTag"in P){var Ee=[];for(var we in K.attributes)Ee[K.attributes[we].uri+" "+K.attributes[we].local]={uri:K.attributes[we].uri,local:K.attributes[we].local,value:K.attributes[we].value};P.onOpenTag(K.uri,K.local,Ee)}}},U.write(g).close(),C.head!==null?delete C.head.styling:C.head=new m,C.head.layout===null&&(C.head.layout=new E);var x=!1;for(var z in C.head.layout.regions){x=!0;break}if(!x){var Y=M.createDefaultRegion();C.head.layout.regions[Y.id]=Y}return C},b.prototype.initFromNode=function(g,I){this.cellResolution=re(g,I);var P=ue(g,I);this.effectiveFrameRate=P.effectiveFrameRate,this.tickRate=P.tickRate,this.aspectRatio=W(g,I);var U=ie(g,p.ns_ttp,"timeBase");U!==null&&U!=="media"&&o(I,"Unsupported time base");var B=ce(g,I);B===null?this.pxDimensions={h:480,w:640}:(B.h.unit==="px"&&B.w.unit==="px"||o(I,"Extent on TT must be in px or absent"),this.pxDimensions={h:B.h.value,w:B.w.value})},b.prototype._registerEvent=function(g){if(!(g.end<=g.begin)){var I=c(this.events,g.begin);if(I.found||this.events.splice(I.index,0,g.begin),g.end!==Number.POSITIVE_INFINITY){var P=c(this.events,g.end);P.found||this.events.splice(P.index,0,g.end)}}},b.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},b.prototype.getMediaTimeEvents=function(){return this.events},R.prototype.initFromNode=function(g,I){this.id=w(g),this.styleAttrs=de(g,I),this.styleRefs=ee(g)},F.prototype.initFromNode=function(g,I,P,U){var B=he(g,I,P,U);this.begin=B.begin,this.end=B.end,this.styleAttrs=de(P,U),g.head!==null&&g.head.styling!==null&&e(g.head.styling,ee(P),this.styleAttrs,U),this.regionID=O(P),this.sets=[],this.timeContainer=G(P,U)},L.prototype.initFromNode=function(g,I,P){F.prototype.initFromNode.call(this,g,null,I,P),this.contents=[]},k.prototype.initFromNode=function(g,I,P,U){F.prototype.initFromNode.call(this,g,I,P,U),this.contents=[]},q.prototype.initFromNode=function(g,I,P,U){F.prototype.initFromNode.call(this,g,I,P,U),this.contents=[]},Z.prototype.initFromNode=function(g,I,P,U,B){F.prototype.initFromNode.call(this,g,I,P,B),this.space=U,this.contents=[]},V.prototype.initFromText=function(g,I,P,U,B){F.prototype.initFromNode.call(this,g,I,null,B),this.text=P,this.space=U},D.prototype.initFromNode=function(g,I,P,U){F.prototype.initFromNode.call(this,g,I,P,U)},M.createDefaultRegion=function(){var g=new M;return g.id="",g.begin=0,g.end=Number.POSITIVE_INFINITY,g.styleAttrs={},g.sets=[],g},M.prototype.initFromNode=function(g,I,P){this.id=w(I);var U=he(g,null,I,P);this.begin=U.begin,this.end=U.end,this.styleAttrs=de(I,P),this.sets=[],g.head!==null&&g.head.styling!==null&&e(g.head.styling,ee(I),this.styleAttrs,P)},X.prototype.initFromNode=function(g,I,P,U){var B=he(g,I,P,U);this.begin=B.begin,this.end=B.end;var te=de(P,U);for(var S in te){if(this.qname){r(U,"More than one style specified on set");break}this.qname=S,this.value=te[S]}}})(h===void 0?this.imscDoc={}:h,typeof sax>"u"?t(42):sax,typeof imscNames>"u"?t(19):imscNames,typeof imscStyles>"u"?t(20):imscStyles,typeof imscUtils>"u"?t(21):imscUtils)},{19:19,20:20,21:21,42:42}],16:[function(t,_,h){(function(l,f,p){function u(D,M,X){var w;if(X.kind==="region"?(w=document.createElement("div"),w.style.position="absolute"):X.kind==="body"||X.kind==="div"?w=document.createElement("div"):X.kind==="p"?w=document.createElement("p"):X.kind==="span"?w=document.createElement("span"):X.kind==="br"&&(w=document.createElement("br")),!w)return void k(D.errorHandler,"Error processing ISD element kind: "+X.kind);w.style.margin="0";for(var O in q){var G=q[O],ee=X.styleAttrs[G.qname];ee!==void 0&&G.map!==null&&G.map(D,w,X,ee)}var de=w,ie=X.styleAttrs[p.byName.multiRowAlign.qname];if(ie&&ie!=="auto"){var W=document.createElement("span");W.style.display="inline-block",W.style.textAlign=ie,w.appendChild(W),de=W,D.mra=ie}var re=X.styleAttrs[p.byName.linePadding.qname];if(re&&re>0&&(D.lp=re),X.kind==="span"&&X.text)if(D.lp||D.mra)for(var ue=0;ue<X.text.length;ue++){var ce=document.createElement("span");ce.textContent=X.text.charAt(ue),w.appendChild(ce)}else w.textContent=X.text;M.appendChild(w);for(var le in X.contents)u(D,de,X.contents[le]);if((D.lp||D.mra)&&X.kind==="p"){var he=[];v(de,he,"red"),T(he,D.lp*D.h),D.lp&&delete D.lp,D.mra&&delete D.mra}if(X.kind==="region"){var se=[];b(de,se);var e=X.styleAttrs[p.byName.writingMode.qname];if((e==="lrtb"||e==="lr"||e==="rltb"||e==="rl")&&D.enableRollUp&&X.contents.length>0&&X.styleAttrs[p.byName.displayAlign.qname]==="after"){var i=X.id===""?"_":X.id,n=new y(i,se);if(D.currentISDState[n.id]=n,D.previousISDState&&n.id in D.previousISDState&&D.previousISDState[n.id].plist.length>0&&n.plist.length>1&&n.plist[n.plist.length-2].text===D.previousISDState[n.id].plist[D.previousISDState[n.id].plist.length-1].text){var r=w.firstElementChild;r.style.bottom="-"+n.plist[n.plist.length-1].height+"px",r.style.transition="transform 0.4s",r.style.position="relative",r.style.transform="translateY(-"+n.plist[n.plist.length-1].height+"px)"}}}}function y(D,M){this.id=D,this.plist=M}function v(D,M,X){if(D.childElementCount===0)M.push({element:D,bgcolor:X});else for(var w=D.style.backgroundColor||X,O=D.firstChild;O;)O.nodeType===Node.ELEMENT_NODE&&v(O,M,w),O=O.nextSibling}function b(D,M){if(D.childElementCount===0&&D.localName==="span"){var X=D.getBoundingClientRect();M.length!==0&&m(X.top,X.height,M[M.length-1].top,M[M.length-1].height)?(X.top<M[M.length-1].top&&(M[M.length-1].top=X.top),X.height>M[M.length-1].height&&(M[M.length-1].height=X.height),M[M.length-1].text+=D.textContent):M.push({top:X.top,height:X.height,text:D.textContent})}else for(var w=D.firstChild;w;)w.nodeType===Node.ELEMENT_NODE&&b(w,M),w=w.nextSibling}function m(D,M,X,w){return D+M<X+w&&D>X||X+w<=D+M&&X>=D}function T(D,M){for(var X=null,w=!0,O=!1,G=0;G<=D.length;G++)if(G===D.length||D[G].element.localName!=="br"){if(X===null||G===D.length||!m(D[G].element.getBoundingClientRect().top,D[G].element.getBoundingClientRect().height,D[X].element.getBoundingClientRect().top,D[X].element.getBoundingClientRect().height)){if(M&&!w){for(;--G>=0;)if(D[G].element.getBoundingClientRect().width!==0){if(E(D[G].element,D[G].color,M),D[G].element.getBoundingClientRect().width!==0&&m(D[G].element.getBoundingClientRect().top,D[G].element.getBoundingClientRect().height,D[X].element.getBoundingClientRect().top,D[X].element.getBoundingClientRect().height))break;F(D[G].element)}w=!0;continue}if(G!==D.length&&X!==null&&!O){var ee=document.createElement("br");D[G].element.parentElement.insertBefore(ee,D[G].element),D.splice(G,0,{element:ee}),O=!0;continue}if(G!==D.length&&M){for(;G<D.length;G++)if(D[G].element.getBoundingClientRect().width!==0){R(D[G].element,D[G].color,M);break}}w=!1,O=!1,X=G}}else O=!0}function R(D,M,X){D.style.paddingLeft=X+"px",D.style.backgroundColor=M}function E(D,M,X){D.style.paddingRight=X+"px",D.style.backgroundColor=M}function F(D){D.style.paddingRight=null}function L(D,M){this.qname=D,this.map=M}function k(D,M){if(D&&D.error&&D.error(M))throw M}l.render=function(D,M,X,w,O,G,ee,de,ie){var W=w||M.clientHeight,re=O||M.clientWidth;if(D.aspectRatio!==null){var ue=W*D.aspectRatio;ue>re?W=Math.round(re/D.aspectRatio):re=ue}var ce=document.createElement("div");ce.style.position="relative",ce.style.width=re+"px",ce.style.height=W+"px",ce.style.margin="auto",ce.style.top=0,ce.style.bottom=0,ce.style.left=0,ce.style.right=0,ce.style.zIndex=0;var le={h:W,w:re,regionH:null,regionW:null,imgResolver:X,displayForcedOnlyMode:G||!1,isd:D,errorHandler:ee,previousISDState:de,enableRollUp:ie||!1,currentISDState:{}};M.appendChild(ce);for(var he in D.contents)u(le,ce,D.contents[he]);return le.currentISDState};var q=[new L("http://www.w3.org/ns/ttml#styling backgroundColor",function(D,M,X,w){M.style.backgroundColor="rgba("+w[0].toString()+","+w[1].toString()+","+w[2].toString()+","+(w[3]/255).toString()+")"}),new L("http://www.w3.org/ns/ttml#styling color",function(D,M,X,w){M.style.color="rgba("+w[0].toString()+","+w[1].toString()+","+w[2].toString()+","+(w[3]/255).toString()+")"}),new L("http://www.w3.org/ns/ttml#styling direction",function(D,M,X,w){M.style.direction=w}),new L("http://www.w3.org/ns/ttml#styling display",function(D,M,X,w){}),new L("http://www.w3.org/ns/ttml#styling displayAlign",function(D,M,X,w){M.style.display="flex",M.style.flexDirection="column",w==="before"?M.style.justifyContent="flex-start":w==="center"?M.style.justifyContent="center":w==="after"&&(M.style.justifyContent="flex-end")}),new L("http://www.w3.org/ns/ttml#styling extent",function(D,M,X,w){D.regionH=w.h*D.h,D.regionW=w.w*D.w;var O=0,G=0,ee=X.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];ee&&(O=(ee[0]+ee[2])*D.h,G=(ee[1]+ee[3])*D.w),M.style.height=D.regionH-O+"px",M.style.width=D.regionW-G+"px"}),new L("http://www.w3.org/ns/ttml#styling fontFamily",function(D,M,X,w){var O=[];for(var G in w)w[G]==="monospaceSerif"?(O.push("Courier New"),O.push('"Liberation Mono"'),O.push("Courier"),O.push("monospace")):w[G]==="proportionalSansSerif"?(O.push("Arial"),O.push("Helvetica"),O.push('"Liberation Sans"'),O.push("sans-serif")):w[G]==="monospace"?O.push("monospace"):w[G]==="sansSerif"?O.push("sans-serif"):w[G]==="serif"?O.push("serif"):w[G]==="monospaceSansSerif"?(O.push("Consolas"),O.push("monospace")):w[G]==="proportionalSerif"?O.push("serif"):O.push(w[G]);M.style.fontFamily=O.join(",")}),new L("http://www.w3.org/ns/ttml#styling fontSize",function(D,M,X,w){M.style.fontSize=w*D.h+"px"}),new L("http://www.w3.org/ns/ttml#styling fontStyle",function(D,M,X,w){M.style.fontStyle=w}),new L("http://www.w3.org/ns/ttml#styling fontWeight",function(D,M,X,w){M.style.fontWeight=w}),new L("http://www.w3.org/ns/ttml#styling lineHeight",function(D,M,X,w){M.style.lineHeight=w==="normal"?"normal":w*D.h+"px"}),new L("http://www.w3.org/ns/ttml#styling opacity",function(D,M,X,w){M.style.opacity=w}),new L("http://www.w3.org/ns/ttml#styling origin",function(D,M,X,w){M.style.top=w.h*D.h+"px",M.style.left=w.w*D.w+"px"}),new L("http://www.w3.org/ns/ttml#styling overflow",function(D,M,X,w){M.style.overflow=w}),new L("http://www.w3.org/ns/ttml#styling padding",function(D,M,X,w){var O=[];O[0]=w[0]*D.h+"px",O[1]=w[3]*D.w+"px",O[2]=w[2]*D.h+"px",O[3]=w[1]*D.w+"px",M.style.padding=O.join(" ")}),new L("http://www.w3.org/ns/ttml#styling showBackground",null),new L("http://www.w3.org/ns/ttml#styling textAlign",function(D,M,X,w){var O,G=X.styleAttrs[p.byName.direction.qname];O=w==="start"?G==="rtl"?"right":"left":w==="end"?G==="rtl"?"left":"right":w,M.style.textAlign=O}),new L("http://www.w3.org/ns/ttml#styling textDecoration",function(D,M,X,w){M.style.textDecoration=w.join(" ").replace("lineThrough","line-through")}),new L("http://www.w3.org/ns/ttml#styling textOutline",function(D,M,X,w){M.style.textShadow=w==="none"?"":"rgba("+w.color[0].toString()+","+w.color[1].toString()+","+w.color[2].toString()+","+(w.color[3]/255).toString()+") 0px 0px "+w.thickness*D.h+"px"}),new L("http://www.w3.org/ns/ttml#styling unicodeBidi",function(D,M,X,w){var O;O=w==="bidiOverride"?"bidi-override":w,M.style.unicodeBidi=O}),new L("http://www.w3.org/ns/ttml#styling visibility",function(D,M,X,w){M.style.visibility=w}),new L("http://www.w3.org/ns/ttml#styling wrapOption",function(D,M,X,w){w==="wrap"?X.space==="preserve"?M.style.whiteSpace="pre-wrap":M.style.whiteSpace="normal":X.space==="preserve"?M.style.whiteSpace="pre":M.style.whiteSpace="noWrap"}),new L("http://www.w3.org/ns/ttml#styling writingMode",function(D,M,X,w){w==="lrtb"||w==="lr"||w==="rltb"||w==="rl"?M.style.writingMode="horizontal-tb":w==="tblr"?M.style.writingMode="vertical-lr":w!=="tbrl"&&w!=="tb"||(M.style.writingMode="vertical-rl")}),new L("http://www.w3.org/ns/ttml#styling zIndex",function(D,M,X,w){M.style.zIndex=w}),new L("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt backgroundImage",function(D,M,X,w){if(D.imgResolver!==null&&w!==null){var O=document.createElement("img"),G=D.imgResolver(w,O);G&&(O.src=G),O.height=D.regionH,O.width=D.regionW,M.appendChild(O)}}),new L("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(D,M,X,w){D.displayForcedOnlyMode&&w===!1&&(M.style.visibility="hidden")})],Z={};for(var V in q)Z[q[V].qname]=q[V]})(h===void 0?this.imscHTML={}:h,typeof imscNames>"u"?t(19):imscNames,typeof imscStyles>"u"?t(20):imscStyles)},{19:19,20:20}],17:[function(t,_,h){(function(l,f,p){function u(R,E,F,L,k,q,Z,V){if(E<Z.begin||E>=Z.end)return null;var D="regionID"in Z&&Z.regionID!==""?Z.regionID:q;if(k!==null&&D!==F.id&&(!("contents"in Z)||"contents"in Z&&Z.contents.length===0||D!==""))return null;var M=new m(Z);for(var X in Z.sets)E<Z.sets[X].begin||E>=Z.sets[X].end||(M.styleAttrs[Z.sets[X].qname]=Z.sets[X].value);var w={};for(var O in M.styleAttrs)if(w[O]=!0,O===p.byName.writingMode.qname&&!(p.byName.direction.qname in M.styleAttrs)){var G=M.styleAttrs[O];G==="lrtb"||G==="lr"?M.styleAttrs[p.byName.direction.qname]="ltr":G!=="rltb"&&G!=="rl"||(M.styleAttrs[p.byName.direction.qname]="rtl")}if(k!==null)for(var ee in p.all){var de=p.all[ee];if(de.qname===p.byName.textDecoration.qname){var ie=k.styleAttrs[de.qname],W=M.styleAttrs[de.qname],re=[];W===void 0?re=ie:W.indexOf("none")===-1?((W.indexOf("noUnderline")===-1&&ie.indexOf("underline")!==-1||W.indexOf("underline")!==-1)&&re.push("underline"),(W.indexOf("noLineThrough")===-1&&ie.indexOf("lineThrough")!==-1||W.indexOf("lineThrough")!==-1)&&re.push("lineThrough"),(W.indexOf("noOverline")===-1&&ie.indexOf("overline")!==-1||W.indexOf("overline")!==-1)&&re.push("overline")):re.push("none"),M.styleAttrs[de.qname]=re}else de.inherit&&de.qname in k.styleAttrs&&!(de.qname in M.styleAttrs)&&(M.styleAttrs[de.qname]=k.styleAttrs[de.qname])}for(var ue in p.all){var ce=p.all[ue];ce.qname in M.styleAttrs||(M.kind==="region"||ce.inherit===!1&&ce.initial!==null)&&(M.styleAttrs[ce.qname]=ce.parse(ce.initial),w[ce.qname]=!0)}for(var le in p.all){var he=p.all[le];if(he.qname in w&&he.compute!==null){var se=he.compute(R,k,M,M.styleAttrs[he.qname]);se!==null?M.styleAttrs[he.qname]=se:T(V,"Style '"+he.qname+"' on element '"+M.kind+"' cannot be computed")}}if(M.styleAttrs[p.byName.display.qname]==="none")return null;var e;k===null?e=L===null?[]:[L]:"contents"in Z&&(e=Z.contents);for(var i in e){var n=u(R,E,F,L,M,D,e[i]);n!==null&&M.contents.push(n.element)}for(var r in M.styleAttrs)p.byQName[r].applies.indexOf(M.kind)===-1&&delete M.styleAttrs[r];if(M.kind==="span"&&M.text&&M.space==="default"){var o=M.text.replace(/\s+/g," ");M.text=o}if(M.kind==="p"){var c=[];y(M,c);for(var g=0,I="after_br",P=0;;)if(I==="after_br")g>=c.length||c[g].kind==="br"?(I="before_br",P=g,g--):(c[g].space!=="preserve"&&(c[g].text=c[g].text.replace(/^\s+/g,"")),c[g].text.length>0?(I="looking_br",g++):c.splice(g,1));else if(I==="before_br")if(g<0||c[g].kind==="br"){if(I="after_br",(g=P+1)>=c.length)break}else if(c[g].space!=="preserve"&&(c[g].text=c[g].text.replace(/\s+$/g,"")),c[g].text.length>0){if(I="after_br",(g=P+1)>=c.length)break}else c.splice(g,1),g--;else g>=c.length||c[g].kind==="br"?(I="before_br",P=g,g--):g++;v(M)}return M.kind==="div"&&p.byName.backgroundImage.qname in M.styleAttrs||M.kind==="br"||"contents"in M&&M.contents.length>0||M.kind==="span"&&M.text!==null||M.kind==="region"&&M.styleAttrs[p.byName.showBackground.qname]==="always"?{region_id:D,element:M}:null}function y(R,E){if("contents"in R)for(var F in R.contents)y(R.contents[F],E);else E.push(R)}function v(R){if(R.kind==="br")return!1;if("text"in R)return R.text.length===0;if("contents"in R){for(var E=R.contents.length;E--;)v(R.contents[E])&&R.contents.splice(E,1);return R.contents.length===0}}function b(R){this.contents=[],this.aspectRatio=R.aspectRatio}function m(R){this.kind=R.kind||"region",R.id&&(this.id=R.id),this.styleAttrs={};for(var E in R.styleAttrs)this.styleAttrs[E]=R.styleAttrs[E];"text"in R?this.text=R.text:R.kind!=="br"&&(this.contents=[]),"space"in R&&(this.space=R.space)}function T(R,E){if(R&&R.error&&R.error(E))throw E}l.generateISD=function(R,E,F){var L=new b(R);for(var k in R.head.layout.regions){var q=u(R,E,R.head.layout.regions[k],R.body,null,"",R.head.layout.regions[k],F);q!==null&&L.contents.push(q.element)}return L}})(h===void 0?this.imscISD={}:h,typeof imscNames>"u"?t(19):imscNames,typeof imscStyles>"u"?t(20):imscStyles)},{19:19,20:20}],18:[function(t,_,h){h.generateISD=t(17).generateISD,h.fromXML=t(15).fromXML,h.renderHTML=t(16).render},{15:15,16:16,17:17}],19:[function(t,_,h){(function(l){l.ns_tt="http://www.w3.org/ns/ttml",l.ns_tts="http://www.w3.org/ns/ttml#styling",l.ns_ttp="http://www.w3.org/ns/ttml#parameter",l.ns_xml="http://www.w3.org/XML/1998/namespace",l.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",l.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",l.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",l.ns_ebutts="urn:ebu:tt:style"})(h===void 0?this.imscNames={}:h)},{}],20:[function(t,_,h){(function(l,f,p){function u(b,m,T,R,E,F,L,k){this.name=m,this.ns=b,this.qname=b+" "+m,this.inherit=E,this.animatable=F,this.initial=T,this.applies=R,this.parse=L,this.compute=k}l.all=[new u(f.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,p.parseColor,null),new u(f.ns_tts,"color","white",["span"],!0,!0,p.parseColor,null),new u(f.ns_tts,"direction","ltr",["p","span"],!0,!0,function(b){return b},null),new u(f.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(b){return b},null),new u(f.ns_tts,"displayAlign","before",["region"],!1,!0,function(b){return b},null),new u(f.ns_tts,"extent","auto",["tt","region"],!1,!0,function(b){if(b==="auto")return b;var m=b.split(" ");if(m.length!==2)return null;var T=p.parseLength(m[0]),R=p.parseLength(m[1]);return R&&T?{h:R,w:T}:null},function(b,m,T,R){var E,F;if(R==="auto")E=1;else if(R.h.unit==="%")E=R.h.value/100;else{if(R.h.unit!=="px")return null;E=R.h.value/b.pxDimensions.h}if(R==="auto")F=1;else if(R.w.unit==="%")F=R.w.value/100;else{if(R.w.unit!=="px")return null;F=R.w.value/b.pxDimensions.w}return{h:E,w:F}}),new u(f.ns_tts,"fontFamily","default",["span"],!0,!0,function(b){var m=b.split(","),T=[];for(var R in m)m[R].charAt(0)!=="'"&&m[R].charAt(0)!=='"'&&m[R]==="default"?T.push("monospaceSerif"):T.push(m[R]);return T},null),new u(f.ns_tts,"fontSize","1c",["span"],!0,!0,p.parseLength,function(b,m,T,R){var E;if(R.unit==="%")E=m!==null?m.styleAttrs[l.byName.fontSize.qname]*R.value/100:R.value/100/b.cellResolution.h;else if(R.unit==="em")E=m!==null?m.styleAttrs[l.byName.fontSize.qname]*R.value:R.value/b.cellResolution.h;else if(R.unit==="c")E=R.value/b.cellResolution.h;else{if(R.unit!=="px")return null;E=R.value/b.pxDimensions.h}return E}),new u(f.ns_tts,"fontStyle","normal",["span"],!0,!0,function(b){return b},null),new u(f.ns_tts,"fontWeight","normal",["span"],!0,!0,function(b){return b},null),new u(f.ns_tts,"lineHeight","normal",["p"],!0,!0,function(b){return b==="normal"?b:p.parseLength(b)},function(b,m,T,R){var E;if(R==="normal")E=R;else if(R.unit==="%")E=T.styleAttrs[l.byName.fontSize.qname]*R.value/100;else if(R.unit==="em")E=T.styleAttrs[l.byName.fontSize.qname]*R.value;else if(R.unit==="c")E=R.value/b.cellResolution.h;else{if(R.unit!=="px")return null;E=R.value/b.pxDimensions.h}return E}),new u(f.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new u(f.ns_tts,"origin","auto",["region"],!1,!0,function(b){if(b==="auto")return b;var m=b.split(" ");if(m.length!==2)return null;var T=p.parseLength(m[0]),R=p.parseLength(m[1]);return R&&T?{h:R,w:T}:null},function(b,m,T,R){var E,F;if(R==="auto")E=0;else if(R.h.unit==="%")E=R.h.value/100;else{if(R.h.unit!=="px")return null;E=R.h.value/b.pxDimensions.h}if(R==="auto")F=0;else if(R.w.unit==="%")F=R.w.value/100;else{if(R.w.unit!=="px")return null;F=R.w.value/b.pxDimensions.w}return{h:E,w:F}}),new u(f.ns_tts,"overflow","hidden",["region"],!1,!0,function(b){return b},null),new u(f.ns_tts,"padding","0px",["region"],!1,!0,function(b){var m=b.split(" ");if(m.length>4)return null;var T=[];for(var R in m){var E=p.parseLength(m[R]);if(!E)return null;T.push(E)}return T},function(b,m,T,R){var E;if(R.length===1)E=[R[0],R[0],R[0],R[0]];else if(R.length===2)E=[R[0],R[1],R[0],R[1]];else if(R.length===3)E=[R[0],R[1],R[2],R[1]];else{if(R.length!==4)return null;E=[R[0],R[1],R[2],R[3]]}var F=T.styleAttrs[l.byName.writingMode.qname];if(F==="lrtb"||F==="lr")E=[E[0],E[3],E[2],E[1]];else if(F==="rltb"||F==="rl")E=[E[0],E[1],E[2],E[3]];else if(F==="tblr")E=[E[3],E[0],E[1],E[2]];else{if(F!=="tbrl"&&F!=="tb")return null;E=[E[3],E[2],E[1],E[0]]}var L=[];for(var k in E)if(E[k].value===0)L[k]=0;else if(E[k].unit==="%")L[k]=k==="0"||k==="2"?T.styleAttrs[l.byName.extent.qname].h*E[k].value/100:T.styleAttrs[l.byName.extent.qname].w*E[k].value/100;else if(E[k].unit==="em")L[k]=T.styleAttrs[l.byName.fontSize.qname]*E[k].value;else if(E[k].unit==="c")L[k]=E[k].value/b.cellResolution.h;else{if(E[k].unit!=="px")return null;L[k]=E[k].value/b.pxDimensions.h}return L}),new u(f.ns_tts,"showBackground","always",["region"],!1,!0,function(b){return b},null),new u(f.ns_tts,"textAlign","start",["p"],!0,!0,function(b){return b},function(b,m,T,R){return R==="left"?"start":R==="right"?"end":R}),new u(f.ns_tts,"textDecoration","none",["span"],!0,!0,function(b){return b.split(" ")},null),new u(f.ns_tts,"textOutline","none",["span"],!0,!0,function(b){if(b==="none")return b;var m={},T=b.split(" ");if(T.length===0||T.length>2)return null;var R=p.parseColor(T[0]);if(m.color=R,R!==null&&T.shift(),T.length!==1)return null;var E=p.parseLength(T[0]);return E?(m.thickness=E,m):null},function(b,m,T,R){if(R==="none")return R;var E={};if(R.color===null?E.color=T.styleAttrs[l.byName.color.qname]:E.color=R.color,R.thickness.unit==="%")E.thickness=T.styleAttrs[l.byName.fontSize.qname]*R.thickness.value/100;else if(R.thickness.unit==="em")E.thickness=T.styleAttrs[l.byName.fontSize.qname]*R.thickness.value;else if(R.thickness.unit==="c")E.thickness=R.thickness.value/b.cellResolution.h;else{if(R.thickness.unit!=="px")return null;E.thickness=R.thickness.value/b.pxDimensions.h}return E}),new u(f.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(b){return b},null),new u(f.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(b){return b},null),new u(f.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(b){return b},null),new u(f.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(b){return b},null),new u(f.ns_tts,"zIndex","auto",["region"],!1,!0,function(b){var m;return b==="auto"?m=b:(m=parseInt(b),isNaN(m)&&(m=null)),m},null),new u(f.ns_ebutts,"linePadding","0c",["p"],!0,!1,p.parseLength,function(b,m,T,R){return R.unit==="c"?R.value/b.cellResolution.h:null}),new u(f.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(b){return b},null),new u(f.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(b){return b},null),new u(f.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(b){return b==="true"},null)],l.byQName={};for(var y in l.all)l.byQName[l.all[y].qname]=l.all[y];l.byName={};for(var v in l.all)l.byName[l.all[v].name]=l.all[v]})(h===void 0?this.imscStyles={}:h,typeof imscNames>"u"?t(19):imscNames,typeof imscUtils>"u"?t(21):imscUtils)},{19:19,21:21}],21:[function(t,_,h){(function(l){var f=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,p=/rgb\((\d+),(\d+),(\d+)\)/,u=/rgba\((\d+),(\d+),(\d+),(\d+)\)/,y={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};l.parseColor=function(b){var m,T=null;return b in y?T=y[b]:(m=f.exec(b))!==null?T=[parseInt(m[1],16),parseInt(m[2],16),parseInt(m[3],16),m[4]!==void 0?parseInt(m[4],16):255]:(m=p.exec(b))!==null?T=[parseInt(m[1]),parseInt(m[2]),parseInt(m[3]),255]:(m=u.exec(b))!==null&&(T=[parseInt(m[1]),parseInt(m[2]),parseInt(m[3]),parseInt(m[4])]),T};var v=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%)$/;l.parseLength=function(b){var m,T=null;return(m=v.exec(b))!==null&&(T={value:parseFloat(m[1]),unit:m[2]}),T}})(h===void 0?this.imscUtils={}:h)},{}],22:[function(t,_,h){typeof Object.create=="function"?_.exports=function(l,f){l.super_=f,l.prototype=Object.create(f.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}})}:_.exports=function(l,f){l.super_=f;var p=function(){};p.prototype=f.prototype,l.prototype=new p,l.prototype.constructor=l}},{}],23:[function(t,_,h){function l(p){return!!p.constructor&&typeof p.constructor.isBuffer=="function"&&p.constructor.isBuffer(p)}function f(p){return typeof p.readFloatLE=="function"&&typeof p.slice=="function"&&l(p.slice(0,0))}_.exports=function(p){return p!=null&&(l(p)||f(p)||!!p._isBuffer)}},{}],24:[function(t,_,h){var l={}.toString;_.exports=Array.isArray||function(f){return l.call(f)=="[object Array]"}},{}],25:[function(t,_,h){(function(l){function f(p,u,y,v){if(typeof p!="function")throw new TypeError('"callback" argument must be a function');var b,m,T=arguments.length;switch(T){case 0:case 1:return l.nextTick(p);case 2:return l.nextTick(function(){p.call(null,u)});case 3:return l.nextTick(function(){p.call(null,u,y)});case 4:return l.nextTick(function(){p.call(null,u,y,v)});default:for(b=new Array(T-1),m=0;m<b.length;)b[m++]=arguments[m];return l.nextTick(function(){p.apply(null,b)})}}!l.version||l.version.indexOf("v0.")===0||l.version.indexOf("v1.")===0&&l.version.indexOf("v1.8.")!==0?_.exports=f:_.exports=l.nextTick}).call(this,t(26))},{26:26}],26:[function(t,_,h){function l(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}function p(Z){if(T===setTimeout)return setTimeout(Z,0);if((T===l||!T)&&setTimeout)return T=setTimeout,setTimeout(Z,0);try{return T(Z,0)}catch{try{return T.call(null,Z,0)}catch{return T.call(this,Z,0)}}}function u(Z){if(R===clearTimeout)return clearTimeout(Z);if((R===f||!R)&&clearTimeout)return R=clearTimeout,clearTimeout(Z);try{return R(Z)}catch{try{return R.call(null,Z)}catch{return R.call(this,Z)}}}function y(){k&&F&&(k=!1,F.length?L=F.concat(L):q=-1,L.length&&v())}function v(){if(!k){var Z=p(y);k=!0;for(var V=L.length;V;){for(F=L,L=[];++q<V;)F&&F[q].run();q=-1,V=L.length}F=null,k=!1,u(Z)}}function b(Z,V){this.fun=Z,this.array=V}function m(){}var T,R,E=_.exports={};(function(){try{T=typeof setTimeout=="function"?setTimeout:l}catch{T=l}try{R=typeof clearTimeout=="function"?clearTimeout:f}catch{R=f}})();var F,L=[],k=!1,q=-1;E.nextTick=function(Z){var V=new Array(arguments.length-1);if(arguments.length>1)for(var D=1;D<arguments.length;D++)V[D-1]=arguments[D];L.push(new b(Z,V)),L.length!==1||k||p(v)},b.prototype.run=function(){this.fun.apply(null,this.array)},E.title="browser",E.browser=!0,E.env={},E.argv=[],E.version="",E.versions={},E.on=m,E.addListener=m,E.once=m,E.off=m,E.removeListener=m,E.removeAllListeners=m,E.emit=m,E.prependListener=m,E.prependOnceListener=m,E.listeners=function(Z){return[]},E.binding=function(Z){throw new Error("process.binding is not supported")},E.cwd=function(){return"/"},E.chdir=function(Z){throw new Error("process.chdir is not supported")},E.umask=function(){return 0}},{}],27:[function(t,_,h){_.exports=t(28)},{28:28}],28:[function(t,_,h){function l(F){if(!(this instanceof l))return new l(F);b.call(this,F),m.call(this,F),F&&F.readable===!1&&(this.readable=!1),F&&F.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,F&&F.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||u(p,this)}function p(F){F.end()}var u=t(25),y=Object.keys||function(F){var L=[];for(var k in F)L.push(k);return L};_.exports=l;var v=t(11);v.inherits=t(22);var b=t(30),m=t(32);v.inherits(l,b);for(var T=y(m.prototype),R=0;R<T.length;R++){var E=T[R];l.prototype[E]||(l.prototype[E]=m.prototype[E])}Object.defineProperty(l.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(F){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=F,this._writableState.destroyed=F)}}),l.prototype._destroy=function(F,L){this.push(null),this.end(),u(L,F)}},{11:11,22:22,25:25,30:30,32:32}],29:[function(t,_,h){function l(u){if(!(this instanceof l))return new l(u);f.call(this,u)}_.exports=l;var f=t(31),p=t(11);p.inherits=t(22),p.inherits(l,f),l.prototype._transform=function(u,y,v){v(null,u)}},{11:11,22:22,31:31}],30:[function(t,_,h){(function(l,f){function p(S){return n.from(S)}function u(S){return n.isBuffer(S)||S instanceof r}function y(S,N,C){if(typeof S.prependListener=="function")return S.prependListener(N,C);S._events&&S._events[N]?se(S._events[N])?S._events[N].unshift(C):S._events[N]=[C,S._events[N]]:S.on(N,C)}function v(S,N){he=he||t(28),S=S||{},this.objectMode=!!S.objectMode,N instanceof he&&(this.objectMode=this.objectMode||!!S.readableObjectMode);var C=S.highWaterMark,x=this.objectMode?16:16384;this.highWaterMark=C||C===0?C:x,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new P,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=S.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,S.encoding&&(I||(I=t(44).StringDecoder),this.decoder=new I(S.encoding),this.encoding=S.encoding)}function b(S){if(he=he||t(28),!(this instanceof b))return new b(S);this._readableState=new v(S,this),this.readable=!0,S&&(typeof S.read=="function"&&(this._read=S.read),typeof S.destroy=="function"&&(this._destroy=S.destroy)),i.call(this)}function m(S,N,C,x,z){var Y=S._readableState;if(N===null)Y.reading=!1,k(S,Y);else{var K;z||(K=R(Y,N)),K?S.emit("error",K):Y.objectMode||N&&N.length>0?(typeof N=="string"||Y.objectMode||Object.getPrototypeOf(N)===n.prototype||(N=p(N)),x?Y.endEmitted?S.emit("error",new Error("stream.unshift() after end event")):T(S,Y,N,!0):Y.ended?S.emit("error",new Error("stream.push() after EOF")):(Y.reading=!1,Y.decoder&&!C?(N=Y.decoder.write(N),Y.objectMode||N.length!==0?T(S,Y,N,!1):V(S,Y)):T(S,Y,N,!1))):x||(Y.reading=!1)}return E(Y)}function T(S,N,C,x){N.flowing&&N.length===0&&!N.sync?(S.emit("data",C),S.read(0)):(N.length+=N.objectMode?1:C.length,x?N.buffer.unshift(C):N.buffer.push(C),N.needReadable&&q(S)),V(S,N)}function R(S,N){var C;return u(N)||typeof N=="string"||N===void 0||S.objectMode||(C=new TypeError("Invalid non-string/buffer chunk")),C}function E(S){return!S.ended&&(S.needReadable||S.length<S.highWaterMark||S.length===0)}function F(S){return S>=te?S=te:(S--,S|=S>>>1,S|=S>>>2,S|=S>>>4,S|=S>>>8,S|=S>>>16,S++),S}function L(S,N){return S<=0||N.length===0&&N.ended?0:N.objectMode?1:S!==S?N.flowing&&N.length?N.buffer.head.data.length:N.length:(S>N.highWaterMark&&(N.highWaterMark=F(S)),S<=N.length?S:N.ended?N.length:(N.needReadable=!0,0))}function k(S,N){if(!N.ended){if(N.decoder){var C=N.decoder.end();C&&C.length&&(N.buffer.push(C),N.length+=N.objectMode?1:C.length)}N.ended=!0,q(S)}}function q(S){var N=S._readableState;N.needReadable=!1,N.emittedReadable||(g("emitReadable",N.flowing),N.emittedReadable=!0,N.sync?le(Z,S):Z(S))}function Z(S){g("emit readable"),S.emit("readable"),G(S)}function V(S,N){N.readingMore||(N.readingMore=!0,le(D,S,N))}function D(S,N){for(var C=N.length;!N.reading&&!N.flowing&&!N.ended&&N.length<N.highWaterMark&&(g("maybeReadMore read 0"),S.read(0),C!==N.length);)C=N.length;N.readingMore=!1}function M(S){return function(){var N=S._readableState;g("pipeOnDrain",N.awaitDrain),N.awaitDrain&&N.awaitDrain--,N.awaitDrain===0&&e(S,"data")&&(N.flowing=!0,G(S))}}function X(S){g("readable nexttick read 0"),S.read(0)}function w(S,N){N.resumeScheduled||(N.resumeScheduled=!0,le(O,S,N))}function O(S,N){N.reading||(g("resume read 0"),S.read(0)),N.resumeScheduled=!1,N.awaitDrain=0,S.emit("resume"),G(S),N.flowing&&!N.reading&&S.read(0)}function G(S){var N=S._readableState;for(g("flow",N.flowing);N.flowing&&S.read()!==null;);}function ee(S,N){if(N.length===0)return null;var C;return N.objectMode?C=N.buffer.shift():!S||S>=N.length?(C=N.decoder?N.buffer.join(""):N.buffer.length===1?N.buffer.head.data:N.buffer.concat(N.length),N.buffer.clear()):C=de(S,N.buffer,N.decoder),C}function de(S,N,C){var x;return S<N.head.data.length?(x=N.head.data.slice(0,S),N.head.data=N.head.data.slice(S)):x=S===N.head.data.length?N.shift():C?ie(S,N):W(S,N),x}function ie(S,N){var C=N.head,x=1,z=C.data;for(S-=z.length;C=C.next;){var Y=C.data,K=S>Y.length?Y.length:S;if(K===Y.length?z+=Y:z+=Y.slice(0,S),(S-=K)==0){K===Y.length?(++x,C.next?N.head=C.next:N.head=N.tail=null):(N.head=C,C.data=Y.slice(K));break}++x}return N.length-=x,z}function W(S,N){var C=n.allocUnsafe(S),x=N.head,z=1;for(x.data.copy(C),S-=x.data.length;x=x.next;){var Y=x.data,K=S>Y.length?Y.length:S;if(Y.copy(C,C.length-S,0,K),(S-=K)==0){K===Y.length?(++z,x.next?N.head=x.next:N.head=N.tail=null):(N.head=x,x.data=Y.slice(K));break}++z}return N.length-=z,C}function re(S){var N=S._readableState;if(N.length>0)throw new Error('"endReadable()" called on non-empty stream');N.endEmitted||(N.ended=!0,le(ue,N,S))}function ue(S,N){S.endEmitted||S.length!==0||(S.endEmitted=!0,N.readable=!1,N.emit("end"))}function ce(S,N){for(var C=0,x=S.length;C<x;C++)if(S[C]===N)return C;return-1}var le=t(25);_.exports=b;var he,se=t(24);b.ReadableState=v;var e=(t(12).EventEmitter,function(S,N){return S.listeners(N).length}),i=t(35),n=t(41).Buffer,r=f.Uint8Array||function(){},o=t(11);o.inherits=t(22);var c=t(7),g=void 0;g=c&&c.debuglog?c.debuglog("stream"):function(){};var I,P=t(33),U=t(34);o.inherits(b,i);var B=["error","close","destroy","pause","resume"];Object.defineProperty(b.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(S){this._readableState&&(this._readableState.destroyed=S)}}),b.prototype.destroy=U.destroy,b.prototype._undestroy=U.undestroy,b.prototype._destroy=function(S,N){this.push(null),N(S)},b.prototype.push=function(S,N){var C,x=this._readableState;return x.objectMode?C=!0:typeof S=="string"&&(N=N||x.defaultEncoding,N!==x.encoding&&(S=n.from(S,N),N=""),C=!0),m(this,S,N,!1,C)},b.prototype.unshift=function(S){return m(this,S,null,!0,!1)},b.prototype.isPaused=function(){return this._readableState.flowing===!1},b.prototype.setEncoding=function(S){return I||(I=t(44).StringDecoder),this._readableState.decoder=new I(S),this._readableState.encoding=S,this};var te=8388608;b.prototype.read=function(S){g("read",S),S=parseInt(S,10);var N=this._readableState,C=S;if(S!==0&&(N.emittedReadable=!1),S===0&&N.needReadable&&(N.length>=N.highWaterMark||N.ended))return g("read: emitReadable",N.length,N.ended),N.length===0&&N.ended?re(this):q(this),null;if((S=L(S,N))===0&&N.ended)return N.length===0&&re(this),null;var x=N.needReadable;g("need readable",x),(N.length===0||N.length-S<N.highWaterMark)&&(x=!0,g("length less than watermark",x)),N.ended||N.reading?(x=!1,g("reading or ended",x)):x&&(g("do read"),N.reading=!0,N.sync=!0,N.length===0&&(N.needReadable=!0),this._read(N.highWaterMark),N.sync=!1,N.reading||(S=L(C,N)));var z;return z=S>0?ee(S,N):null,z===null?(N.needReadable=!0,S=0):N.length-=S,N.length===0&&(N.ended||(N.needReadable=!0),C!==S&&N.ended&&re(this)),z!==null&&this.emit("data",z),z},b.prototype._read=function(S){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(S,N){function C(Ee,we){g("onunpipe"),Ee===H&&we&&we.hasUnpiped===!1&&(we.hasUnpiped=!0,z())}function x(){g("onend"),S.end()}function z(){g("cleanup"),S.removeListener("close",Q),S.removeListener("finish",d),S.removeListener("drain",ve),S.removeListener("error",K),S.removeListener("unpipe",C),H.removeListener("end",x),H.removeListener("end",A),H.removeListener("data",Y),ge=!0,!j.awaitDrain||S._writableState&&!S._writableState.needDrain||ve()}function Y(Ee){g("ondata"),ye=!1,S.write(Ee)!==!1||ye||((j.pipesCount===1&&j.pipes===S||j.pipesCount>1&&ce(j.pipes,S)!==-1)&&!ge&&(g("false write response, pause",H._readableState.awaitDrain),H._readableState.awaitDrain++,ye=!0),H.pause())}function K(Ee){g("onerror",Ee),A(),S.removeListener("error",K),e(S,"error")===0&&S.emit("error",Ee)}function Q(){S.removeListener("finish",d),A()}function d(){g("onfinish"),S.removeListener("close",Q),A()}function A(){g("unpipe"),H.unpipe(S)}var H=this,j=this._readableState;switch(j.pipesCount){case 0:j.pipes=S;break;case 1:j.pipes=[j.pipes,S];break;default:j.pipes.push(S)}j.pipesCount+=1,g("pipe count=%d opts=%j",j.pipesCount,N);var J=(!N||N.end!==!1)&&S!==l.stdout&&S!==l.stderr,oe=J?x:A;j.endEmitted?le(oe):H.once("end",oe),S.on("unpipe",C);var ve=M(H);S.on("drain",ve);var ge=!1,ye=!1;return H.on("data",Y),y(S,"error",K),S.once("close",Q),S.once("finish",d),S.emit("pipe",H),j.flowing||(g("pipe resume"),H.resume()),S},b.prototype.unpipe=function(S){var N=this._readableState,C={hasUnpiped:!1};if(N.pipesCount===0)return this;if(N.pipesCount===1)return S&&S!==N.pipes?this:(S||(S=N.pipes),N.pipes=null,N.pipesCount=0,N.flowing=!1,S&&S.emit("unpipe",this,C),this);if(!S){var x=N.pipes,z=N.pipesCount;N.pipes=null,N.pipesCount=0,N.flowing=!1;for(var Y=0;Y<z;Y++)x[Y].emit("unpipe",this,C);return this}var K=ce(N.pipes,S);return K===-1?this:(N.pipes.splice(K,1),N.pipesCount-=1,N.pipesCount===1&&(N.pipes=N.pipes[0]),S.emit("unpipe",this,C),this)},b.prototype.on=function(S,N){var C=i.prototype.on.call(this,S,N);if(S==="data")this._readableState.flowing!==!1&&this.resume();else if(S==="readable"){var x=this._readableState;x.endEmitted||x.readableListening||(x.readableListening=x.needReadable=!0,x.emittedReadable=!1,x.reading?x.length&&q(this):le(X,this))}return C},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var S=this._readableState;return S.flowing||(g("resume"),S.flowing=!0,w(this,S)),this},b.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(S){var N=this._readableState,C=!1,x=this;S.on("end",function(){if(g("wrapped end"),N.decoder&&!N.ended){var K=N.decoder.end();K&&K.length&&x.push(K)}x.push(null)}),S.on("data",function(K){g("wrapped data"),N.decoder&&(K=N.decoder.write(K)),(!N.objectMode||K!=null)&&(N.objectMode||K&&K.length)&&(x.push(K)||(C=!0,S.pause()))});for(var z in S)this[z]===void 0&&typeof S[z]=="function"&&(this[z]=function(K){return function(){return S[K].apply(S,arguments)}}(z));for(var Y=0;Y<B.length;Y++)S.on(B[Y],x.emit.bind(x,B[Y]));return x._read=function(K){g("wrapped _read",K),C&&(C=!1,S.resume())},x},b._fromList=ee}).call(this,t(26),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{11:11,12:12,22:22,24:24,25:25,26:26,28:28,33:33,34:34,35:35,41:41,44:44,7:7}],31:[function(t,_,h){function l(b){this.afterTransform=function(m,T){return f(b,m,T)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function f(b,m,T){var R=b._transformState;R.transforming=!1;var E=R.writecb;if(!E)return b.emit("error",new Error("write callback called multiple times"));R.writechunk=null,R.writecb=null,T!=null&&b.push(T),E(m);var F=b._readableState;F.reading=!1,(F.needReadable||F.length<F.highWaterMark)&&b._read(F.highWaterMark)}function p(b){if(!(this instanceof p))return new p(b);y.call(this,b),this._transformState=new l(this);var m=this;this._readableState.needReadable=!0,this._readableState.sync=!1,b&&(typeof b.transform=="function"&&(this._transform=b.transform),typeof b.flush=="function"&&(this._flush=b.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(T,R){u(m,T,R)}):u(m)})}function u(b,m,T){if(m)return b.emit("error",m);T!=null&&b.push(T);var R=b._writableState,E=b._transformState;if(R.length)throw new Error("Calling transform done when ws.length != 0");if(E.transforming)throw new Error("Calling transform done when still transforming");return b.push(null)}_.exports=p;var y=t(28),v=t(11);v.inherits=t(22),v.inherits(p,y),p.prototype.push=function(b,m){return this._transformState.needTransform=!1,y.prototype.push.call(this,b,m)},p.prototype._transform=function(b,m,T){throw new Error("_transform() is not implemented")},p.prototype._write=function(b,m,T){var R=this._transformState;if(R.writecb=T,R.writechunk=b,R.writeencoding=m,!R.transforming){var E=this._readableState;(R.needTransform||E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}},p.prototype._read=function(b){var m=this._transformState;m.writechunk!==null&&m.writecb&&!m.transforming?(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform)):m.needTransform=!0},p.prototype._destroy=function(b,m){var T=this;y.prototype._destroy.call(this,b,function(R){m(R),T.emit("close")})}},{11:11,22:22,28:28}],32:[function(t,_,h){(function(l,f){function p(n){var r=this;this.next=null,this.entry=null,this.finish=function(){de(r,n)}}function u(n){return he.from(n)}function y(n){return he.isBuffer(n)||n instanceof se}function v(){}function b(n,r){W=W||t(28),n=n||{},this.objectMode=!!n.objectMode,r instanceof W&&(this.objectMode=this.objectMode||!!n.writableObjectMode);var o=n.highWaterMark,c=this.objectMode?16:16384;this.highWaterMark=o||o===0?o:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var g=n.decodeStrings===!1;this.decodeStrings=!g,this.defaultEncoding=n.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(I){Z(r,I)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new p(this)}function m(n){if(W=W||t(28),!(i.call(m,this)||this instanceof W))return new m(n);this._writableState=new b(n,this),this.writable=!0,n&&(typeof n.write=="function"&&(this._write=n.write),typeof n.writev=="function"&&(this._writev=n.writev),typeof n.destroy=="function"&&(this._destroy=n.destroy),typeof n.final=="function"&&(this._final=n.final)),le.call(this)}function T(n,r){var o=new Error("write after end");n.emit("error",o),ie(r,o)}function R(n,r,o,c){var g=!0,I=!1;return o===null?I=new TypeError("May not write null values to stream"):typeof o=="string"||o===void 0||r.objectMode||(I=new TypeError("Invalid non-string/buffer chunk")),I&&(n.emit("error",I),ie(c,I),g=!1),g}function E(n,r,o){return n.objectMode||n.decodeStrings===!1||typeof r!="string"||(r=he.from(r,o)),r}function F(n,r,o,c,g,I){if(!o){var P=E(r,c,g);c!==P&&(o=!0,g="buffer",c=P)}var U=r.objectMode?1:c.length;r.length+=U;var B=r.length<r.highWaterMark;if(B||(r.needDrain=!0),r.writing||r.corked){var te=r.lastBufferedRequest;r.lastBufferedRequest={chunk:c,encoding:g,isBuf:o,callback:I,next:null},te?te.next=r.lastBufferedRequest:r.bufferedRequest=r.lastBufferedRequest,r.bufferedRequestCount+=1}else L(n,r,!1,U,c,g,I);return B}function L(n,r,o,c,g,I,P){r.writelen=c,r.writecb=P,r.writing=!0,r.sync=!0,o?n._writev(g,r.onwrite):n._write(g,I,r.onwrite),r.sync=!1}function k(n,r,o,c,g){--r.pendingcb,o?(ie(g,c),ie(G,n,r),n._writableState.errorEmitted=!0,n.emit("error",c)):(g(c),n._writableState.errorEmitted=!0,n.emit("error",c),G(n,r))}function q(n){n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0}function Z(n,r){var o=n._writableState,c=o.sync,g=o.writecb;if(q(o),r)k(n,o,c,r,g);else{var I=X(o);I||o.corked||o.bufferProcessing||!o.bufferedRequest||M(n,o),c?re(V,n,o,I,g):V(n,o,I,g)}}function V(n,r,o,c){o||D(n,r),r.pendingcb--,c(),G(n,r)}function D(n,r){r.length===0&&r.needDrain&&(r.needDrain=!1,n.emit("drain"))}function M(n,r){r.bufferProcessing=!0;var o=r.bufferedRequest;if(n._writev&&o&&o.next){var c=r.bufferedRequestCount,g=new Array(c),I=r.corkedRequestsFree;I.entry=o;for(var P=0,U=!0;o;)g[P]=o,o.isBuf||(U=!1),o=o.next,P+=1;g.allBuffers=U,L(n,r,!0,r.length,g,"",I.finish),r.pendingcb++,r.lastBufferedRequest=null,I.next?(r.corkedRequestsFree=I.next,I.next=null):r.corkedRequestsFree=new p(r)}else{for(;o;){var B=o.chunk,te=o.encoding,S=o.callback;if(L(n,r,!1,r.objectMode?1:B.length,B,te,S),o=o.next,r.writing)break}o===null&&(r.lastBufferedRequest=null)}r.bufferedRequestCount=0,r.bufferedRequest=o,r.bufferProcessing=!1}function X(n){return n.ending&&n.length===0&&n.bufferedRequest===null&&!n.finished&&!n.writing}function w(n,r){n._final(function(o){r.pendingcb--,o&&n.emit("error",o),r.prefinished=!0,n.emit("prefinish"),G(n,r)})}function O(n,r){r.prefinished||r.finalCalled||(typeof n._final=="function"?(r.pendingcb++,r.finalCalled=!0,ie(w,n,r)):(r.prefinished=!0,n.emit("prefinish")))}function G(n,r){var o=X(r);return o&&(O(n,r),r.pendingcb===0&&(r.finished=!0,n.emit("finish"))),o}function ee(n,r,o){r.ending=!0,G(n,r),o&&(r.finished?ie(o):n.once("finish",o)),r.ended=!0,n.writable=!1}function de(n,r,o){var c=n.entry;for(n.entry=null;c;){var g=c.callback;r.pendingcb--,g(o),c=c.next}r.corkedRequestsFree?r.corkedRequestsFree.next=n:r.corkedRequestsFree=n}var ie=t(25);_.exports=m;var W,re=!l.browser&&["v0.10","v0.9."].indexOf(l.version.slice(0,5))>-1?setImmediate:ie;m.WritableState=b;var ue=t(11);ue.inherits=t(22);var ce={deprecate:t(45)},le=t(35),he=t(41).Buffer,se=f.Uint8Array||function(){},e=t(34);ue.inherits(m,le),b.prototype.getBuffer=function(){for(var n=this.bufferedRequest,r=[];n;)r.push(n),n=n.next;return r},function(){try{Object.defineProperty(b.prototype,"buffer",{get:ce.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var i;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(i=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(n){return!!i.call(this,n)||n&&n._writableState instanceof b}})):i=function(n){return n instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(n,r,o){var c=this._writableState,g=!1,I=y(n)&&!c.objectMode;return I&&!he.isBuffer(n)&&(n=u(n)),typeof r=="function"&&(o=r,r=null),I?r="buffer":r||(r=c.defaultEncoding),typeof o!="function"&&(o=v),c.ended?T(this,o):(I||R(this,c,n,o))&&(c.pendingcb++,g=F(this,c,I,n,r,o)),g},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var n=this._writableState;n.corked&&(n.corked--,n.writing||n.corked||n.finished||n.bufferProcessing||!n.bufferedRequest||M(this,n))},m.prototype.setDefaultEncoding=function(n){if(typeof n=="string"&&(n=n.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((n+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+n);return this._writableState.defaultEncoding=n,this},m.prototype._write=function(n,r,o){o(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(n,r,o){var c=this._writableState;typeof n=="function"?(o=n,n=null,r=null):typeof r=="function"&&(o=r,r=null),n!=null&&this.write(n,r),c.corked&&(c.corked=1,this.uncork()),c.ending||c.finished||ee(this,c,o)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(n){this._writableState&&(this._writableState.destroyed=n)}}),m.prototype.destroy=e.destroy,m.prototype._undestroy=e.undestroy,m.prototype._destroy=function(n,r){this.end(),r(n)}}).call(this,t(26),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{11:11,22:22,25:25,26:26,28:28,34:34,35:35,41:41,45:45}],33:[function(t,_,h){function l(u,y){if(!(u instanceof y))throw new TypeError("Cannot call a class as a function")}function f(u,y,v){u.copy(y,v)}var p=t(41).Buffer;_.exports=function(){function u(){l(this,u),this.head=null,this.tail=null,this.length=0}return u.prototype.push=function(y){var v={data:y,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length},u.prototype.unshift=function(y){var v={data:y,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length},u.prototype.shift=function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}},u.prototype.clear=function(){this.head=this.tail=null,this.length=0},u.prototype.join=function(y){if(this.length===0)return"";for(var v=this.head,b=""+v.data;v=v.next;)b+=y+v.data;return b},u.prototype.concat=function(y){if(this.length===0)return p.alloc(0);if(this.length===1)return this.head.data;for(var v=p.allocUnsafe(y>>>0),b=this.head,m=0;b;)f(b.data,v,m),m+=b.data.length,b=b.next;return v},u}()},{41:41}],34:[function(t,_,h){function l(y,v){var b=this,m=this._readableState&&this._readableState.destroyed,T=this._writableState&&this._writableState.destroyed;if(m||T)return void(v?v(y):!y||this._writableState&&this._writableState.errorEmitted||u(p,this,y));this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(y||null,function(R){!v&&R?(u(p,b,R),b._writableState&&(b._writableState.errorEmitted=!0)):v&&v(R)})}function f(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function p(y,v){y.emit("error",v)}var u=t(25);_.exports={destroy:l,undestroy:f}},{25:25}],35:[function(t,_,h){_.exports=t(12).EventEmitter},{12:12}],36:[function(t,_,h){_.exports=t(37).PassThrough},{37:37}],37:[function(t,_,h){h=_.exports=t(30),h.Stream=h,h.Readable=h,h.Writable=t(32),h.Duplex=t(28),h.Transform=t(31),h.PassThrough=t(29)},{28:28,29:29,30:30,31:31,32:32}],38:[function(t,_,h){_.exports=t(37).Transform},{37:37}],39:[function(t,_,h){_.exports=t(32)},{32:32}],40:[function(t,_,h){var l=h.decimalAdjust=function(f,p,u){return u===void 0||+u==0?Math[f](p):(p=+p,u=+u,isNaN(p)||typeof u!="number"||u%1!=0?NaN:(p=p.toString().split("e"),p=Math[f](+(p[0]+"e"+(p[1]?+p[1]-u:-u))),p=p.toString().split("e"),+(p[0]+"e"+(p[1]?+p[1]+u:u))))};_.exports={round10:function(f,p){return l("round",f,p)},floor10:function(f,p){return l("floor",f,p)},ceil10:function(f,p){return l("ceil",f,p)}},_.exports.polyfill=function(){Math.round10||(Math.round10=_.exports.round10),Math.floor10||(Math.floor10=_.exports.floor10),Math.ceil10||(Math.ceil10=_.exports.ceil10)}},{}],41:[function(t,_,h){function l(y,v){for(var b in y)v[b]=y[b]}function f(y,v,b){return u(y,v,b)}var p=t(9),u=p.Buffer;u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?_.exports=p:(l(p,h),h.Buffer=f),l(u,f),f.from=function(y,v,b){if(typeof y=="number")throw new TypeError("Argument must not be a number");return u(y,v,b)},f.alloc=function(y,v,b){if(typeof y!="number")throw new TypeError("Argument must be a number");var m=u(y);return v!==void 0?typeof b=="string"?m.fill(v,b):m.fill(v):m.fill(0),m},f.allocUnsafe=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return u(y)},f.allocUnsafeSlow=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return p.SlowBuffer(y)}},{9:9}],42:[function(t,_,h){(function(l){(function(f){function p(C,x){if(!(this instanceof p))return new p(C,x);var z=this;y(z),z.q=z.c="",z.bufferCheckPosition=f.MAX_BUFFER_LENGTH,z.opt=x||{},z.opt.lowercase=z.opt.lowercase||z.opt.lowercasetags,z.looseCase=z.opt.lowercase?"toLowerCase":"toUpperCase",z.tags=[],z.closed=z.closedRoot=z.sawRoot=!1,z.tag=z.error=null,z.strict=!!C,z.noscript=!(!C&&!z.opt.noscript),z.state=S.BEGIN,z.strictEntities=z.opt.strictEntities,z.ENTITIES=z.strictEntities?Object.create(f.XML_ENTITIES):Object.create(f.ENTITIES),z.attribList=[],z.opt.xmlns&&(z.ns=Object.create(I)),z.trackPosition=z.opt.position!==!1,z.trackPosition&&(z.position=z.line=z.column=0),L(z,"onready")}function u(C){for(var x=Math.max(f.MAX_BUFFER_LENGTH,10),z=0,Y=0,K=ue.length;Y<K;Y++){var Q=C[ue[Y]].length;if(Q>x)switch(ue[Y]){case"textNode":q(C);break;case"cdata":k(C,"oncdata",C.cdata),C.cdata="";break;case"script":k(C,"onscript",C.script),C.script="";break;default:V(C,"Max buffer length exceeded: "+ue[Y])}z=Math.max(z,Q)}var d=f.MAX_BUFFER_LENGTH-z;C.bufferCheckPosition=d+C.position}function y(C){for(var x=0,z=ue.length;x<z;x++)C[ue[x]]=""}function v(C){q(C),C.cdata!==""&&(k(C,"oncdata",C.cdata),C.cdata=""),C.script!==""&&(k(C,"onscript",C.script),C.script="")}function b(C,x){return new m(C,x)}function m(C,x){if(!(this instanceof m))return new m(C,x);ce.apply(this),this._parser=new p(C,x),this.writable=!0,this.readable=!0;var z=this;this._parser.onend=function(){z.emit("end")},this._parser.onerror=function(Y){z.emit("error",Y),z._parser.error=null},this._decoder=null,le.forEach(function(Y){Object.defineProperty(z,"on"+Y,{get:function(){return z._parser["on"+Y]},set:function(K){if(!K)return z.removeAllListeners(Y),z._parser["on"+Y]=K,K;z.on(Y,K)},enumerable:!0,configurable:!1})})}function T(C){return C.split("").reduce(function(x,z){return x[z]=!0,x},{})}function R(C){return Object.prototype.toString.call(C)==="[object RegExp]"}function E(C,x){return R(C)?!!x.match(C):C[x]}function F(C,x){return!E(C,x)}function L(C,x,z){C[x]&&C[x](z)}function k(C,x,z){C.textNode&&q(C),L(C,x,z)}function q(C){C.textNode=Z(C.opt,C.textNode),C.textNode&&L(C,"ontext",C.textNode),C.textNode=""}function Z(C,x){return C.trim&&(x=x.trim()),C.normalize&&(x=x.replace(/\s+/g," ")),x}function V(C,x){return q(C),C.trackPosition&&(x+=`
Line: `+C.line+`
Column: `+C.column+`
Char: `+C.c),x=new Error(x),C.error=x,L(C,"onerror",x),C}function D(C){return C.sawRoot&&!C.closedRoot&&M(C,"Unclosed root tag"),C.state!==S.BEGIN&&C.state!==S.BEGIN_WHITESPACE&&C.state!==S.TEXT&&V(C,"Unexpected end"),q(C),C.c="",C.closed=!0,L(C,"onend"),p.call(C,C.strict,C.opt),C}function M(C,x){if(typeof C!="object"||!(C instanceof p))throw new Error("bad call to strictFail");C.strict&&V(C,x)}function X(C){C.strict||(C.tagName=C.tagName[C.looseCase]());var x=C.tags[C.tags.length-1]||C,z=C.tag={name:C.tagName,attributes:{}};C.opt.xmlns&&(z.ns=x.ns),C.attribList.length=0,k(C,"onopentagstart",z)}function w(C,x){var z=C.indexOf(":"),Y=z<0?["",C]:C.split(":"),K=Y[0],Q=Y[1];return x&&C==="xmlns"&&(K="xmlns",Q=""),{prefix:K,local:Q}}function O(C){if(C.strict||(C.attribName=C.attribName[C.looseCase]()),C.attribList.indexOf(C.attribName)!==-1||C.tag.attributes.hasOwnProperty(C.attribName))return void(C.attribName=C.attribValue="");if(C.opt.xmlns){var x=w(C.attribName,!0),z=x.prefix,Y=x.local;if(z==="xmlns")if(Y==="xml"&&C.attribValue!==c)M(C,"xml: prefix must be bound to "+c+`
Actual: `+C.attribValue);else if(Y==="xmlns"&&C.attribValue!==g)M(C,"xmlns: prefix must be bound to "+g+`
Actual: `+C.attribValue);else{var K=C.tag,Q=C.tags[C.tags.length-1]||C;K.ns===Q.ns&&(K.ns=Object.create(Q.ns)),K.ns[Y]=C.attribValue}C.attribList.push([C.attribName,C.attribValue])}else C.tag.attributes[C.attribName]=C.attribValue,k(C,"onattribute",{name:C.attribName,value:C.attribValue});C.attribName=C.attribValue=""}function G(C,x){if(C.opt.xmlns){var z=C.tag,Y=w(C.tagName);z.prefix=Y.prefix,z.local=Y.local,z.uri=z.ns[Y.prefix]||"",z.prefix&&!z.uri&&(M(C,"Unbound namespace prefix: "+JSON.stringify(C.tagName)),z.uri=Y.prefix);var K=C.tags[C.tags.length-1]||C;z.ns&&K.ns!==z.ns&&Object.keys(z.ns).forEach(function(Ee){k(C,"onopennamespace",{prefix:Ee,uri:z.ns[Ee]})});for(var Q=0,d=C.attribList.length;Q<d;Q++){var A=C.attribList[Q],H=A[0],j=A[1],J=w(H,!0),oe=J.prefix,ve=J.local,ge=oe===""?"":z.ns[oe]||"",ye={name:H,value:j,prefix:oe,local:ve,uri:ge};oe&&oe!=="xmlns"&&!ge&&(M(C,"Unbound namespace prefix: "+JSON.stringify(oe)),ye.uri=oe),C.tag.attributes[H]=ye,k(C,"onattribute",ye)}C.attribList.length=0}C.tag.isSelfClosing=!!x,C.sawRoot=!0,C.tags.push(C.tag),k(C,"onopentag",C.tag),x||(C.noscript||C.tagName.toLowerCase()!=="script"?C.state=S.TEXT:C.state=S.SCRIPT,C.tag=null,C.tagName=""),C.attribName=C.attribValue="",C.attribList.length=0}function ee(C){if(!C.tagName)return M(C,"Weird empty close tag."),C.textNode+="</>",void(C.state=S.TEXT);if(C.script){if(C.tagName!=="script")return C.script+="</"+C.tagName+">",C.tagName="",void(C.state=S.SCRIPT);k(C,"onscript",C.script),C.script=""}var x=C.tags.length,z=C.tagName;C.strict||(z=z[C.looseCase]());for(var Y=z;x--&&C.tags[x].name!==Y;)M(C,"Unexpected close tag");if(x<0)return M(C,"Unmatched closing tag: "+C.tagName),C.textNode+="</"+C.tagName+">",void(C.state=S.TEXT);C.tagName=z;for(var K=C.tags.length;K-- >x;){var Q=C.tag=C.tags.pop();C.tagName=C.tag.name,k(C,"onclosetag",C.tagName);var d={};for(var A in Q.ns)d[A]=Q.ns[A];var H=C.tags[C.tags.length-1]||C;C.opt.xmlns&&Q.ns!==H.ns&&Object.keys(Q.ns).forEach(function(j){var J=Q.ns[j];k(C,"onclosenamespace",{prefix:j,uri:J})})}x===0&&(C.closedRoot=!0),C.tagName=C.attribValue=C.attribName="",C.attribList.length=0,C.state=S.TEXT}function de(C){var x,z=C.entity,Y=z.toLowerCase(),K="";return C.ENTITIES[z]?C.ENTITIES[z]:C.ENTITIES[Y]?C.ENTITIES[Y]:(z=Y,z.charAt(0)==="#"&&(z.charAt(1)==="x"?(z=z.slice(2),x=parseInt(z,16),K=x.toString(16)):(z=z.slice(1),x=parseInt(z,10),K=x.toString(10))),z=z.replace(/^0+/,""),K.toLowerCase()!==z?(M(C,"Invalid character entity"),"&"+C.entity+";"):String.fromCodePoint(x))}function ie(C,x){x==="<"?(C.state=S.OPEN_WAKA,C.startTagPosition=C.position):F(he,x)&&(M(C,"Non-whitespace before first tag."),C.textNode=x,C.state=S.TEXT)}function W(C,x){var z="";return x<C.length&&(z=C.charAt(x)),z}function re(C){var x=this;if(this.error)throw this.error;if(x.closed)return V(x,"Cannot write after close. Assign an onready handler.");if(C===null)return D(x);typeof C=="object"&&(C=C.toString());for(var z=0,Y="";Y=W(C,z++),x.c=Y,!!Y;)switch(x.trackPosition&&(x.position++,Y===`
`?(x.line++,x.column=0):x.column++),x.state){case S.BEGIN:if(x.state=S.BEGIN_WHITESPACE,Y==="\uFEFF")continue;ie(x,Y);continue;case S.BEGIN_WHITESPACE:ie(x,Y);continue;case S.TEXT:if(x.sawRoot&&!x.closedRoot){for(var K=z-1;Y&&Y!=="<"&&Y!=="&";)(Y=W(C,z++))&&x.trackPosition&&(x.position++,Y===`
`?(x.line++,x.column=0):x.column++);x.textNode+=C.substring(K,z-1)}Y!=="<"||x.sawRoot&&x.closedRoot&&!x.strict?(!F(he,Y)||x.sawRoot&&!x.closedRoot||M(x,"Text data outside of root node."),Y==="&"?x.state=S.TEXT_ENTITY:x.textNode+=Y):(x.state=S.OPEN_WAKA,x.startTagPosition=x.position);continue;case S.SCRIPT:Y==="<"?x.state=S.SCRIPT_ENDING:x.script+=Y;continue;case S.SCRIPT_ENDING:Y==="/"?x.state=S.CLOSE_TAG:(x.script+="<"+Y,x.state=S.SCRIPT);continue;case S.OPEN_WAKA:if(Y==="!")x.state=S.SGML_DECL,x.sgmlDecl="";else if(!E(he,Y))if(E(P,Y))x.state=S.OPEN_TAG,x.tagName=Y;else if(Y==="/")x.state=S.CLOSE_TAG,x.tagName="";else if(Y==="?")x.state=S.PROC_INST,x.procInstName=x.procInstBody="";else{if(M(x,"Unencoded <"),x.startTagPosition+1<x.position){var Q=x.position-x.startTagPosition;Y=new Array(Q).join(" ")+Y}x.textNode+="<"+Y,x.state=S.TEXT}continue;case S.SGML_DECL:(x.sgmlDecl+Y).toUpperCase()===r?(k(x,"onopencdata"),x.state=S.CDATA,x.sgmlDecl="",x.cdata=""):x.sgmlDecl+Y==="--"?(x.state=S.COMMENT,x.comment="",x.sgmlDecl=""):(x.sgmlDecl+Y).toUpperCase()===o?(x.state=S.DOCTYPE,(x.doctype||x.sawRoot)&&M(x,"Inappropriately located doctype declaration"),x.doctype="",x.sgmlDecl=""):Y===">"?(k(x,"onsgmldeclaration",x.sgmlDecl),x.sgmlDecl="",x.state=S.TEXT):(E(i,Y)&&(x.state=S.SGML_DECL_QUOTED),x.sgmlDecl+=Y);continue;case S.SGML_DECL_QUOTED:Y===x.q&&(x.state=S.SGML_DECL,x.q=""),x.sgmlDecl+=Y;continue;case S.DOCTYPE:Y===">"?(x.state=S.TEXT,k(x,"ondoctype",x.doctype),x.doctype=!0):(x.doctype+=Y,Y==="["?x.state=S.DOCTYPE_DTD:E(i,Y)&&(x.state=S.DOCTYPE_QUOTED,x.q=Y));continue;case S.DOCTYPE_QUOTED:x.doctype+=Y,Y===x.q&&(x.q="",x.state=S.DOCTYPE);continue;case S.DOCTYPE_DTD:x.doctype+=Y,Y==="]"?x.state=S.DOCTYPE:E(i,Y)&&(x.state=S.DOCTYPE_DTD_QUOTED,x.q=Y);continue;case S.DOCTYPE_DTD_QUOTED:x.doctype+=Y,Y===x.q&&(x.state=S.DOCTYPE_DTD,x.q="");continue;case S.COMMENT:Y==="-"?x.state=S.COMMENT_ENDING:x.comment+=Y;continue;case S.COMMENT_ENDING:Y==="-"?(x.state=S.COMMENT_ENDED,x.comment=Z(x.opt,x.comment),x.comment&&k(x,"oncomment",x.comment),x.comment=""):(x.comment+="-"+Y,x.state=S.COMMENT);continue;case S.COMMENT_ENDED:Y!==">"?(M(x,"Malformed comment"),x.comment+="--"+Y,x.state=S.COMMENT):x.state=S.TEXT;continue;case S.CDATA:Y==="]"?x.state=S.CDATA_ENDING:x.cdata+=Y;continue;case S.CDATA_ENDING:Y==="]"?x.state=S.CDATA_ENDING_2:(x.cdata+="]"+Y,x.state=S.CDATA);continue;case S.CDATA_ENDING_2:Y===">"?(x.cdata&&k(x,"oncdata",x.cdata),k(x,"onclosecdata"),x.cdata="",x.state=S.TEXT):Y==="]"?x.cdata+="]":(x.cdata+="]]"+Y,x.state=S.CDATA);continue;case S.PROC_INST:Y==="?"?x.state=S.PROC_INST_ENDING:E(he,Y)?x.state=S.PROC_INST_BODY:x.procInstName+=Y;continue;case S.PROC_INST_BODY:if(!x.procInstBody&&E(he,Y))continue;Y==="?"?x.state=S.PROC_INST_ENDING:x.procInstBody+=Y;continue;case S.PROC_INST_ENDING:Y===">"?(k(x,"onprocessinginstruction",{name:x.procInstName,body:x.procInstBody}),x.procInstName=x.procInstBody="",x.state=S.TEXT):(x.procInstBody+="?"+Y,x.state=S.PROC_INST_BODY);continue;case S.OPEN_TAG:E(U,Y)?x.tagName+=Y:(X(x),Y===">"?G(x):Y==="/"?x.state=S.OPEN_TAG_SLASH:(F(he,Y)&&M(x,"Invalid character in tag name"),x.state=S.ATTRIB));continue;case S.OPEN_TAG_SLASH:Y===">"?(G(x,!0),ee(x)):(M(x,"Forward-slash in opening tag not followed by >"),x.state=S.ATTRIB);continue;case S.ATTRIB:if(E(he,Y))continue;Y===">"?G(x):Y==="/"?x.state=S.OPEN_TAG_SLASH:E(P,Y)?(x.attribName=Y,x.attribValue="",x.state=S.ATTRIB_NAME):M(x,"Invalid attribute name");continue;case S.ATTRIB_NAME:Y==="="?x.state=S.ATTRIB_VALUE:Y===">"?(M(x,"Attribute without value"),x.attribValue=x.attribName,O(x),G(x)):E(he,Y)?x.state=S.ATTRIB_NAME_SAW_WHITE:E(U,Y)?x.attribName+=Y:M(x,"Invalid attribute name");continue;case S.ATTRIB_NAME_SAW_WHITE:if(Y==="=")x.state=S.ATTRIB_VALUE;else{if(E(he,Y))continue;M(x,"Attribute without value"),x.tag.attributes[x.attribName]="",x.attribValue="",k(x,"onattribute",{name:x.attribName,value:""}),x.attribName="",Y===">"?G(x):E(P,Y)?(x.attribName=Y,x.state=S.ATTRIB_NAME):(M(x,"Invalid attribute name"),x.state=S.ATTRIB)}continue;case S.ATTRIB_VALUE:if(E(he,Y))continue;E(i,Y)?(x.q=Y,x.state=S.ATTRIB_VALUE_QUOTED):(M(x,"Unquoted attribute value"),x.state=S.ATTRIB_VALUE_UNQUOTED,x.attribValue=Y);continue;case S.ATTRIB_VALUE_QUOTED:if(Y!==x.q){Y==="&"?x.state=S.ATTRIB_VALUE_ENTITY_Q:x.attribValue+=Y;continue}O(x),x.q="",x.state=S.ATTRIB_VALUE_CLOSED;continue;case S.ATTRIB_VALUE_CLOSED:E(he,Y)?x.state=S.ATTRIB:Y===">"?G(x):Y==="/"?x.state=S.OPEN_TAG_SLASH:E(P,Y)?(M(x,"No whitespace between attributes"),x.attribName=Y,x.attribValue="",x.state=S.ATTRIB_NAME):M(x,"Invalid attribute name");continue;case S.ATTRIB_VALUE_UNQUOTED:if(F(n,Y)){Y==="&"?x.state=S.ATTRIB_VALUE_ENTITY_U:x.attribValue+=Y;continue}O(x),Y===">"?G(x):x.state=S.ATTRIB;continue;case S.CLOSE_TAG:if(x.tagName)Y===">"?ee(x):E(U,Y)?x.tagName+=Y:x.script?(x.script+="</"+x.tagName,x.tagName="",x.state=S.SCRIPT):(F(he,Y)&&M(x,"Invalid tagname in closing tag"),x.state=S.CLOSE_TAG_SAW_WHITE);else{if(E(he,Y))continue;F(P,Y)?x.script?(x.script+="</"+Y,x.state=S.SCRIPT):M(x,"Invalid tagname in closing tag."):x.tagName=Y}continue;case S.CLOSE_TAG_SAW_WHITE:if(E(he,Y))continue;Y===">"?ee(x):M(x,"Invalid characters in closing tag");continue;case S.TEXT_ENTITY:case S.ATTRIB_VALUE_ENTITY_Q:case S.ATTRIB_VALUE_ENTITY_U:var d,A;switch(x.state){case S.TEXT_ENTITY:d=S.TEXT,A="textNode";break;case S.ATTRIB_VALUE_ENTITY_Q:d=S.ATTRIB_VALUE_QUOTED,A="attribValue";break;case S.ATTRIB_VALUE_ENTITY_U:d=S.ATTRIB_VALUE_UNQUOTED,A="attribValue"}Y===";"?(x[A]+=de(x),x.entity="",x.state=d):E(x.entity.length?te:B,Y)?x.entity+=Y:(M(x,"Invalid character in entity name"),x[A]+="&"+x.entity+Y,x.entity="",x.state=d);continue;default:throw new Error(x,"Unknown state: "+x.state)}return x.position>=x.bufferCheckPosition&&u(x),x}f.parser=function(C,x){return new p(C,x)},f.SAXParser=p,f.SAXStream=m,f.createStream=b,f.MAX_BUFFER_LENGTH=65536;var ue=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];f.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(C){function x(){}return x.prototype=C,new x}),Object.keys||(Object.keys=function(C){var x=[];for(var z in C)C.hasOwnProperty(z)&&x.push(z);return x}),p.prototype={end:function(){D(this)},write:re,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){v(this)}};var ce;try{ce=t(43).Stream}catch{ce=function(){}}var le=f.EVENTS.filter(function(C){return C!=="error"&&C!=="end"});m.prototype=Object.create(ce.prototype,{constructor:{value:m}}),m.prototype.write=function(C){if(typeof l=="function"&&typeof l.isBuffer=="function"&&l.isBuffer(C)){if(!this._decoder){var x=t(8).StringDecoder;this._decoder=new x("utf8")}C=this._decoder.write(C)}return this._parser.write(C.toString()),this.emit("data",C),!0},m.prototype.end=function(C){return C&&C.length&&this.write(C),this._parser.end(),!0},m.prototype.on=function(C,x){var z=this;return z._parser["on"+C]||le.indexOf(C)===-1||(z._parser["on"+C]=function(){var Y=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);Y.splice(0,0,C),z.emit.apply(z,Y)}),ce.prototype.on.call(z,C,x)};var he=`\r
	 `,se="0124356789",e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",i=`'"`,n=he+">",r="[CDATA[",o="DOCTYPE",c="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/2000/xmlns/",I={xml:c,xmlns:g};he=T(he),se=T(se),e=T(e);var P=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,U=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,B=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,te=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;i=T(i),n=T(n);var S=0;f.STATE={BEGIN:S++,BEGIN_WHITESPACE:S++,TEXT:S++,TEXT_ENTITY:S++,OPEN_WAKA:S++,SGML_DECL:S++,SGML_DECL_QUOTED:S++,DOCTYPE:S++,DOCTYPE_QUOTED:S++,DOCTYPE_DTD:S++,DOCTYPE_DTD_QUOTED:S++,COMMENT_STARTING:S++,COMMENT:S++,COMMENT_ENDING:S++,COMMENT_ENDED:S++,CDATA:S++,CDATA_ENDING:S++,CDATA_ENDING_2:S++,PROC_INST:S++,PROC_INST_BODY:S++,PROC_INST_ENDING:S++,OPEN_TAG:S++,OPEN_TAG_SLASH:S++,ATTRIB:S++,ATTRIB_NAME:S++,ATTRIB_NAME_SAW_WHITE:S++,ATTRIB_VALUE:S++,ATTRIB_VALUE_QUOTED:S++,ATTRIB_VALUE_CLOSED:S++,ATTRIB_VALUE_UNQUOTED:S++,ATTRIB_VALUE_ENTITY_Q:S++,ATTRIB_VALUE_ENTITY_U:S++,CLOSE_TAG:S++,CLOSE_TAG_SAW_WHITE:S++,SCRIPT:S++,SCRIPT_ENDING:S++},f.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},f.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(f.ENTITIES).forEach(function(C){var x=f.ENTITIES[C],z=typeof x=="number"?String.fromCharCode(x):x;f.ENTITIES[C]=z});for(var N in f.STATE)f.STATE[f.STATE[N]]=N;S=f.STATE,String.fromCodePoint||function(){var C=String.fromCharCode,x=Math.floor,z=function(){var Y,K,Q=16384,d=[],A=-1,H=arguments.length;if(!H)return"";for(var j="";++A<H;){var J=Number(arguments[A]);if(!isFinite(J)||J<0||J>1114111||x(J)!==J)throw RangeError("Invalid code point: "+J);J<=65535?d.push(J):(J-=65536,Y=55296+(J>>10),K=J%1024+56320,d.push(Y,K)),(A+1===H||d.length>Q)&&(j+=C.apply(null,d),d.length=0)}return j};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:z,configurable:!0,writable:!0}):String.fromCodePoint=z}()})(h===void 0?this.sax={}:h)}).call(this,t(9).Buffer)},{43:43,8:8,9:9}],43:[function(t,_,h){function l(){f.call(this)}_.exports=l;var f=t(12).EventEmitter;t(22)(l,f),l.Readable=t(37),l.Writable=t(39),l.Duplex=t(27),l.Transform=t(38),l.PassThrough=t(36),l.Stream=l,l.prototype.pipe=function(p,u){function y(L){p.writable&&p.write(L)===!1&&E.pause&&E.pause()}function v(){E.readable&&E.resume&&E.resume()}function b(){F||(F=!0,p.end())}function m(){F||(F=!0,typeof p.destroy=="function"&&p.destroy())}function T(L){if(R(),f.listenerCount(this,"error")===0)throw L}function R(){E.removeListener("data",y),p.removeListener("drain",v),E.removeListener("end",b),E.removeListener("close",m),E.removeListener("error",T),p.removeListener("error",T),E.removeListener("end",R),E.removeListener("close",R),p.removeListener("close",R)}var E=this;E.on("data",y),p.on("drain",v),p._isStdio||u&&u.end===!1||(E.on("end",b),E.on("close",m));var F=!1;return E.on("error",T),p.on("error",T),E.on("end",R),E.on("close",R),p.on("close",R),p.emit("pipe",E),p}},{12:12,22:22,27:27,36:36,37:37,38:38,39:39}],44:[function(t,_,h){function l(D){if(!D)return"utf8";for(var M;;)switch(D){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return D;default:if(M)return;D=(""+D).toLowerCase(),M=!0}}function f(D){var M=l(D);if(typeof M!="string"&&(Z.isEncoding===V||!V(D)))throw new Error("Unknown encoding: "+D);return M||D}function p(D){this.encoding=f(D);var M;switch(this.encoding){case"utf16le":this.text=R,this.end=E,M=4;break;case"utf8":this.fillLast=b,M=4;break;case"base64":this.text=F,this.end=L,M=3;break;default:return this.write=k,void(this.end=q)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Z.allocUnsafe(M)}function u(D){return D<=127?0:D>>5==6?2:D>>4==14?3:D>>3==30?4:-1}function y(D,M,X){var w=M.length-1;if(w<X)return 0;var O=u(M[w]);return O>=0?(O>0&&(D.lastNeed=O-1),O):--w<X?0:(O=u(M[w]))>=0?(O>0&&(D.lastNeed=O-2),O):--w<X?0:(O=u(M[w]),O>=0?(O>0&&(O===2?O=0:D.lastNeed=O-3),O):0)}function v(D,M,X){if((192&M[0])!=128)return D.lastNeed=0,"\uFFFD".repeat(X);if(D.lastNeed>1&&M.length>1){if((192&M[1])!=128)return D.lastNeed=1,"\uFFFD".repeat(X+1);if(D.lastNeed>2&&M.length>2&&(192&M[2])!=128)return D.lastNeed=2,"\uFFFD".repeat(X+2)}}function b(D){var M=this.lastTotal-this.lastNeed,X=v(this,D,M);return X!==void 0?X:this.lastNeed<=D.length?(D.copy(this.lastChar,M,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(D.copy(this.lastChar,M,0,D.length),void(this.lastNeed-=D.length))}function m(D,M){var X=y(this,D,M);if(!this.lastNeed)return D.toString("utf8",M);this.lastTotal=X;var w=D.length-(X-this.lastNeed);return D.copy(this.lastChar,0,w),D.toString("utf8",M,w)}function T(D){var M=D&&D.length?this.write(D):"";return this.lastNeed?M+"\uFFFD".repeat(this.lastTotal-this.lastNeed):M}function R(D,M){if((D.length-M)%2==0){var X=D.toString("utf16le",M);if(X){var w=X.charCodeAt(X.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1],X.slice(0,-1)}return X}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=D[D.length-1],D.toString("utf16le",M,D.length-1)}function E(D){var M=D&&D.length?this.write(D):"";if(this.lastNeed){var X=this.lastTotal-this.lastNeed;return M+this.lastChar.toString("utf16le",0,X)}return M}function F(D,M){var X=(D.length-M)%3;return X===0?D.toString("base64",M):(this.lastNeed=3-X,this.lastTotal=3,X===1?this.lastChar[0]=D[D.length-1]:(this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1]),D.toString("base64",M,D.length-X))}function L(D){var M=D&&D.length?this.write(D):"";return this.lastNeed?M+this.lastChar.toString("base64",0,3-this.lastNeed):M}function k(D){return D.toString(this.encoding)}function q(D){return D&&D.length?this.write(D):""}var Z=t(41).Buffer,V=Z.isEncoding||function(D){switch((D=""+D)&&D.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};h.StringDecoder=p,p.prototype.write=function(D){if(D.length===0)return"";var M,X;if(this.lastNeed){if((M=this.fillLast(D))===void 0)return"";X=this.lastNeed,this.lastNeed=0}else X=0;return X<D.length?M?M+this.text(D,X):this.text(D,X):M||""},p.prototype.end=T,p.prototype.text=m,p.prototype.fillLast=function(D){if(this.lastNeed<=D.length)return D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,D.length),this.lastNeed-=D.length}},{41:41}],45:[function(t,_,h){(function(l){function f(u,y){function v(){if(!b){if(p("throwDeprecation"))throw new Error(y);p("traceDeprecation")?console.trace(y):console.warn(y),b=!0}return u.apply(this,arguments)}if(p("noDeprecation"))return u;var b=!1;return v}function p(u){try{if(!l.localStorage)return!1}catch{return!1}var y=l.localStorage[u];return y!=null&&String(y).toLowerCase()==="true"}_.exports=f}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],46:[function(t,_,h){function l(T){return T&&T.__esModule?T:{default:T}}function f(){function T(){D=!0,M=!0,X=!1,w=new Date().getTime()}function R(O){M=O}function E(O){X=O}function F(O){D=O}function L(){return D}function k(){var O="",G=null;M&&(G=new Date().getTime(),O+="["+(G-w)+"]"),X&&this&&this.getClassName&&(O+="["+this.getClassName()+"]",this.getType&&(O+="["+this.getType()+"]")),O.length>0&&(O+=" "),Array.apply(null,arguments).forEach(function(ee){O+=ee+" "}),D&&console.log(O),Z.trigger(v.default.LOG,{message:O})}var q=this.context,Z=(0,u.default)(q).getInstance(),V=void 0,D=void 0,M=void 0,X=void 0,w=void 0;return V={log:k,setLogTimestampVisible:R,setCalleeNameVisible:E,setLogToBrowserConsole:F,getLogToBrowserConsole:L},T(),V}Object.defineProperty(h,"__esModule",{value:!0});var p=t(47),u=l(p),y=t(51),v=l(y),b=t(48),m=l(b);f.__dashjs_factory_name="Debug",h.default=m.default.getSingletonFactory(f),_.exports=h.default},{47:47,48:48,51:51}],47:[function(t,_,h){function l(m){return m&&m.__esModule?m:{default:m}}function f(){function m(k,q,Z){var V=arguments.length<=3||arguments[3]===void 0?y:arguments[3];if(!k)throw new Error("event type cannot be null or undefined");if(!q||typeof q!="function")throw new Error("listener must be a function: "+q);if(!(E(k,q,Z)>=0)){L[k]=L[k]||[];var D={callback:q,scope:Z,priority:V};L[k].some(function(M,X){if(M&&V>M.priority)return L[k].splice(X,0,D),!0})||L[k].push(D)}}function T(k,q,Z){if(k&&q&&L[k]){var V=E(k,q,Z);V<0||(L[k][V]=null)}}function R(k,q){if(k&&L[k]){if(q=q||{},q.hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");q.type=k,L[k]=L[k].filter(function(Z){return Z}),L[k].forEach(function(Z){return Z&&Z.callback.call(Z.scope,q)})}}function E(k,q,Z){var V=-1;return L[k]&&L[k].some(function(D,M){if(D&&D.callback===q&&(!Z||Z===D.scope))return V=M,!0}),V}function F(){L={}}var L={};return{on:m,off:T,trigger:R,reset:F}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p),y=0,v=5e3;f.__dashjs_factory_name="EventBus";var b=u.default.getSingletonFactory(f);b.EVENT_PRIORITY_LOW=y,b.EVENT_PRIORITY_HIGH=v,u.default.updateSingletonFactory(f.__dashjs_factory_name,b),h.default=b,_.exports=h.default},{48:48}],48:[function(t,_,h){Object.defineProperty(h,"__esModule",{value:!0});var l=function(){function f(w,O,G,ee){var de=q(ee);!de[w]&&O&&(de[w]={instance:O,override:G})}function p(w,O){for(var G in D){var ee=D[G];if(ee.context===w&&ee.name===O)return ee.instance}return null}function u(w,O,G){for(var ee in D){var de=D[ee];if(de.context===w&&de.name===O)return void(D[ee].instance=G)}D.push({name:O,context:w,instance:G})}function y(w,O,G){for(var ee in G)if(G[ee].name===w)return void(G[ee].factory=O);G.push({name:w,factory:O})}function v(w,O){for(var G in O)if(O[G].name===w)return O[G].factory;return null}function b(w,O,G){for(var ee in G)if(G[ee].name===w)return void(G[ee].factory=O)}function m(w,O){b(w,O,X)}function T(w){return v(w,X)}function R(w){var O=v(w.__dashjs_factory_name,X);return O||(O=function(G){return G===void 0&&(G={}),{create:function(){return k(w.__dashjs_factory_name,w.apply({context:G},arguments),G,arguments)}}},y(w.__dashjs_factory_name,O,X)),O}function E(w,O){b(w,O,M)}function F(w){return v(w,M)}function L(w){var O=v(w.__dashjs_factory_name,M);return O||(O=function(G){var ee=void 0;return G===void 0&&(G={}),{getInstance:function(){return ee||(ee=p(G,w.__dashjs_factory_name)),ee||(ee=k(w.__dashjs_factory_name,w.apply({context:G},arguments),G,arguments),D.push({name:w.__dashjs_factory_name,context:G,instance:ee})),ee}}},y(w.__dashjs_factory_name,O,M)),O}function k(w,O,G,ee){O.getClassName=function(){return w};var de=q(G),ie=de[w];if(ie){var W=ie.instance;if(!ie.override)return W.apply({context:G,factory:Z},ee);W=W.apply({context:G,factory:Z,parent:O},ee);for(var re in W)O.hasOwnProperty(re)&&(O[re]=W[re])}return O}function q(w){var O=void 0;return V.forEach(function(G){G===w&&(O=G)}),O||(V.push(w),O=w),O}var Z=void 0,V=[],D=[],M=[],X=[];return Z={extend:f,getSingletonInstance:p,setSingletonInstance:u,getSingletonFactory:L,getSingletonFactoryByName:F,updateSingletonFactory:E,getClassFactory:R,getClassFactoryByName:T,updateClassFactory:m}}();h.default=l,_.exports=h.default},{}],49:[function(t,_,h){function l(){return f}Object.defineProperty(h,"__esModule",{value:!0}),h.getVersionString=l;var f="2.6.7"},{}],50:[function(t,_,h){function l(m){return m&&m.__esModule?m:{default:m}}function f(m,T){if(!(m instanceof T))throw new TypeError("Cannot call a class as a function")}function p(m,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);m.prototype=Object.create(T&&T.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(m,T):m.__proto__=T)}Object.defineProperty(h,"__esModule",{value:!0});var u=function(m,T,R){for(var E=!0;E;){var F=m,L=T,k=R;E=!1,F===null&&(F=Function.prototype);var q=Object.getOwnPropertyDescriptor(F,L);if(q!==void 0){if("value"in q)return q.value;var Z=q.get;return Z===void 0?void 0:Z.call(k)}var V=Object.getPrototypeOf(F);if(V===null)return;m=V,T=L,R=k,E=!0,q=V=void 0}},y=t(52),v=l(y),b=function(m){function T(){f(this,T),u(Object.getPrototypeOf(T.prototype),"constructor",this).call(this),this.BUFFERING_COMPLETED="bufferingCompleted",this.BUFFER_CLEARED="bufferCleared",this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",this.BYTES_APPENDED="bytesAppended",this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",this.CURRENT_TRACK_CHANGED="currentTrackChanged",this.DATA_UPDATE_COMPLETED="dataUpdateCompleted",this.DATA_UPDATE_STARTED="dataUpdateStarted",this.INITIALIZATION_LOADED="initializationLoaded",this.INIT_FRAGMENT_LOADED="initFragmentLoaded",this.INIT_REQUESTED="initRequested",this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted",this.LOADING_COMPLETED="loadingCompleted",this.LOADING_PROGRESS="loadingProgress",this.LOADING_ABANDONED="loadingAborted",this.MANIFEST_UPDATED="manifestUpdated",this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",this.QUOTA_EXCEEDED="quotaExceeded",this.REPRESENTATION_UPDATED="representationUpdated",this.SEGMENTS_LOADED="segmentsLoaded",this.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted",this.STREAMS_COMPOSED="streamsComposed",this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",this.STREAM_COMPLETED="streamCompleted",this.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",this.TIMED_TEXT_REQUESTED="timedTextRequested",this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",this.URL_RESOLUTION_FAILED="urlResolutionFailed",this.VIDEO_CHUNK_RECEIVED="videoChunkReceived",this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",this.XLINK_ELEMENT_LOADED="xlinkElementLoaded",this.XLINK_READY="xlinkReady"}return p(T,m),T}(v.default);h.default=b,_.exports=h.default},{52:52}],51:[function(t,_,h){function l(T){return T&&T.__esModule?T:{default:T}}function f(T,R){if(!(T instanceof R))throw new TypeError("Cannot call a class as a function")}function p(T,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);T.prototype=Object.create(R&&R.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(T,R):T.__proto__=R)}Object.defineProperty(h,"__esModule",{value:!0});var u=function(T,R,E){for(var F=!0;F;){var L=T,k=R,q=E;F=!1,L===null&&(L=Function.prototype);var Z=Object.getOwnPropertyDescriptor(L,k);if(Z!==void 0){if("value"in Z)return Z.value;var V=Z.get;return V===void 0?void 0:V.call(q)}var D=Object.getPrototypeOf(L);if(D===null)return;T=D,R=k,E=q,F=!0,Z=D=void 0}},y=t(50),v=l(y),b=function(T){function R(){f(this,R),u(Object.getPrototypeOf(R.prototype),"constructor",this).apply(this,arguments)}return p(R,T),R}(v.default),m=new b;h.default=m,_.exports=h.default},{50:50}],52:[function(t,_,h){function l(u,y){if(!(u instanceof y))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function(){function u(y,v){for(var b=0;b<v.length;b++){var m=v[b];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(y,m.key,m)}}return function(y,v,b){return v&&u(y.prototype,v),b&&u(y,b),y}}(),p=function(){function u(){l(this,u)}return f(u,[{key:"extend",value:function(y,v){if(y){var b=!!v&&v.override,m=!!v&&v.publicOnly;for(var T in y)!y.hasOwnProperty(T)||this[T]&&!b||m&&y[T].indexOf("public_")===-1||(this[T]=y[T])}}}]),u}();h.default=p,_.exports=h.default},{}],53:[function(t,_,h){function l(M){return M&&M.__esModule?M:{default:M}}function f(){function M(){x()}function X(d){d&&d.dashManifestModel&&(Y=d.dashManifestModel)}function w(d,A){return A&&d?A.getRepresentationForQuality(d.quality):null}function O(d){return d&&d.streamInfo&&d.streamInfo.id!==void 0&&Q[d.streamInfo.id]?Q[d.streamInfo.id][d.index]:null}function G(d,A){for(var H=A.length,j=0;j<H;j++){var J=A[j];if(d.id===J.id)return J}return null}function ee(d){var A=new v.default,H=d.adaptation.period.mpd.manifest.Period_asArray[d.adaptation.period.index].AdaptationSet_asArray[d.adaptation.index],j=Y.getRepresentationFor(d.index,H);return A.id=d.id,A.quality=d.index,A.bandwidth=Y.getBandwidth(j),A.DVRWindow=d.segmentAvailabilityRange,A.fragmentDuration=d.segmentDuration||(d.segments&&d.segments.length>0?d.segments[0].duration:NaN),A.MSETimeOffset=d.MSETimeOffset,A.useCalculatedLiveEdgeTime=d.useCalculatedLiveEdgeTime,A.mediaInfo=de(d.adaptation),A}function de(d){var A=new m.default,H=d.period.mpd.manifest.Period_asArray[d.period.index].AdaptationSet_asArray[d.index],j=void 0;return A.id=d.id,A.index=d.index,A.type=d.type,A.streamInfo=re(d.period),A.representationCount=Y.getRepresentationCount(H),A.lang=Y.getLanguageForAdaptation(H),j=Y.getViewpointForAdaptation(H),A.viewpoint=j?j.value:void 0,A.accessibility=Y.getAccessibilityForAdaptation(H).map(function(J){var oe=J.value,ve=oe;return J.schemeIdUri&&J.schemeIdUri.search("cea-608")>=0&&D.default!==void 0&&(ve=oe?"cea-608:"+oe:"cea-608",A.embeddedCaptions=!0),ve}),A.audioChannelConfiguration=Y.getAudioChannelConfigurationForAdaptation(H).map(function(J){return J.value}),A.roles=Y.getRolesForAdaptation(H).map(function(J){return J.value}),A.codec=Y.getCodec(H),A.mimeType=Y.getMimeType(H),A.contentProtection=Y.getContentProtectionData(H),A.bitrateList=Y.getBitrateListForAdaptation(H),A.contentProtection&&A.contentProtection.forEach(function(J){J.KID=Y.getKID(J)}),A.isText=Y.getIsTextTrack(A.mimeType),A}function ie(d,A,H){d.id=A,d.index=100+parseInt(A.substring(2,3)),d.type=u.default.EMBEDDED_TEXT,d.codec="cea-608-in-SEI",d.isText=!0,d.isEmbedded=!0,d.lang=A+" "+H,d.roles=["caption"]}function W(d){d.type=u.default.IMAGE}function re(d){var A=new R.default;return A.id=d.id,A.index=d.index,A.start=d.start,A.duration=d.duration,A.manifestInfo=ue(d.mpd),A.isLast=d.mpd.manifest.Period_asArray.length===1||Math.abs(A.start+A.duration-A.manifestInfo.duration)<1,A}function ue(d){var A=new F.default;return A.DVRWindowSize=d.timeShiftBufferDepth,A.loadedTime=d.manifest.loadedTime,A.availableFrom=d.availabilityStartTime,A.minBufferTime=d.manifest.minBufferTime,A.maxFragmentDuration=d.maxSegmentDuration,A.duration=Y.getDuration(d.manifest),A.isDynamic=Y.getIsDynamic(d.manifest),A}function ce(d,A){if(K.length===0)return null;var H=K[0].mpd.manifest,j=Y.getAdaptationForType(H,d.index,A,d);if(!j)return null;var J=G(d,K),oe=J.id,ve=Y.getIndexForAdaptation(j,H,d.index);return Q[oe]=Q[oe]||Y.getAdaptationsForPeriod(J),de(Q[oe][ve])}function le(d,A,H){var j=K,J=H,oe=[],ve=void 0,ge=void 0,ye=void 0,Ee=void 0,we=void 0,Ne=void 0;if(J){he();var Ce=Y.getMpd(J);j=Y.getRegularPeriods(Ce)}else{if(!(K.length>0))return oe;J=K[0].mpd.manifest}var xe=G(d,j),Se=xe.id,Le=Y.getAdaptationsForType(J,d.index,A!==u.default.EMBEDDED_TEXT?A:u.default.VIDEO);if(!Le)return oe;for(Q[Se]=Q[Se]||Y.getAdaptationsForPeriod(xe),Ee=0,Ne=Le.length;Ee<Ne;Ee++)if(ve=Le[Ee],ye=Y.getIndexForAdaptation(ve,J,d.index),ge=de(Q[Se][ye]),A===u.default.EMBEDDED_TEXT){var ke=ge.accessibility.length;for(we=0;we<ke;we++)if(ge){var $e=ge.accessibility[we];if($e.indexOf("cea-608:")===0){var Xe=$e.substring(8),ze=Xe.split(";");if(ze[0].substring(0,2)==="CC")for(we=0;we<ze.length;we++)ge||(ge=de.call(this,Q[Se][ye])),ie(ge,ze[we].substring(0,3),ze[we].substring(4)),oe.push(ge),ge=null;else for(we=0;we<ze.length;we++)ge||(ge=de.call(this,Q[Se][ye])),ie(ge,"CC"+(we+1),ze[we]),oe.push(ge),ge=null}else $e.indexOf("cea-608")===0&&(ie(ge,u.default.CC1,"eng"),oe.push(ge),ge=null)}}else A===u.default.IMAGE?(W(ge),oe.push(ge),ge=null):ge&&oe.push(ge);return oe}function he(){if(!Y||!Y.hasOwnProperty("getMpd")||!Y.hasOwnProperty("getRegularPeriods"))throw new Error("setConfig function has to be called previously")}function se(d){if(!d)return null;he();var A=Y.getMpd(d);K=Y.getRegularPeriods(A),Q={}}function e(d){var A=[],H=K;if(d){he();var j=Y.getMpd(d);H=Y.getRegularPeriods(j)}for(var J=0;J<H.length;J++)A.push(re(H[J]));return A}function i(d){if(!(d&&d.hasOwnProperty("getRepresentationController")&&d.hasOwnProperty("getIndexHandler")&&d.hasOwnProperty("getMediaInfo")&&d.hasOwnProperty("getType")&&d.hasOwnProperty("getStreamInfo")))throw new Error("streamProcessor parameter is missing or malformed!")}function n(d){if(!d||!d.hasOwnProperty("getRepresentationForQuality")||!d.hasOwnProperty("getCurrentRepresentation"))throw new Error("representationController parameter is missing or malformed!")}function r(d){if(d===null||isNaN(d)||d%1!=0)throw new Error("quality argument is not an integer")}function o(d,A){var H=void 0,j=void 0,J=void 0;return i(d),r(A),H=d.getRepresentationController(),J=d.getIndexHandler(),j=H?H.getRepresentationForQuality(A):null,J?J.getInitRequest(j):null}function c(d,A){var H=void 0,j=void 0,J=void 0;return i(d),H=d.getRepresentationController(),j=w(A,H),J=d.getIndexHandler(),J?J.getNextSegmentRequest(j):null}function g(d,A,H,j){var J=void 0,oe=void 0,ve=void 0;return i(d),J=d.getRepresentationController(),oe=w(A,J),ve=d.getIndexHandler(),ve?ve.getSegmentRequestForTime(oe,H,j):null}function I(d,A,H){var j=void 0,J=void 0,oe=void 0;return i(d),j=d.getRepresentationController(),J=w(A,j),oe=d.getIndexHandler(),oe?oe.generateSegmentRequestForTime(J,H):null}function P(d){i(d);var A=d.getIndexHandler();return A?A.getCurrentTime():NaN}function U(d,A){i(d);var H=d.getIndexHandler();H&&H.setCurrentTime(A)}function B(d){i(d);var A=G(d.getStreamInfo(),K),H=d.getMediaInfo(),j=O(H),J=d.getType(),oe=void 0,ve=void 0;oe=H?H.id:null,K.length>0&&(ve=oe?Y.getAdaptationForId(oe,K[0].mpd.manifest,A.index):Y.getAdaptationForIndex(H.index,K[0].mpd.manifest,A.index),d.getRepresentationController().updateData(ve,j,J))}function te(d,A){n(d),r(A);var H=d.getRepresentationForQuality(A);return H?ee(H):null}function S(d){n(d);var A=d.getCurrentRepresentation();return A?ee(A):null}function N(d,A,H){if(!d||!A)return null;var j=new k.default,J=d.scheme_id_uri,oe=d.value,ve=d.timescale,ge=d.presentation_time_delta,ye=d.event_duration,Ee=d.id,we=d.message_data,Ne=H*ve+ge;return A[J]?(j.eventStream=A[J],j.eventStream.value=oe,j.eventStream.timescale=ve,j.duration=ye,j.id=Ee,j.presentationTime=Ne,j.messageData=we,j.presentationTimeDelta=ge,j):null}function C(d,A){var H=[];if(K.length===0)return H;var j=K[0].mpd.manifest;return d instanceof R.default?H=Y.getEventsForPeriod(G(d,K)):d instanceof m.default?H=Y.getEventStreamForAdaptationSet(j,O(d)):d instanceof v.default&&(H=Y.getEventStreamForRepresentation(j,w(d,A.getRepresentationController()))),H}function x(){K=[],Q={}}var z=void 0,Y=void 0,K=void 0,Q=void 0;return z={convertDataToRepresentationInfo:ee,getDataForMedia:O,getStreamsInfo:e,getMediaInfoForType:ce,getAllMediaInfoForType:le,getCurrentRepresentationInfo:S,getRepresentationInfoForQuality:te,updateData:B,getInitRequest:o,getNextFragmentRequest:c,getFragmentRequestForTime:g,generateFragmentRequestForTime:I,getIndexHandlerTime:P,setIndexHandlerTime:U,getEventsFor:C,getEvent:N,setConfig:X,updatePeriods:se,reset:x},M(),z}Object.defineProperty(h,"__esModule",{value:!0});var p=t(98),u=l(p),y=t(168),v=l(y),b=t(166),m=l(b),T=t(169),R=l(T),E=t(165),F=l(E),L=t(80),k=l(L),q=t(48),Z=l(q),V=t(2),D=l(V);f.__dashjs_factory_name="DashAdapter",h.default=Z.default.getSingletonFactory(f),_.exports=h.default},{165:165,166:166,168:168,169:169,2:2,48:48,80:80,98:98}],54:[function(t,_,h){function l(se){return se&&se.__esModule?se:{default:se}}function f(se){function e(){Le=(0,M.default)(J).getInstance().log.bind(Se),I(),ge=i(se.mimeType)?(0,ce.default)(J).getInstance():(0,re.default)(J).getInstance(),ge.setConfig({baseURLController:xe,metricsModel:we,mediaPlayerModel:Ne,errHandler:Ce}),oe.on(L.default.INITIALIZATION_LOADED,H,Se),oe.on(L.default.SEGMENTS_LOADED,j,Se)}function i(Ae){return Ae.split("/")[1].toLowerCase()==="webm"}function n(Ae){Ie=Ae;var Me=Ie?Ie.getStreamInfo().manifestInfo.isDynamic:null;ge.initialize(),Be=(0,ie.default)(J).create(se,Me)}function r(){return Ie}function o(Ae){Xe=Ae}function c(){return Xe}function g(){return ze}function I(){ke=-1,Xe=0,ze=NaN,$e=null,Ie=null,Be=null}function P(){I(),oe.off(L.default.INITIALIZATION_LOADED,H,Se),oe.off(L.default.SEGMENTS_LOADED,j,Se)}function U(Ae,Me,je){var He=xe.resolve(je.path),Pe=void 0,Re=void 0;return He&&Me!==He.url&&ve.isRelative(Me)?(Pe=He.url,Re=He.serviceLocation,Me&&(Pe=ve.resolve(Me,Pe))):Pe=Me,!ve.isRelative(Pe)&&(Ae.url=Pe,Ae.serviceLocation=Re,!0)}function B(Ae,Me){var je=new m.default,He=Ae.adaptation.period,Pe=He.start,Re=Ie?Ie.getStreamInfo().manifestInfo.isDynamic:null;if(je.mediaType=Me,je.type=E.HTTPRequest.INIT_SEGMENT_TYPE,je.range=Ae.range,je.availabilityStartTime=ye.calcAvailabilityStartTimeFromPresentationTime(Pe,He.mpd,Re),je.availabilityEndTime=ye.calcAvailabilityEndTimeFromPresentationTime(Pe+He.duration,He.mpd,Re),je.quality=Ae.index,je.mediaInfo=Ie?Ie.getMediaInfo():null,je.representationId=Ae.id,U(je,Ae.initialization,Ae))return je}function te(Ae){var Me=Ie?Ie.getType():null;return Ae?B(Ae,Me):null}function S(Ae){var Me=!1,je=Ie?Ie.getStreamInfo().manifestInfo.isDynamic:null;if(je||ke!==Ae.availableSegmentsNumber){var He=(0,ee.getSegmentByIndex)(ke,Ae);if(He){var Pe=parseFloat((He.presentationStartTime-Ae.adaptation.period.start).toFixed(5)),Re=Ae.adaptation.period.duration;Le(Ae.segmentInfoType+": "+Pe+" / "+Re),Me=(Ae.segmentInfoType!==v.default.SEGMENT_TIMELINE||!je)&&Pe>=Re}else Le("isMediaFinished - no segment found")}else Me=!0;return Me}function N(Ae){Be.getSegments(Ae,$e,ke,C)}function C(Ae,Me){var je=Ie?Ie.getStreamInfo().manifestInfo.isDynamic:null;if(Ae.segments=Me,Me&&Me.length>0&&(ze=isNaN(ze)?Me[0].presentationStartTime:Math.min(Me[0].presentationStartTime,ze),je&&isNaN(ye.getExpectedLiveEdge()))){var He=Me[Me.length-1],Pe=He.presentationStartTime,Re=we.getMetricsFor(u.default.STREAM);ye.setExpectedLiveEdge(Pe),we.updateManifestUpdateInfo(Ee.getCurrentManifestUpdate(Re),{presentationStartTime:Pe})}}function x(Ae){if(!Ae)throw new Error("no representation");Ae.segments=null,N(Ae)}function z(Ae,Me){var je=G.default.hasInitialization(Ae),He=G.default.hasSegments(Ae),Pe=Ie?Ie.getType():null,Re=Ie?Ie.getStreamInfo().manifestInfo.isDynamic:null,st=void 0;if(Ae.segmentDuration||Ae.segments||x(Ae),Ae.segmentAvailabilityRange=null,Ae.segmentAvailabilityRange=ye.calcSegmentAvailabilityRange(Ae,Re),Ae.segmentAvailabilityRange.end<Ae.segmentAvailabilityRange.start&&!Ae.useCalculatedLiveEdgeTime)return st=new R.default(le,"no segments are available yet",{availabilityDelay:Ae.segmentAvailabilityRange.start-Ae.segmentAvailabilityRange.end}),void oe.trigger(L.default.REPRESENTATION_UPDATED,{sender:this,representation:Ae,error:st});Me||(ke=-1),Ae.segmentDuration&&x(Ae),je||ge.loadInitialization(Ae),He||ge.loadSegments(Ae,Pe,Ae.indexRange),je&&He&&oe.trigger(L.default.REPRESENTATION_UPDATED,{sender:this,representation:Ae})}function Y(Ae,Me,je){var He=Me.segments,Pe=He?He.length:null,Re=-1,st=void 0,Qe=void 0,We=void 0,ne=void 0,fe=void 0;if(He&&Pe>0){for(je=je!=null?je:Ne.getSegmentOverlapToleranceTime(),fe=0;fe<Pe;fe++)if(Qe=He[fe],We=Qe.presentationStartTime,ne=Qe.duration,st=je!=null?je:ne/2,Ae+st>=We&&Ae-st<We+ne){Re=Qe.availabilityIdx;break}}return Re}function K(Ae){if(Ae==null)return null;var Me=new m.default,je=Ae.representation,He=je.adaptation.period.mpd.manifest.Period_asArray[je.adaptation.period.index].AdaptationSet_asArray[je.adaptation.index].Representation_asArray[je.index].bandwidth,Pe=Ae.media,Re=Ie?Ie.getType():null;return Pe=(0,ee.replaceTokenForTemplate)(Pe,"Number",Ae.replacementNumber),Pe=(0,ee.replaceTokenForTemplate)(Pe,"Time",Ae.replacementTime),Pe=(0,ee.replaceTokenForTemplate)(Pe,"Bandwidth",He),Pe=(0,ee.replaceIDForTemplate)(Pe,je.id),Pe=(0,ee.unescapeDollarsInTemplate)(Pe),Me.mediaType=Re,Me.type=E.HTTPRequest.MEDIA_SEGMENT_TYPE,Me.range=Ae.mediaRange,Me.startTime=Ae.presentationStartTime,Me.duration=Ae.duration,Me.timescale=je.timescale,Me.availabilityStartTime=Ae.availabilityStartTime,Me.availabilityEndTime=Ae.availabilityEndTime,Me.wallStartTime=Ae.wallStartTime,Me.quality=je.index,Me.index=Ae.availabilityIdx,Me.mediaInfo=Ie.getMediaInfo(),Me.adaptationIndex=je.adaptation.index,Me.representationId=je.id,U(Me,Pe,je)?Me:void 0}function Q(Ae,Me,je){var He=void 0,Pe=void 0,Re=void 0,st=Ie?Ie.getType():null,Qe=Ie?Ie.getStreamInfo().manifestInfo.isDynamic:null,We=ke,ne=!!je&&je.keepIdx,fe=je?je.timeThreshold:null,_e=!(!je||!je.ignoreIsFinished);return Ae?($e!==Me&&($e=Me,Le("Getting the request for "+st+" time : "+Me)),N(Ae),ke=Y(Me,Ae,fe),ke<0&&(N(Ae),ke=Y(Me,Ae,fe)),ke>0&&Le("Index for "+st+" time "+Me+" is "+ke),Re=!_e&&S(Ae),Re?(He=new m.default,He.action=m.default.ACTION_COMPLETE,He.index=ke,He.mediaType=st,He.mediaInfo=Ie.getMediaInfo(),Le("Signal complete in getSegmentRequestForTime -",st)):(Pe=(0,ee.getSegmentByIndex)(ke,Ae),He=K(Pe)),ne&&We>=0&&(ke=Ae.segmentInfoType===v.default.SEGMENT_TIMELINE&&Qe?ke:We),He):null}function d(Ae,Me){var je=(Ae.segmentAvailabilityRange.end-Ae.segmentAvailabilityRange.start)/2;return Ae.segments=null,Ae.segmentAvailabilityRange={start:Me-je,end:Me+je},Q(Ae,Me,{keepIdx:!1,ignoreIsFinished:!0})}function A(Ae){var Me=void 0,je=void 0,He=void 0,Pe=Ie?Ie.getType():null,Re=Ie?Ie.getStreamInfo().manifestInfo.isDynamic:null;return Ae&&ke!==-1?($e=null,ke++,Le("Getting the next request at index: "+ke+", type: "+Pe),!(0,ee.getSegmentByIndex)(ke,Ae)&&Re?(Le("No segment found at index: "+ke+". Wait for next loop"),N(Ae),ke--,null):(He=S(Ae),He?(Me=new m.default,Me.action=m.default.ACTION_COMPLETE,Me.index=ke,Me.mediaType=Pe,Me.mediaInfo=Ie.getMediaInfo(),Le("Signal complete -",Pe)):(N(Ae),je=(0,ee.getSegmentByIndex)(ke,Ae),Me=K(je),!je&&Re&&ke--),Me)):null}function H(Ae){var Me=Ae.representation;Me.segments&&oe.trigger(L.default.REPRESENTATION_UPDATED,{sender:this,representation:Me})}function j(Ae){var Me=Ie?Ie.getType():null,je=Ie?Ie.getStreamInfo().manifestInfo.isDynamic:null;if(!Ae.error&&Me===Ae.mediaType){var He=Ae.segments,Pe=Ae.representation,Re=[],st=0,Qe=void 0,We=void 0,ne=void 0,fe=void 0;for(Qe=0,We=He.length;Qe<We;Qe++)ne=He[Qe],fe=(0,ee.getTimeBasedSegment)(ye,je,Pe,ne.startTime,ne.duration,ne.timescale,ne.media,ne.mediaRange,st),Re.push(fe),fe=null,st++;Pe.segmentAvailabilityRange={start:Re[0].presentationStartTime,end:Re[We-1].presentationStartTime},Pe.availableSegmentsNumber=We,C(Pe,Re),G.default.hasInitialization(Pe)&&oe.trigger(L.default.REPRESENTATION_UPDATED,{sender:this,representation:Pe})}}se=se||{};var J=this.context,oe=(0,q.default)(J).getInstance(),ve=(0,w.default)(J).getInstance(),ge=void 0,ye=se.timelineConverter,Ee=se.dashMetrics,we=se.metricsModel,Ne=se.mediaPlayerModel,Ce=se.errHandler,xe=se.baseURLController,Se=void 0,Le=void 0,ke=void 0,$e=void 0,Xe=void 0,ze=void 0,Ie=void 0,Be=void 0;return Se={initialize:n,getStreamProcessor:r,getInitRequest:te,getSegmentRequestForTime:Q,getNextSegmentRequest:A,generateSegmentRequestForTime:d,updateRepresentation:z,updateSegmentList:x,setCurrentTime:o,getCurrentTime:c,getEarliestTime:g,reset:P},e(),Se}Object.defineProperty(h,"__esModule",{value:!0});var p=t(98),u=l(p),y=t(58),v=l(y),b=t(162),m=l(b),T=t(160),R=l(T),E=t(179),F=t(51),L=l(F),k=t(47),q=l(k),Z=t(48),V=l(Z),D=t(46),M=l(D),X=t(155),w=l(X),O=t(84),G=l(O),ee=t(74),de=t(73),ie=l(de),W=t(56),re=l(W),ue=t(57),ce=l(ue),le=1;f.__dashjs_factory_name="DashHandler";var he=V.default.getClassFactory(f);he.SEGMENTS_UNAVAILABLE_ERROR_CODE=le,V.default.updateClassFactory(f.__dashjs_factory_name,he),h.default=he,_.exports=h.default},{155:155,160:160,162:162,179:179,46:46,47:47,48:48,51:51,56:56,57:57,58:58,73:73,74:74,84:84,98:98}],55:[function(t,_,h){function l(T){return T&&T.__esModule?T:{default:T}}function f(T){function R(se,e){var i=void 0;return i=re(he.getValue().Period_asArray[e],se),i===null?null:i.bandwidth}function E(se,e){return W(he.getValue().Period_asArray[e],se)}function F(se,e){return ce(he.getValue().Period_asArray[e],se)}function L(se){return M(se,b.default.TRACK_SWITCH)}function k(se){return M(se,b.default.BUFFER_LEVEL)}function q(se){var e=k(se);return e?(0,m.round10)(e.level/1e3,-3):0}function Z(se){return se?se.RequestsQueue:null}function V(se){if(!se)return null;var e=se.HttpList,i=null,n=void 0,r=void 0;if(!e||e.length<=0)return null;for(n=e.length,r=n-1;r>=0;){if(e[r].responsecode){i=e[r];break}r--}return i}function D(se){return se&&se.HttpList?se.HttpList:[]}function M(se,e){if(!se)return null;var i=se[e];if(!i)return null;var n=i.length;return n<=0?null:i[n-1]}function X(se){return M(se,b.default.DROPPED_FRAMES)}function w(se){return M(se,b.default.SCHEDULING_INFO)}function O(se){return M(se,b.default.MANIFEST_UPDATE)}function G(se){return M(se,b.default.DVR_INFO)}function ee(se,e){var i={},n=void 0,r=void 0,o=void 0;for(n=D(se),o=n.length-1;o>=0;o--)if(r=n[o],r.type===p.HTTPRequest.MPD_TYPE){i=ie(r._responseHeaders);break}return i[e]===void 0?null:i[e]}function de(se,e){var i={},n=V(se);return n&&(i=ie(n._responseHeaders)),i[e]===void 0?null:i[e]}function ie(se){var e={};if(!se)return e;for(var i=se.trim().split(`\r
`),n=0,r=i.length;n<r;n++){var o=i[n],c=o.indexOf(": ");c>0&&(e[o.substring(0,c)]=o.substring(c+2))}return e}function W(se,e){var i=re(se,e,!0);return i!==null?i:-1}function re(se,e,i){var n=void 0,r=void 0,o=void 0,c=void 0,g=void 0,I=void 0;if(se){for(r=se.AdaptationSet_asArray,g=0;g<r.length;g+=1)for(n=r[g],c=n.Representation_asArray,I=0;I<c.length;I+=1)if(o=c[I],e===o.id)return i?I:o}return null}function ue(se,e){return le.getIsTypeOf(se,e)}function ce(se,e){var i=void 0,n=void 0,r=void 0,o=void 0;if(!se||!e)return-1;for(n=se.AdaptationSet_asArray,o=0;o<n.length;o+=1)if(i=n[o],r=i.Representation_asArray,ue(i,e))return r.length;return-1}T=T||{};var le=T.dashManifestModel,he=T.manifestModel;return{getBandwidthForRepresentation:R,getIndexForRepresentation:E,getMaxIndexForBufferType:F,getCurrentRepresentationSwitch:L,getLatestBufferLevelVO:k,getCurrentBufferLevel:q,getCurrentHttpRequest:V,getHttpRequests:D,getCurrentDroppedFrames:X,getCurrentSchedulingInfo:w,getCurrentDVRInfo:G,getCurrentManifestUpdate:O,getLatestFragmentRequestHeaderValueByID:de,getLatestMPDRequestHeaderValueByID:ee,getRequestsQueue:Z}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(179),u=t(48),y=l(u),v=t(99),b=l(v),m=t(40);f.__dashjs_factory_name="DashMetrics",h.default=y.default.getSingletonFactory(f),_.exports=h.default},{179:179,40:40,48:48,99:99}],56:[function(t,_,h){function l(ee){return ee&&ee.__esModule?ee:{default:ee}}function f(){function ee(){o=(0,k.default)(e).getInstance(),c=(0,u.default)(e).getInstance(),P=(0,G.default)(e).create({errHandler:r,metricsModel:g,mediaPlayerModel:I,requestModifier:c})}function de(B){B.baseURLController&&(U=B.baseURLController),B.metricsModel&&(g=B.metricsModel),B.mediaPlayerModel&&(I=B.mediaPlayerModel),B.errHandler&&(r=B.errHandler)}function ie(){if(!U||!U.hasOwnProperty("resolve"))throw new Error("setConfig function has to be called previously")}function W(B,te){ie();var S=null,N=null,C=U.resolve(B.path),x=te||{init:!0,url:C?C.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500};i("Start searching for initialization.");var z=he(x),Y=function(Q){x.bytesLoaded=x.range.end,N=o.parse(Q),S=le(N),S?(B.range=S,n.trigger(R.default.INITIALIZATION_LOADED,{representation:B})):(x.range.end=x.bytesLoaded+x.bytesToLoad,W(B,x))},K=function(){n.trigger(R.default.INITIALIZATION_LOADED,{representation:B})};P.load({request:z,success:Y,error:K}),i("Perform init search: "+x.url)}function re(B,te,S,N,C){if(ie(),S&&(S.start===void 0||S.end===void 0)){var x=S?S.toString().split("-"):null;S=x?{start:parseFloat(x[0]),end:parseFloat(x[1])}:null}C=C||se;var z=null,Y=null,K=!!S,Q=U.resolve(B.path),d={init:!1,url:Q?Q.url:void 0,range:K?S:{start:0,end:1500},searching:!K,bytesLoaded:N?N.bytesLoaded:0,bytesToLoad:1500},A=he(d),H=function(J){var oe=d.bytesToLoad,ve=J.byteLength;if(d.bytesLoaded=d.range.end-d.range.start,z=o.parse(J),(Y=z.getBox("sidx"))&&Y.isComplete){var ge=Y.references,ye=void 0,Ee=void 0;ge!=null&&ge.length>0&&(ye=ge[0].reference_type===1),ye?function(){i("Initiate multiple SIDX load."),d.range.end=d.range.start+Y.size;var Ne=void 0,Ce=void 0,xe=void 0,Se=void 0,Le=void 0,ke=[],$e=0,Xe=(Y.offset||d.range.start)+Y.size,ze=function(Ie){Ie?(ke=ke.concat(Ie),++$e>=Ce&&C(ke,B,te)):C(null,B,te)};for(Ne=0,Ce=ge.length;Ne<Ce;Ne++)xe=Xe,Se=Xe+ge[Ne].referenced_size-1,Xe+=ge[Ne].referenced_size,Le={start:xe,end:Se},re(B,null,Le,d,ze)}():(i("Parsing segments from SIDX."),Ee=ce(Y,d),C(Ee,B,te))}else{if(Y)d.range.start=Y.offset||d.range.start,d.range.end=d.range.start+(Y.size||oe);else{if(ve<d.bytesLoaded)return void C(null,B,te);var we=z.getLastBox();we&&we.size?(d.range.start=we.offset+we.size,d.range.end=d.range.start+oe):d.range.end+=oe}re(B,te,d.range,d,C)}},j=function(){C(null,B,te)};P.load({request:A,success:H,error:j}),i("Perform SIDX load: "+d.url)}function ue(){P.abort(),P=null,r=null,o=null,c=null}function ce(B,te){for(var S=B.references,N=S.length,C=B.timescale,x=B.earliest_presentation_time,z=te.range.start+B.offset+B.first_offset+B.size,Y=[],K=void 0,Q=void 0,d=void 0,A=void 0,H=0;H<N;H++)d=S[H].subsegment_duration,A=S[H].referenced_size,K=new v.default,K.duration=d,K.startTime=x,K.timescale=C,Q=z+A-1,K.mediaRange=z+"-"+Q,Y.push(K),x+=d,z+=A;return Y}function le(B){var te=B.getBox("ftyp"),S=B.getBox("moov"),N=null,C=void 0,x=void 0;return i("Searching for initialization."),S&&S.isComplete&&(C=te?te.offset:S.offset,x=S.offset+S.size-1,N=C+"-"+x,i("Found the initialization.  Range: "+N)),N}function he(B){if(B.url){var te=new w.default;return te.type=B.init?M.HTTPRequest.INIT_SEGMENT_TYPE:M.HTTPRequest.MEDIA_SEGMENT_TYPE,te.url=B.url,te.range=B.range.start+"-"+B.range.end,te}}function se(B,te,S){B?n.trigger(R.default.SEGMENTS_LOADED,{segments:B,representation:te,mediaType:S}):n.trigger(R.default.SEGMENTS_LOADED,{segments:null,representation:te,mediaType:S,error:new m.default(null,"error loading segments",null)})}var e=this.context,i=(0,D.default)(e).getInstance().log,n=(0,F.default)(e).getInstance(),r=void 0,o=void 0,c=void 0,g=void 0,I=void 0,P=void 0,U=void 0;return{setConfig:de,initialize:ee,loadInitialization:W,loadSegments:re,reset:ue}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(153),u=l(p),y=t(85),v=l(y),b=t(160),m=l(b),T=t(51),R=l(T),E=t(47),F=l(E),L=t(143),k=l(L),q=t(48),Z=l(q),V=t(46),D=l(V),M=t(179),X=t(162),w=l(X),O=t(96),G=l(O);f.__dashjs_factory_name="SegmentBaseLoader",h.default=Z.default.getSingletonFactory(f),_.exports=h.default},{143:143,153:153,160:160,162:162,179:179,46:46,47:47,48:48,51:51,85:85,96:96}],57:[function(t,_,h){function l(O){return O&&O.__esModule?O:{default:O}}function f(){function O(){o={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}}}function G(){g=(0,k.default)(e).getInstance(),U=(0,w.default)(e).create({errHandler:c,metricsModel:I,mediaPlayerModel:P,requestModifier:g})}function ee(te){if(!(te.baseURLController&&te.metricsModel&&te.mediaPlayerModel&&te.errHandler))throw new Error("Missing config parameter(s)");B=te.baseURLController,I=te.metricsModel,P=te.mediaPlayerModel,c=te.errHandler}function de(te){var S=[],N=void 0,C=void 0,x=(0,m.default)(e).create({data:te});for(x.consumeTagAndSize(o.Segment.Cues);x.moreData()&&x.consumeTagAndSize(o.Segment.Cues.CuePoint,!0);){for(N={},N.CueTime=x.parseTag(o.Segment.Cues.CuePoint.CueTime),N.CueTracks=[];x.moreData()&&x.consumeTag(o.Segment.Cues.CuePoint.CueTrackPositions,!0);){var z=x.getMatroskaCodedNum(),Y=x.getPos();if(C={},C.Track=x.parseTag(o.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),C.Track===0)throw new Error("Cue track cannot be 0");C.ClusterPosition=x.parseTag(o.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),N.CueTracks.push(C),x.setPos(Y+z)}if(N.CueTracks.length===0)throw new Error("Mandatory cuetrack not found");S.push(N)}if(S.length===0)throw new Error("mandatory cuepoint not found");return S}function ie(te,S,N,C){var x=void 0,z=void 0,Y=void 0,K=void 0,Q=void 0,d=void 0,A=void 0,H=void 0;for(z=de(te),Y=[],Q=0,d=z.length;Q<d;Q+=1)K=new Z.default,x=0,x=Q<z.length-1?z[Q+1].CueTime-z[Q].CueTime:C-z[Q].CueTime,K.duration=x,K.startTime=z[Q].CueTime,K.timescale=1e3,A=z[Q].CueTracks[0].ClusterPosition+S,H=Q<z.length-1?z[Q+1].CueTracks[0].ClusterPosition+S-1:N-1,K.mediaRange=A+"-"+H,Y.push(K);return i("Parsed cues: "+Y.length+" cues."),Y}function W(te,S,N,C){var x=(0,m.default)(e).create({data:te}),z=void 0,Y=void 0,K=N.split("-"),Q=null,d={url:S,range:{start:parseFloat(K[0]),end:parseFloat(K[1])},request:Q},A=void 0,H=void 0;for(i("Parse EBML header: "+d.url),x.skipOverElement(o.EBML),x.consumeTag(o.Segment),A=x.getMatroskaCodedNum(),A+=x.getPos(),H=x.getPos();x.moreData()&&!x.consumeTagAndSize(o.Segment.Info,!0);)if(!(x.skipOverElement(o.Segment.SeekHead,!0)||x.skipOverElement(o.Segment.Tracks,!0)||x.skipOverElement(o.Segment.Cues,!0)||x.skipOverElement(o.Void,!0)))throw new Error("no valid top level element found");for(;z===void 0;){var j=x.getMatroskaCodedNum(!0),J=x.getMatroskaCodedNum();switch(j){case o.Segment.Info.Duration.tag:z=x[o.Segment.Info.Duration.parse](J);break;default:x.setPos(x.getPos()+J)}}Q=he(d);var oe=function(ge){Y=ie(ge,H,A,z),C(Y)},ve=function(){i("Download Error: Cues "+d.url),C(null)};U.load({request:Q,success:oe,error:ve}),i("Perform cues load: "+d.url+" bytes="+d.range.start+"-"+d.range.end)}function re(){if(!B||!B.hasOwnProperty("resolve"))throw new Error("setConfig function has to be called previously")}function ue(te,S){re();var N=null,C=B.resolve(te.path),x=C?C.url:void 0,z=te.range.split("-"),Y=S||{range:{start:parseFloat(z[0]),end:parseFloat(z[1])},request:N,url:x,init:!0};i("Start loading initialization."),N=he(Y);var K=function(){n.trigger(u.default.INITIALIZATION_LOADED,{representation:te})},Q=function(){n.trigger(u.default.INITIALIZATION_LOADED,{representation:te})};U.load({request:N,success:K,error:Q}),i("Perform init load: "+Y.url)}function ce(te,S,N,C){re();var x=null,z=B.resolve(te.path),Y=z?z.url:void 0,K=8192,Q={bytesLoaded:0,bytesToLoad:K,range:{start:0,end:K},request:x,url:Y,init:!1};C=C||le,x=he(Q),i("Parsing ebml header");var d=function(H){W(H,Y,N,function(j){C(j,te,S)})},A=function(){C(null,te,S)};U.load({request:x,success:d,error:A})}function le(te,S,N){te?n.trigger(u.default.SEGMENTS_LOADED,{segments:te,representation:S,mediaType:N}):n.trigger(u.default.SEGMENTS_LOADED,{segments:null,representation:S,mediaType:N,error:new Error(null,"error loading segments",null)})}function he(te){var S=new M.default;return S.type=te.init?V.HTTPRequest.INIT_SEGMENT_TYPE:V.HTTPRequest.MEDIA_SEGMENT_TYPE,S.url=te.url,S.range=te.range.start+"-"+te.range.end,S}function se(){c=null,g=null,i=null}var e=this.context,i=(0,F.default)(e).getInstance().log,n=(0,v.default)(e).getInstance(),r=void 0,o=void 0,c=void 0,g=void 0,I=void 0,P=void 0,U=void 0,B=void 0;return r={setConfig:ee,initialize:G,loadInitialization:ue,loadSegments:ce,reset:se},O(),r}Object.defineProperty(h,"__esModule",{value:!0});var p=t(51),u=l(p),y=t(47),v=l(y),b=t(147),m=l(b),T=t(48),R=l(T),E=t(46),F=l(E),L=t(153),k=l(L),q=t(85),Z=l(q),V=t(179),D=t(162),M=l(D),X=t(96),w=l(X);f.__dashjs_factory_name="WebmSegmentBaseLoader",h.default=R.default.getSingletonFactory(f),_.exports=h.default},{147:147,153:153,162:162,179:179,46:46,47:47,48:48,51:51,85:85,96:96}],58:[function(t,_,h){function l(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function(){function y(v,b){for(var m=0;m<b.length;m++){var T=b[m];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,b,m){return b&&y(v.prototype,b),m&&y(v,m),v}}(),p=function(){function y(){l(this,y),this.init()}return f(y,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight"}}]),y}(),u=new p;h.default=u,_.exports=h.default},{}],59:[function(t,_,h){function l(V){return V&&V.__esModule?V:{default:V}}function f(){function V(){de(),B.on(F.default.QUALITY_CHANGE_REQUESTED,g,te),B.on(F.default.REPRESENTATION_UPDATED,r,te),B.on(F.default.WALLCLOCK_TIME_UPDATED,o,te),B.on(F.default.BUFFER_LEVEL_UPDATED,c,te),B.on(F.default.MANIFEST_VALIDITY_CHANGED,I,te)}function D(ge){ge.abrController&&(Y=ge.abrController),ge.domStorage&&(A=ge.domStorage),ge.metricsModel&&(d=ge.metricsModel),ge.dashMetrics&&(J=ge.dashMetrics),ge.dashManifestModel&&(j=ge.dashManifestModel),ge.playbackController&&(Q=ge.playbackController),ge.timelineConverter&&(H=ge.timelineConverter),ge.manifestModel&&(ve=ge.manifestModel),ge.streamProcessor&&(oe=ge.streamProcessor)}function M(){K=oe.getIndexHandler()}function X(){return oe}function w(){return S}function O(){return N}function G(){return C}function ee(){return z}function de(){S=null,N=-1,C=!0,x=[],Y=null,Q=null,d=null,A=null,H=null,j=null,J=null}function ie(){B.off(F.default.QUALITY_CHANGE_REQUESTED,g,te),B.off(F.default.REPRESENTATION_UPDATED,r,te),B.off(F.default.WALLCLOCK_TIME_UPDATED,o,te),B.off(F.default.BUFFER_LEVEL_UPDATED,c,te),B.off(F.default.MANIFEST_VALIDITY_CHANGED,I,te),de()}function W(ge,ye,Ee){var we=oe.getStreamInfo(),Ne=Y.getTopQualityIndexFor(Ee,we.id),Ce=Y.getMinAllowedIndexFor(Ee),xe=void 0,Se=void 0,Le=null;if(C=!0,B.trigger(F.default.DATA_UPDATE_STARTED,{sender:this}),x=se(ye),S!==null&&S.id==ge.id||Ee===u.default.FRAGMENTED_TEXT?xe=Y.getQualityFor(Ee,we):(Se=Y.getThroughputHistory().getAverageThroughput(Ee),Le=Se||Y.getInitialBitrateFor(Ee,we),xe=Y.getQualityForBitrate(oe.getMediaInfo(),Le)),Ce!==void 0&&xe<Ce&&(xe=Ce),xe>Ne&&(xe=Ne),z=ce(xe),S=ge,Ee!==u.default.VIDEO&&Ee!==u.default.AUDIO&&Ee!==u.default.FRAGMENTED_TEXT)return C=!1,void B.trigger(F.default.DATA_UPDATE_COMPLETED,{sender:this,data:S,currentRepresentation:z});for(var ke=0;ke<x.length;ke++)K.updateRepresentation(x[ke],!0)}function re(){var ge=new Date,ye=ee(),Ee=1e3*Q.getTime();d.addRepresentationSwitch(ye.adaptation.type,ge,Ee,ye.id)}function ue(){var ge=oe.getStreamInfo(),ye=ge?ge.manifestInfo:null,Ee=ye?ye.isDynamic:null,we=H.calcSegmentAvailabilityRange(z,Ee);d.addDVRInfo(oe.getType(),Q.getTime(),ye,we)}function ce(ge){return x[ge]}function le(ge){return x.indexOf(ge)}function he(){for(var ge=0,ye=x.length;ge<ye;ge++){var Ee=x[ge].segmentInfoType;if(x[ge].segmentAvailabilityRange===null||!Z.default.hasInitialization(x[ge])||(Ee===v.default.SEGMENT_BASE||Ee===v.default.BASE_URL)&&!x[ge].segments)return!1}return!0}function se(ge){return N=j.getIndexForAdaptation(S,ge.period.mpd.manifest,ge.period.index),j.getRepresentationsForAdaptation(ge)}function e(ge){for(var ye=void 0,Ee=0,we=x.length;Ee<we;Ee++)ye=x[Ee],ye.segmentAvailabilityRange=H.calcSegmentAvailabilityRange(ye,ge)}function i(){x.forEach(function(ge){ge.segmentAvailabilityRange=null})}function n(ge){var ye=ge,Ee=function(){if(!G()){C=!0,B.trigger(F.default.DATA_UPDATE_STARTED,{sender:te}),i();for(var we=0;we<x.length;we++)K.updateRepresentation(x[we],!0)}};C=!1,B.trigger(F.default.AST_IN_FUTURE,{delay:ye}),setTimeout(Ee,ye)}function r(ge){if(ge.sender.getStreamProcessor()===oe&&G()){var ye=ge.representation,Ee=d.getMetricsFor(u.default.STREAM),we=d.getMetricsFor(ee().adaptation.type),Ne=J.getCurrentManifestUpdate(Ee),Ce=!1,xe=0,Se=void 0,Le=void 0,ke=void 0;if(ye.adaptation.period.mpd.manifest.type===v.default.DYNAMIC&&!ye.adaptation.period.mpd.manifest.ignorePostponeTimePeriod){var $e=ye.segmentAvailabilityRange.end-ye.segmentAvailabilityRange.start;xe=1e3*(Q.computeLiveDelay(z.segmentDuration,oe.getStreamInfo().manifestInfo.DVRWindowSize)-$e)}if(xe>0)return ue(),n(xe),Le=new m.default(P,"Segments update failed",null),void B.trigger(F.default.DATA_UPDATE_COMPLETED,{sender:this,data:S,currentRepresentation:z,error:Le});if(Ne){for(var Xe=0;Xe<Ne.representationInfo.length;Xe++)if(Se=Ne.representationInfo[Xe],Se.index===ye.index&&Se.mediaType===oe.getType()){Ce=!0;break}Ce||d.addManifestUpdateRepresentationInfo(Ne,ye.id,ye.index,ye.adaptation.period.index,oe.getType(),ye.presentationTimeOffset,ye.startNumber,ye.segmentInfoType)}he()&&(C=!1,Y.setPlaybackQuality(oe.getType(),oe.getStreamInfo(),le(z)),d.updateManifestUpdateInfo(Ne,{latency:z.segmentAvailabilityRange.end-Q.getTime()}),ke=J.getCurrentRepresentationSwitch(we),ke||re(),B.trigger(F.default.DATA_UPDATE_COMPLETED,{sender:this,data:S,currentRepresentation:z}))}}function o(ge){ge.isDynamic&&e(ge.isDynamic)}function c(ge){ge.sender.getStreamProcessor()===oe&&(ve.getValue().doNotUpdateDVRWindowOnBufferUpdated||ue())}function g(ge){if(ge.mediaType===oe.getType()&&oe.getStreamInfo().id===ge.streamInfo.id&&ge.oldQuality!==ge.newQuality){z=ce(ge.newQuality);var ye=Y.getThroughputHistory().getAverageThroughput(ge.mediaType);isNaN(ye)||A.setSavedBitrateSettings(ge.mediaType,ye),re()}}function I(ge){if(ge.newDuration){var ye=ee();ye&&ye.adaptation.period&&(ye.adaptation.period.duration=ge.newDuration)}}var P=1,U=this.context,B=(0,R.default)(U).getInstance(),te=void 0,S=void 0,N=void 0,C=void 0,x=void 0,z=void 0,Y=void 0,K=void 0,Q=void 0,d=void 0,A=void 0,H=void 0,j=void 0,J=void 0,oe=void 0,ve=void 0;return te={initialize:M,setConfig:D,getData:w,getDataIndex:O,isUpdating:G,updateData:W,getStreamProcessor:X,getCurrentRepresentation:ee,getRepresentationForQuality:ce,reset:ie},V(),te}Object.defineProperty(h,"__esModule",{value:!0});var p=t(98),u=l(p),y=t(58),v=l(y),b=t(160),m=l(b),T=t(47),R=l(T),E=t(51),F=l(E),L=t(48),k=l(L),q=t(84),Z=l(q);f.__dashjs_factory_name="RepresentationController",h.default=k.default.getClassFactory(f),_.exports=h.default},{160:160,47:47,48:48,51:51,58:58,84:84,98:98}],60:[function(t,_,h){function l(ue){return ue&&ue.__esModule?ue:{default:ue}}function f(ue){function ce(ne,fe){var _e=void 0,pe=void 0,be=void 0,De=void 0,Ue=void 0,rt=void 0,dt=!1,vt=!1;if(!ne)throw new Error("adaptation is not defined");if(!fe)throw new Error("type is not defined");if(ne.hasOwnProperty("ContentComponent_asArray")&&(De=ne.ContentComponent_asArray),Ue=fe!==u.default.TEXT?new RegExp(fe):new RegExp("(vtt|ttml)"),ne.Representation_asArray&&ne.Representation_asArray.length&&ne.Representation_asArray.length>0&&ne.Representation_asArray[0].hasOwnProperty(v.default.CODECS)&&(rt=ne.Representation_asArray[0].codecs,rt.search(u.default.STPP)===0||rt.search(u.default.WVTT)===0))return fe===u.default.FRAGMENTED_TEXT;if(De){if(De.length>1)return fe===u.default.MUXED;De[0]&&De[0].contentType===fe&&(dt=!0,vt=!0)}if(ne.hasOwnProperty(v.default.MIME_TYPE)&&(dt=Ue.test(ne.mimeType),vt=!0),!vt)for(_e=0,pe=ne.Representation_asArray&&ne.Representation_asArray.length?ne.Representation_asArray.length:0;!vt&&_e<pe;)be=ne.Representation_asArray[_e],be.hasOwnProperty(v.default.MIME_TYPE)&&(dt=Ue.test(be.mimeType),vt=!0),_e++;return dt}function le(ne){return ce(ne,u.default.AUDIO)}function he(ne){return ce(ne,u.default.VIDEO)}function se(ne){return ce(ne,u.default.FRAGMENTED_TEXT)}function e(ne){return ce(ne,u.default.TEXT)}function i(ne){return ce(ne,u.default.MUXED)}function n(ne){return ce(ne,u.default.IMAGE)}function r(ne){return ne==="text/vtt"||ne==="application/ttml+xml"}function o(ne){var fe="";return ne&&ne.hasOwnProperty(v.default.LANG)&&(fe=ne.lang.replace(/[^A-Za-z0-9-]/g,"")),fe}function c(ne){return ne&&ne.hasOwnProperty(v.default.VIEWPOINT)?ne.Viewpoint:null}function g(ne){return ne&&ne.hasOwnProperty(v.default.ROLE_ASARRAY)?ne.Role_asArray:[]}function I(ne){return ne&&ne.hasOwnProperty(v.default.ACCESSIBILITY_ASARRAY)?ne.Accessibility_asArray:[]}function P(ne){return ne&&ne.hasOwnProperty(v.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?ne.AudioChannelConfiguration_asArray:[]}function U(ne){return g(ne).filter(function(fe){return fe.value===v.default.MAIN})[0]}function B(){return function(ne,fe){return ne.bandwidth-fe.bandwidth}}function te(ne){return ne&&ne.Representation_asArray!==void 0&&ne.Representation_asArray!==null&&ne.Representation_asArray.sort(B()),ne}function S(ne,fe,_e){var pe=fe&&fe.Period_asArray&&We(_e)&&fe.Period_asArray[_e]?fe.Period_asArray[_e].AdaptationSet_asArray:[],be=void 0,De=void 0;for(be=0,De=pe.length;be<De;be++)if(pe[be].hasOwnProperty(v.default.ID)&&pe[be].id===ne)return pe[be];return null}function N(ne,fe,_e){var pe=fe&&fe.Period_asArray&&We(_e)&&fe.Period_asArray[_e]?fe.Period_asArray[_e].AdaptationSet_asArray:null;return pe&&We(ne)?pe[ne]:null}function C(ne,fe,_e){var pe=fe&&fe.Period_asArray&&We(_e)&&fe.Period_asArray[_e]?fe.Period_asArray[_e].AdaptationSet_asArray:[],be=pe.length;if(ne)for(var De=0;De<be;De++){var Ue=(0,ee.default)(je).getInstance();if(Ue.areEqual(pe[De],ne))return De}return-1}function x(ne,fe,_e){var pe=ne&&ne.Period_asArray&&We(fe)&&ne.Period_asArray[fe]?ne.Period_asArray[fe].AdaptationSet_asArray:[],be=void 0,De=void 0,Ue=[];for(be=0,De=pe.length;be<De;be++)ce(pe[be],_e)&&Ue.push(te(pe[be]));return Ue}function z(ne,fe,_e,pe){var be=x(ne,fe,_e);if(!be||be.length===0)return null;if(be.length>1&&pe){for(var De=Pe.getCurrentTrackFor(_e,pe),Ue=st.getAllMediaInfoForType(pe,_e),rt=0,dt=be.length;rt<dt;rt++)if(De&&Pe.isTracksEqual(De,Ue[rt]))return be[rt];for(var rt=0,dt=be.length;rt<dt;rt++)if(U(be[rt]))return be[rt]}return be[0]}function Y(ne,fe,_e){if(ne&&ne.Representation_asArray&&ne.Representation_asArray.length>0){var pe=We(fe)&&fe>=0&&fe<ne.Representation_asArray.length?ne.Representation_asArray[fe]:ne.Representation_asArray[0],be=pe.mimeType+';codecs="'+pe.codecs+'"';return _e&&pe.width!==void 0&&(be+=';width="'+pe.width+'";height="'+pe.height+'"'),be}return null}function K(ne){return ne&&ne.Representation_asArray&&ne.Representation_asArray.length>0?ne.Representation_asArray[0].mimeType:null}function Q(ne){return ne&&ne.hasOwnProperty(v.default.CENC_DEFAULT_KID)?ne[v.default.CENC_DEFAULT_KID]:null}function d(ne){return ne&&ne.hasOwnProperty(v.default.CONTENTPROTECTION_ASARRAY)&&ne.ContentProtection_asArray.length!==0?ne.ContentProtection_asArray:null}function A(ne){var fe=!1;return ne&&ne.hasOwnProperty("type")&&(fe=ne.type===v.default.DYNAMIC),fe}function H(ne,fe){var _e=!1;return ne&&ne.profiles&&ne.profiles.length>0&&(_e=ne.profiles.indexOf(fe)!==-1),_e}function j(ne){return H(ne,Qe)}function J(ne){return ne&&ne.hasOwnProperty(v.default.MEDIA_PRESENTATION_DURATION)?ne.mediaPresentationDuration:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE}function oe(ne){return ne&&ne.bandwidth?ne.bandwidth:NaN}function ve(ne){var fe=arguments.length<=1||arguments[1]===void 0?0:arguments[1],_e=NaN;return ne&&ne.hasOwnProperty(v.default.MINIMUM_UPDATE_PERIOD)&&(_e=ne.minimumUpdatePeriod),isNaN(_e)?_e:Math.max(_e-fe,1)}function ge(ne){return ne&&ne.Representation_asArray&&ne.Representation_asArray.length?ne.Representation_asArray.length:0}function ye(ne){return ne&&ne.Representation_asArray&&ne.Representation_asArray.length?te(ne).Representation_asArray.map(function(fe){return{bandwidth:fe.bandwidth,width:fe.width||0,height:fe.height||0,scanType:fe.scanType||null}}):null}function Ee(ne){return ne&&ne.EssentialProperty_asArray&&ne.EssentialProperty_asArray.length?ne.EssentialProperty_asArray.map(function(fe){return{schemeIdUri:fe.schemeIdUri,value:fe.value}}):null}function we(ne,fe){return fe&&fe.Representation_asArray&&fe.Representation_asArray.length>0&&We(ne)?fe.Representation_asArray[ne]:null}function Ne(ne){var fe=[],_e=void 0,pe=void 0,be=void 0,De=void 0,Ue=void 0,rt=void 0,dt=void 0;if(ne&&ne.period&&We(ne.period.index)){var vt=ne.period.mpd.manifest.Period_asArray[ne.period.index];vt&&vt.AdaptationSet_asArray&&We(ne.index)&&(De=te(vt.AdaptationSet_asArray[ne.index]))}if(De&&De.Representation_asArray)for(rt=0;De&&rt<De.Representation_asArray.length;rt++)Ue=De.Representation_asArray[rt],_e=new m.default,_e.index=rt,_e.adaptation=ne,Ue.hasOwnProperty(v.default.ID)&&(_e.id=Ue.id),Ue.hasOwnProperty(v.default.CODECS)&&(_e.codecs=Ue.codecs),Ue.hasOwnProperty(v.default.CODEC_PRIVATE_DATA)&&(_e.codecPrivateData=Ue.codecPrivateData),Ue.hasOwnProperty(v.default.BANDWITH)&&(_e.bandwidth=Ue.bandwidth),Ue.hasOwnProperty(v.default.WIDTH)&&(_e.width=Ue.width),Ue.hasOwnProperty(v.default.HEIGHT)&&(_e.height=Ue.height),Ue.hasOwnProperty(v.default.SCAN_TYPE)&&(_e.scanType=Ue.scanType),Ue.hasOwnProperty(v.default.MAX_PLAYOUT_RATE)&&(_e.maxPlayoutRate=Ue.maxPlayoutRate),Ue.hasOwnProperty(v.default.SEGMENT_BASE)?(be=Ue.SegmentBase,_e.segmentInfoType=v.default.SEGMENT_BASE):Ue.hasOwnProperty(v.default.SEGMENT_LIST)?(be=Ue.SegmentList,be.hasOwnProperty(v.default.SEGMENT_TIMELINE)?(_e.segmentInfoType=v.default.SEGMENT_TIMELINE,dt=be.SegmentTimeline.S_asArray[be.SegmentTimeline.S_asArray.length-1],(!dt.hasOwnProperty("r")||dt.r>=0)&&(_e.useCalculatedLiveEdgeTime=!0)):(_e.segmentInfoType=v.default.SEGMENT_LIST,_e.useCalculatedLiveEdgeTime=!0)):Ue.hasOwnProperty(v.default.SEGMENT_TEMPLATE)?(be=Ue.SegmentTemplate,be.hasOwnProperty(v.default.SEGMENT_TIMELINE)?(_e.segmentInfoType=v.default.SEGMENT_TIMELINE,dt=be.SegmentTimeline.S_asArray[be.SegmentTimeline.S_asArray.length-1],(!dt.hasOwnProperty("r")||dt.r>=0)&&(_e.useCalculatedLiveEdgeTime=!0)):_e.segmentInfoType=v.default.SEGMENT_TEMPLATE,be.hasOwnProperty(v.default.INITIALIZATION_MINUS)&&(_e.initialization=be.initialization.split("$Bandwidth$").join(Ue.bandwidth).split("$RepresentationID$").join(Ue.id))):_e.segmentInfoType=v.default.BASE_URL,_e.essentialProperties=Ee(Ue),be&&(be.hasOwnProperty(v.default.INITIALIZATION)?(pe=be.Initialization,pe.hasOwnProperty(v.default.SOURCE_URL)?_e.initialization=pe.sourceURL:pe.hasOwnProperty(v.default.RANGE)&&(_e.range=pe.range)):Ue.hasOwnProperty(v.default.MIME_TYPE)&&r(Ue.mimeType)&&(_e.range=0),be.hasOwnProperty(v.default.TIMESCALE)&&(_e.timescale=be.timescale),be.hasOwnProperty(v.default.DURATION)&&(_e.segmentDuration=be.duration/_e.timescale),be.hasOwnProperty(v.default.MEDIA)&&(_e.media=be.media),be.hasOwnProperty(v.default.START_NUMBER)&&(_e.startNumber=be.startNumber),be.hasOwnProperty(v.default.INDEX_RANGE)&&(_e.indexRange=be.indexRange),be.hasOwnProperty(v.default.PRESENTATION_TIME_OFFSET)&&(_e.presentationTimeOffset=be.presentationTimeOffset/_e.timescale)),_e.MSETimeOffset=Re.calcMSETimeOffset(_e),_e.path=[ne.period.index,ne.index,rt],fe.push(_e);return fe}function Ce(ne){var fe=ne&&We(ne.index)?ne.mpd.manifest.Period_asArray[ne.index]:null,_e=[],pe=void 0,be=void 0,De=void 0;if(fe&&fe.AdaptationSet_asArray)for(De=0;De<fe.AdaptationSet_asArray.length;De++)be=fe.AdaptationSet_asArray[De],pe=new R.default,be.hasOwnProperty(v.default.ID)&&(pe.id=be.id),pe.index=De,pe.period=ne,i(be)?pe.type=u.default.MUXED:le(be)?pe.type=u.default.AUDIO:he(be)?pe.type=u.default.VIDEO:se(be)?pe.type=u.default.FRAGMENTED_TEXT:n(be)?pe.type=u.default.IMAGE:pe.type=u.default.TEXT,_e.push(pe);return _e}function xe(ne){var fe=!!ne&&A(ne.manifest),_e=[],pe=null,be=null,De=null,Ue=null,rt=void 0,dt=void 0;for(dt=0,rt=ne&&ne.manifest&&ne.manifest.Period_asArray?ne.manifest.Period_asArray.length:0;dt<rt;dt++)be=ne.manifest.Period_asArray[dt],be.hasOwnProperty(v.default.START)?(Ue=new F.default,Ue.start=be.start):pe!==null&&be.hasOwnProperty(v.default.DURATION)&&De!==null?(Ue=new F.default,Ue.start=parseFloat((De.start+De.duration).toFixed(5)),Ue.duration=be.duration):dt!==0||fe||(Ue=new F.default,Ue.start=0),De!==null&&isNaN(De.duration)&&(De.duration=parseFloat((Ue.start-De.start).toFixed(5))),Ue!==null&&(Ue.id=Se(be,dt)),Ue!==null&&be.hasOwnProperty(v.default.DURATION)&&(Ue.duration=be.duration),Ue!==null&&(Ue.index=dt,Ue.mpd=ne,_e.push(Ue),pe=be,De=Ue),be=null,Ue=null;return _e.length===0||De!==null&&isNaN(De.duration)&&(De.duration=parseFloat((ke(De)-De.start).toFixed(5))),_e}function Se(ne,fe){if(!ne)throw new Error("Period cannot be null or undefined");var _e=F.default.DEFAULT_ID+"_"+fe;return ne.hasOwnProperty(v.default.ID)&&ne.id.length>0&&ne.id!=="__proto__"&&(_e=ne.id),_e}function Le(ne){var fe=new k.default;return ne&&(fe.manifest=ne,ne.hasOwnProperty(v.default.AVAILABILITY_START_TIME)?fe.availabilityStartTime=new Date(ne.availabilityStartTime.getTime()):fe.availabilityStartTime=new Date(ne.loadedTime.getTime()),ne.hasOwnProperty(v.default.AVAILABILITY_END_TIME)&&(fe.availabilityEndTime=new Date(ne.availabilityEndTime.getTime())),ne.hasOwnProperty(v.default.MINIMUM_UPDATE_PERIOD)&&(fe.minimumUpdatePeriod=ne.minimumUpdatePeriod),ne.hasOwnProperty(v.default.MEDIA_PRESENTATION_DURATION)&&(fe.mediaPresentationDuration=ne.mediaPresentationDuration),ne.hasOwnProperty(u.default.SUGGESTED_PRESENTATION_DELAY)&&(fe.suggestedPresentationDelay=ne.suggestedPresentationDelay),ne.hasOwnProperty(v.default.TIMESHIFT_BUFFER_DEPTH)&&(fe.timeShiftBufferDepth=ne.timeShiftBufferDepth),ne.hasOwnProperty(v.default.MAX_SEGMENT_DURATION)&&(fe.maxSegmentDuration=ne.maxSegmentDuration)),fe}function ke(ne){var fe=A(ne.mpd.manifest),_e=void 0;if(ne.mpd.manifest.mediaPresentationDuration)_e=ne.mpd.manifest.mediaPresentationDuration;else if(ne.duration)_e=ne.duration;else{if(!fe)throw new Error("Must have @mediaPresentationDuratio on MPD or an explicit @duration on the last period.");_e=Number.POSITIVE_INFINITY}return _e}function $e(ne){var fe=ne&&ne.mpd&&ne.mpd.manifest?ne.mpd.manifest:null,_e=fe?fe.Period_asArray:null,pe=_e&&ne&&We(ne.index)?_e[ne.index].EventStream_asArray:null,be=[],De=void 0,Ue=void 0;if(pe)for(De=0;De<pe.length;De++){var rt=new O.default;if(rt.period=ne,rt.timescale=1,!pe[De].hasOwnProperty(u.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(rt.schemeIdUri=pe[De].schemeIdUri,pe[De].hasOwnProperty(v.default.TIMESCALE)&&(rt.timescale=pe[De].timescale),pe[De].hasOwnProperty(v.default.VALUE)&&(rt.value=pe[De].value),Ue=0;Ue<pe[De].Event_asArray.length;Ue++){var dt=new D.default;dt.presentationTime=0,dt.eventStream=rt,pe[De].Event_asArray[Ue].hasOwnProperty(v.default.PRESENTATION_TIME)&&(dt.presentationTime=pe[De].Event_asArray[Ue].presentationTime),pe[De].Event_asArray[Ue].hasOwnProperty(v.default.DURATION)&&(dt.duration=pe[De].Event_asArray[Ue].duration),pe[De].Event_asArray[Ue].hasOwnProperty(v.default.ID)&&(dt.id=pe[De].Event_asArray[Ue].id),be.push(dt)}}return be}function Xe(ne,fe){var _e=[],pe=void 0;if(!ne)return _e;for(pe=0;pe<ne.length;pe++){var be=new O.default;if(be.timescale=1,be.representation=fe,!ne[pe].hasOwnProperty(u.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");be.schemeIdUri=ne[pe].schemeIdUri,ne[pe].hasOwnProperty(v.default.TIMESCALE)&&(be.timescale=ne[pe].timescale),ne[pe].hasOwnProperty(v.default.VALUE)&&(be.value=ne[pe].value),_e.push(be)}return _e}function ze(ne,fe){var _e=void 0,pe=void 0,be=void 0;return ne&&ne.Period_asArray&&fe&&fe.period&&We(fe.period.index)&&(pe=ne.Period_asArray[fe.period.index])&&pe.AdaptationSet_asArray&&We(fe.index)&&(be=pe.AdaptationSet_asArray[fe.index])&&(_e=be.InbandEventStream_asArray),Xe(_e,null)}function Ie(ne,fe){var _e=void 0,pe=void 0,be=void 0,De=void 0;return ne&&ne.Period_asArray&&fe&&fe.adaptation&&fe.adaptation.period&&We(fe.adaptation.period.index)&&(pe=ne.Period_asArray[fe.adaptation.period.index])&&pe.AdaptationSet_asArray&&We(fe.adaptation.index)&&(be=pe.AdaptationSet_asArray[fe.adaptation.index])&&be.Representation_asArray&&We(fe.index)&&(De=be.Representation_asArray[fe.index])&&(_e=De.InbandEventStream_asArray),Xe(_e,fe)}function Be(ne){var fe=A(ne),_e=!!ne&&ne.hasOwnProperty(v.default.AVAILABILITY_START_TIME),pe=ne?ne.UTCTiming_asArray:null,be=[];return(fe||_e)&&pe&&pe.forEach(function(De){var Ue=new Z.default;De.hasOwnProperty(u.default.SCHEME_ID_URI)&&(Ue.schemeIdUri=De.schemeIdUri,De.hasOwnProperty(v.default.VALUE)&&(Ue.value=De.value.toString(),be.push(Ue)))}),be}function Ae(ne){var fe=[],_e=ne.BaseURL_asArray||[ne.baseUri],pe=!1;return _e.some(function(be){if(be){var De=new X.default,Ue=be.__text||be;return He.isRelative(Ue)&&(pe=!0,ne.baseUri&&(Ue=He.resolve(Ue,ne.baseUri))),De.url=Ue,be.hasOwnProperty(v.default.SERVICE_LOCATION)&&be.serviceLocation.length?De.serviceLocation=be.serviceLocation:De.serviceLocation=Ue,be.hasOwnProperty(v.default.DVB_PRIORITY)&&(De.dvb_priority=be[v.default.DVB_PRIORITY]),be.hasOwnProperty(v.default.DVB_WEIGHT)&&(De.dvb_weight=be[v.default.DVB_WEIGHT]),fe.push(De),pe}}),fe}function Me(ne){if(ne&&ne.hasOwnProperty(u.default.LOCATION))return ne.Location=ne.Location_asArray[0],ne.Location}ue=ue||{};var je=this.context,He=(0,ie.default)(je).getInstance(),Pe=ue.mediaController,Re=ue.timelineConverter,st=ue.adapter,Qe="urn:dvb:dash:profile:dvb-dash:2014",We=Number.isInteger||function(ne){return typeof ne=="number"&&isFinite(ne)&&Math.floor(ne)===ne};return{getIsTypeOf:ce,getIsAudio:le,getIsVideo:he,getIsText:e,getIsMuxed:i,getIsTextTrack:r,getIsFragmentedText:se,getIsImage:n,getIsMain:U,getLanguageForAdaptation:o,getViewpointForAdaptation:c,getRolesForAdaptation:g,getAccessibilityForAdaptation:I,getAudioChannelConfigurationForAdaptation:P,getAdaptationForIndex:N,getIndexForAdaptation:C,getAdaptationForId:S,getAdaptationsForType:x,getAdaptationForType:z,getCodec:Y,getMimeType:K,getKID:Q,getContentProtectionData:d,getIsDynamic:A,getIsDVB:j,getDuration:J,getBandwidth:oe,getManifestUpdatePeriod:ve,getRepresentationCount:ge,getBitrateListForAdaptation:ye,getRepresentationFor:we,getRepresentationsForAdaptation:Ne,getAdaptationsForPeriod:Ce,getRegularPeriods:xe,getMpd:Le,getEventsForPeriod:$e,getEventStreamForAdaptationSet:ze,getEventStreamForRepresentation:Ie,getUTCTimingSources:Be,getBaseURLsFromElement:Ae,getRepresentationSortFunction:B,getLocation:Me}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(98),u=l(p),y=t(58),v=l(y),b=t(84),m=l(b),T=t(78),R=l(T),E=t(83),F=l(E),L=t(82),k=l(L),q=t(86),Z=l(q),V=t(80),D=l(V),M=t(79),X=l(M),w=t(81),O=l(w),G=t(152),ee=l(G),de=t(155),ie=l(de),W=t(48),re=l(W);f.__dashjs_factory_name="DashManifestModel",h.default=re.default.getSingletonFactory(f),_.exports=h.default},{152:152,155:155,48:48,58:58,78:78,79:79,80:80,81:81,82:82,83:83,84:84,86:86,98:98}],61:[function(t,_,h){function l(G){return G&&G.__esModule?G:{default:G}}function f(G){function ee(){se=[new k.default,new Z.default,new D.default,new F.default],e=new R.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:se}),i=new m.default([new X.default,new O.default])}function de(){if(!le||!le.hasOwnProperty("manifestError"))throw new Error("Missing config parameter(s)")}function ie(){return se}function W(){return i}function re(n){var r=void 0;de();try{var o=window.performance.now();if(!(r=e.xml_str2json(n)))throw new Error("parser error");var c=window.performance.now();i.run(r);var g=window.performance.now();ce("Parsing complete: ( xml2json: "+(c-o).toPrecision(3)+"ms, objectiron: "+(g-c).toPrecision(3)+"ms, total: "+((g-o)/1e3).toPrecision(3)+"s)")}catch(I){return le.manifestError("parsing the manifest failed","parse",n,I),null}return r}G=G||{};var ue=this.context,ce=(0,v.default)(ue).getInstance().log,le=G.errorHandler,he=void 0,se=void 0,e=void 0,i=void 0;return he={parse:re,getMatchers:ie,getIron:W},ee(),he}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p),y=t(46),v=l(y),b=t(3),m=l(b),T=t(4),R=l(T),E=t(70),F=l(E),L=t(68),k=l(L),q=t(67),Z=l(q),V=t(69),D=l(V),M=t(64),X=l(M),w=t(65),O=l(w);f.__dashjs_factory_name="DashParser",h.default=u.default.getClassFactory(f),_.exports=h.default},{3:3,4:4,46:46,48:48,64:64,65:65,67:67,68:68,69:69,70:70}],62:[function(t,_,h){function l(u,y){if(!(u instanceof y))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function(){function u(y,v){for(var b=0;b<v.length;b++){var m=v[b];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(y,m.key,m)}}return function(y,v,b){return v&&u(y.prototype,v),b&&u(y,b),y}}(),p=function(){function u(y,v){l(this,u);var b=function(m){return m&&m.length&&m.charAt(0)===m.charAt(0).toUpperCase()};this._name=y,this._merge=v!==void 0?v:b(y)}return f(u,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),u}();h.default=p,_.exports=h.default},{}],63:[function(t,_,h){function l(b){return b&&b.__esModule?b:{default:b}}function f(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var p=function(){function b(m,T){for(var R=0;R<T.length;R++){var E=T[R];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(m,E.key,E)}}return function(m,T,R){return T&&b(m.prototype,T),R&&b(m,R),m}}(),u=t(62),y=l(u),v=function(){function b(m,T,R,E,F){var L=this;f(this,b),this._name=m||"",this._properties=[],this._children=R||[],this._isRoot=E||!1,this._isArray=F||!0,Array.isArray(T)&&T.forEach(function(k){L._properties.push(new y.default(k))})}return p(b,[{key:"name",get:function(){return this._name}},{key:"isRoot",get:function(){return this._isRoot}},{key:"isArray",get:function(){return this._isArray}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),b}();h.default=v,_.exports=h.default},{62:62}],64:[function(t,_,h){function l(R){return R&&R.__esModule?R:{default:R}}function f(R,E){if(!(R instanceof E))throw new TypeError("Cannot call a class as a function")}function p(R,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);R.prototype=Object.create(E&&E.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(R,E):R.__proto__=E)}Object.defineProperty(h,"__esModule",{value:!0});var u=function(R,E,F){for(var L=!0;L;){var k=R,q=E,Z=F;L=!1,k===null&&(k=Function.prototype);var V=Object.getOwnPropertyDescriptor(k,q);if(V!==void 0){if("value"in V)return V.value;var D=V.get;return D===void 0?void 0:D.call(Z)}var M=Object.getPrototypeOf(k);if(M===null)return;R=M,E=q,F=Z,L=!0,V=M=void 0}},y=t(63),v=l(y),b=t(58),m=l(b),T=function(R){function E(){f(this,E);var F=[m.default.PROFILES,m.default.WIDTH,m.default.HEIGHT,m.default.SAR,m.default.FRAMERATE,m.default.AUDIO_SAMPLING_RATE,m.default.MIME_TYPE,m.default.SEGMENT_PROFILES,m.default.CODECS,m.default.MAXIMUM_SAP_PERIOD,m.default.START_WITH_SAP,m.default.MAX_PLAYOUT_RATE,m.default.CODING_DEPENDENCY,m.default.SCAN_TYPE,m.default.FRAME_PACKING,m.default.AUDIO_CHANNEL_CONFIGURATION,m.default.CONTENT_PROTECTION,m.default.ESSENTIAL_PROPERTY,m.default.SUPPLEMENTAL_PROPERTY,m.default.INBAND_EVENT_STREAM];u(Object.getPrototypeOf(E.prototype),"constructor",this).call(this,m.default.ADAPTATION_SET,F,[new v.default(m.default.REPRESENTATION,F,[new v.default(m.default.SUB_REPRESENTATION,F)])])}return p(E,R),E}(v.default);h.default=T,_.exports=h.default},{58:58,63:63}],65:[function(t,_,h){function l(R){return R&&R.__esModule?R:{default:R}}function f(R,E){if(!(R instanceof E))throw new TypeError("Cannot call a class as a function")}function p(R,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);R.prototype=Object.create(E&&E.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(R,E):R.__proto__=E)}Object.defineProperty(h,"__esModule",{value:!0});var u=function(R,E,F){for(var L=!0;L;){var k=R,q=E,Z=F;L=!1,k===null&&(k=Function.prototype);var V=Object.getOwnPropertyDescriptor(k,q);if(V!==void 0){if("value"in V)return V.value;var D=V.get;return D===void 0?void 0:D.call(Z)}var M=Object.getPrototypeOf(k);if(M===null)return;R=M,E=q,F=Z,L=!0,V=M=void 0}},y=t(63),v=l(y),b=t(58),m=l(b),T=function(R){function E(){f(this,E);var F=[m.default.SEGMENT_BASE,m.default.SEGMENT_TEMPLATE,m.default.SEGMENT_LIST];u(Object.getPrototypeOf(E.prototype),"constructor",this).call(this,m.default.PERIOD,F,[new v.default(m.default.ADAPTATION_SET,F,[new v.default(m.default.REPRESENTATION,F)])])}return p(E,R),E}(v.default);h.default=T,_.exports=h.default},{58:58,63:63}],66:[function(t,_,h){function l(u,y){if(!(u instanceof y))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function(){function u(y,v){for(var b=0;b<v.length;b++){var m=v[b];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(y,m.key,m)}}return function(y,v,b){return v&&u(y.prototype,v),b&&u(y,b),y}}(),p=function(){function u(y,v){l(this,u),this._test=y,this._converter=v}return f(u,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),u}();h.default=p,_.exports=h.default},{}],67:[function(t,_,h){function l(F){return F&&F.__esModule?F:{default:F}}function f(F,L){if(!(F instanceof L))throw new TypeError("Cannot call a class as a function")}function p(F,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);F.prototype=Object.create(L&&L.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(F,L):F.__proto__=L)}Object.defineProperty(h,"__esModule",{value:!0});var u=function(F,L,k){for(var q=!0;q;){var Z=F,V=L,D=k;q=!1,Z===null&&(Z=Function.prototype);var M=Object.getOwnPropertyDescriptor(Z,V);if(M!==void 0){if("value"in M)return M.value;var X=M.get;return X===void 0?void 0:X.call(D)}var w=Object.getPrototypeOf(Z);if(w===null)return;F=w,L=V,k=D,q=!0,M=w=void 0}},y=t(66),v=l(y),b=60,m=60,T=1e3,R=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,E=function(F){function L(){f(this,L),u(Object.getPrototypeOf(L.prototype),"constructor",this).call(this,function(k){return R.test(k.value)},function(k){var q=R.exec(k),Z=void 0;if(Z=Date.UTC(parseInt(q[1],10),parseInt(q[2],10)-1,parseInt(q[3],10),parseInt(q[4],10),parseInt(q[5],10),q[6]&&parseInt(q[6],10)||0,q[7]&&parseFloat(q[7])*T||0),q[9]&&q[10]){var V=parseInt(q[9],10)*m+parseInt(q[10],10);Z+=(q[8]==="+"?-1:1)*V*b*T}return new Date(Z)})}return p(L,F),L}(v.default);h.default=E,_.exports=h.default},{66:66}],68:[function(t,_,h){function l(D){return D&&D.__esModule?D:{default:D}}function f(D,M){if(!(D instanceof M))throw new TypeError("Cannot call a class as a function")}function p(D,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);D.prototype=Object.create(M&&M.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(D,M):D.__proto__=M)}Object.defineProperty(h,"__esModule",{value:!0});var u=function(D,M,X){for(var w=!0;w;){var O=D,G=M,ee=X;w=!1,O===null&&(O=Function.prototype);var de=Object.getOwnPropertyDescriptor(O,G);if(de!==void 0){if("value"in de)return de.value;var ie=de.get;return ie===void 0?void 0:ie.call(ee)}var W=Object.getPrototypeOf(O);if(W===null)return;D=W,M=G,X=ee,w=!0,de=W=void 0}},y=t(66),v=l(y),b=t(98),m=l(b),T=t(58),R=l(T),E=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,F=31536e3,L=2592e3,k=86400,q=3600,Z=60,V=function(D){function M(){f(this,M),u(Object.getPrototypeOf(M.prototype),"constructor",this).call(this,function(X){for(var w=[R.default.MIN_BUFFER_TIME,R.default.MEDIA_PRESENTATION_DURATION,R.default.MINIMUM_UPDATE_PERIOD,R.default.TIMESHIFT_BUFFER_DEPTH,R.default.MAX_SEGMENT_DURATION,R.default.MAX_SUBSEGMENT_DURATION,m.default.SUGGESTED_PRESENTATION_DELAY,R.default.START,m.default.START_TIME,R.default.DURATION],O=w.length,G=0;G<O;G++)if(X.nodeName===w[G])return E.test(X.value);return!1},function(X){var w=E.exec(X),O=parseFloat(w[2]||0)*F+parseFloat(w[4]||0)*L+parseFloat(w[6]||0)*k+parseFloat(w[8]||0)*q+parseFloat(w[10]||0)*Z+parseFloat(w[12]||0);return w[1]!==void 0&&(O=-O),O})}return p(M,D),M}(v.default);h.default=V,_.exports=h.default},{58:58,66:66,98:98}],69:[function(t,_,h){function l(T){return T&&T.__esModule?T:{default:T}}function f(T,R){if(!(T instanceof R))throw new TypeError("Cannot call a class as a function")}function p(T,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);T.prototype=Object.create(R&&R.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(T,R):T.__proto__=R)}Object.defineProperty(h,"__esModule",{value:!0});var u=function(T,R,E){for(var F=!0;F;){var L=T,k=R,q=E;F=!1,L===null&&(L=Function.prototype);var Z=Object.getOwnPropertyDescriptor(L,k);if(Z!==void 0){if("value"in Z)return Z.value;var V=Z.get;return V===void 0?void 0:V.call(q)}var D=Object.getPrototypeOf(L);if(D===null)return;T=D,R=k,E=q,F=!0,Z=D=void 0}},y=t(66),v=l(y),b=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,m=function(T){function R(){f(this,R),u(Object.getPrototypeOf(R.prototype),"constructor",this).call(this,function(E){return b.test(E.value)},function(E){return parseFloat(E)})}return p(R,T),R}(v.default);h.default=m,_.exports=h.default},{66:66}],70:[function(t,_,h){function l(E){return E&&E.__esModule?E:{default:E}}function f(E,F,L){return F in E?Object.defineProperty(E,F,{value:L,enumerable:!0,configurable:!0,writable:!0}):E[F]=L,E}function p(E,F){if(!(E instanceof F))throw new TypeError("Cannot call a class as a function")}function u(E,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);E.prototype=Object.create(F&&F.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(E,F):E.__proto__=F)}Object.defineProperty(h,"__esModule",{value:!0});var y=function(E,F,L){for(var k=!0;k;){var q=E,Z=F,V=L;k=!1,q===null&&(q=Function.prototype);var D=Object.getOwnPropertyDescriptor(q,Z);if(D!==void 0){if("value"in D)return D.value;var M=D.get;return M===void 0?void 0:M.call(V)}var X=Object.getPrototypeOf(q);if(X===null)return;E=X,F=Z,L=V,k=!0,D=X=void 0}},v=t(66),b=l(v),m=t(58),T=l(m),R=function(E){function F(){p(this,F),y(Object.getPrototypeOf(F.prototype),"constructor",this).call(this,function(L,k){var q,Z=(q={},f(q,T.default.MPD,[T.default.ID,T.default.PROFILES]),f(q,T.default.PERIOD,[T.default.ID]),f(q,T.default.BASE_URL,[T.default.SERVICE_LOCATION,T.default.BYTE_RANGE]),f(q,T.default.SEGMENT_BASE,[T.default.INDEX_RANGE]),f(q,T.default.INITIALIZATION,[T.default.RANGE]),f(q,T.default.REPRESENTATION_INDEX,[T.default.RANGE]),f(q,T.default.SEGMENT_LIST,[T.default.INDEX_RANGE]),f(q,T.default.BITSTREAM_SWITCHING,[T.default.RANGE]),f(q,T.default.SEGMENT_URL,[T.default.MEDIA_RANGE,T.default.INDEX_RANGE]),f(q,T.default.SEGMENT_TEMPLATE,[T.default.INDEX_RANGE,T.default.MEDIA,T.default.INDEX,T.default.INITIALIZATION_MINUS,T.default.BITSTREAM_SWITCHING_MINUS]),f(q,T.default.ASSET_IDENTIFIER,[T.default.VALUE,T.default.ID]),f(q,T.default.EVENT_STREAM,[T.default.VALUE]),f(q,T.default.ADAPTATION_SET,[T.default.PROFILES,T.default.MIME_TYPE,T.default.SEGMENT_PROFILES,T.default.CODECS,T.default.CONTENT_TYPE]),f(q,T.default.FRAME_PACKING,[T.default.VALUE,T.default.ID]),f(q,T.default.AUDIO_CHANNEL_CONFIGURATION,[T.default.VALUE,T.default.ID]),f(q,T.default.CONTENT_PROTECTION,[T.default.VALUE,T.default.ID]),f(q,T.default.ESSENTIAL_PROPERTY,[T.default.VALUE,T.default.ID]),f(q,T.default.SUPPLEMENTAL_PROPERTY,[T.default.VALUE,T.default.ID]),f(q,T.default.INBAND_EVENT_STREAM,[T.default.VALUE,T.default.ID]),f(q,T.default.ACCESSIBILITY,[T.default.VALUE,T.default.ID]),f(q,T.default.ROLE,[T.default.VALUE,T.default.ID]),f(q,T.default.RATING,[T.default.VALUE,T.default.ID]),f(q,T.default.VIEWPOINT,[T.default.VALUE,T.default.ID]),f(q,T.default.CONTENT_COMPONENT,[T.default.CONTENT_TYPE]),f(q,T.default.REPRESENTATION,[T.default.ID,T.default.DEPENDENCY_ID,T.default.MEDIA_STREAM_STRUCTURE_ID]),f(q,T.default.SUBSET,[T.default.ID]),f(q,T.default.METRICS,[T.default.METRICS_MINUS]),f(q,T.default.REPORTING,[T.default.VALUE,T.default.ID]),q);if(Z.hasOwnProperty(k)){var V=Z[k];return V!==void 0&&V.indexOf(L.name)>=0}return!1},function(L){return String(L)})}return u(F,E),F}(b.default);h.default=R,_.exports=h.default},{58:58,66:66}],71:[function(t,_,h){function l(y){return y&&y.__esModule?y:{default:y}}function f(){function y(T){T&&T.boxParser&&(m=T.boxParser)}function v(T){if(!m)throw new Error("boxParser is undefined");if(!T)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var R=m.parse(T),E=R.getBoxes("moof"),F=R.getBoxes("mfhd"),L=void 0,k=void 0,q=void 0,Z=void 0,V=void 0,D=void 0,M=void 0,X=void 0,w=void 0,O=void 0,G=void 0,ee=void 0,de=void 0,ie=void 0,W=void 0,re=void 0,ue=void 0;re=R.getBoxes("moof").length,W=F[F.length-1].sequence_number,q=0,D=[];var ce=-1,le=-1;for(G=0;G<E.length;G++){var he=E[G],se=he.getChildBoxes("traf");for(w=0;w<se.length;w++){var e=se[w],i=e.getChildBox("tfhd"),n=e.getChildBox("tfdt");V=n.baseMediaDecodeTime;var r=e.getChildBoxes("trun"),o=e.getChildBoxes("subs");for(O=0;O<r.length;O++){var c=r[O];for(q=c.sample_count,ie=(i.base_data_offset||0)+(c.data_offset||0),X=0;X<q;X++){M=c.samples[X],L=M.sample_duration!==void 0?M.sample_duration:i.default_sample_duration,Z=M.sample_size!==void 0?M.sample_size:i.default_sample_size,k=M.sample_composition_time_offset!==void 0?M.sample_composition_time_offset:0;var g={dts:V,cts:V+k,duration:L,offset:he.offset+ie,size:Z,subSizes:[Z]};if(o)for(ee=0;ee<o.length;ee++){var I=o[ee];if(ce<I.entry_count&&X>le&&(ce++,le+=I.entries[ce].sample_delta),X==le){g.subSizes=[];var P=I.entries[ce];for(de=0;de<P.subsample_count;de++)g.subSizes.push(P.subsamples[de].subsample_size)}}D.push(g),ie+=Z,V+=L}}ue=V-n.baseMediaDecodeTime}}return{sampleList:D,lastSequenceNumber:W,totalDuration:ue,numSequences:re}}function b(T){if(!m)throw new Error("boxParser is undefined");var R=m.parse(T),E=R?R.getBox("mdhd"):void 0;return E?E.timescale:NaN}var m=void 0;return{getSamplesInfo:v,getMediaTimescaleFromMoov:b,setConfig:y}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p);f.__dashjs_factory_name="FragmentedTextBoxParser",h.default=u.default.getSingletonFactory(f),_.exports=h.default},{48:48}],72:[function(t,_,h){function l(b){return b&&b.__esModule?b:{default:b}}function f(b,m){function T(E,F,L,k){var q=E.adaptation.period.mpd.manifest.Period_asArray[E.adaptation.period.index].AdaptationSet_asArray[E.adaptation.index].Representation_asArray[E.index].SegmentList,Z=q.SegmentURL_asArray.length,V=[],D=void 0,M=void 0,X=void 0,w=void 0,O=void 0,G=void 0,ee=void 0;for(ee=E.startNumber,w=(0,y.decideSegmentListRangeForTemplate)(R,m,E,F,L,k),O=Math.max(w.start,0),G=Math.min(w.end,q.SegmentURL_asArray.length-1),D=O;D<=G;D++)X=q.SegmentURL_asArray[D],M=(0,y.getIndexBasedSegment)(R,m,E,D),M.replacementTime=(ee+D-1)*E.segmentDuration,M.media=X.media?X.media:"",M.mediaRange=X.mediaRange,M.index=X.index,M.indexRange=X.indexRange,V.push(M),M=null;return E.availableSegmentsNumber=Z,V}b=b||{};var R=b.timelineConverter;return{getSegments:T}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p),y=t(74);f.__dashjs_factory_name="ListSegmentsGetter";var v=u.default.getClassFactory(f);h.default=v,_.exports=h.default},{48:48,74:74}],73:[function(t,_,h){function l(k){return k&&k.__esModule?k:{default:k}}function f(k,q){function Z(){w=(0,m.default)(M).create(k,q),O=(0,R.default)(M).create(k,q),G=(0,F.default)(M).create(k,q)}function V(ee,de,ie,W,re){var ue=void 0,ce=ee.segmentInfoType;ce!==u.default.SEGMENT_BASE&&ce!==u.default.BASE_URL&&D(ee,ie)?(ce===u.default.SEGMENT_TIMELINE?ue=w.getSegments(ee,de,ie,re):ce===u.default.SEGMENT_TEMPLATE?ue=O.getSegments(ee,de,ie,re):ce===u.default.SEGMENT_LIST&&(ue=G.getSegments(ee,de,ie,re)),W&&W(ee,ue)):ue=ee.segments}function D(ee,de){var ie=ee.segments,W=!1,re=void 0,ue=void 0;return ie&&ie.length!==0?(ue=ie[0].availabilityIdx,re=ie[ie.length-1].availabilityIdx,W=de<ue||de>re):W=!0,W}var M=this.context,X=void 0,w=void 0,O=void 0,G=void 0;return X={getSegments:V},Z(),X}Object.defineProperty(h,"__esModule",{value:!0});var p=t(58),u=l(p),y=t(48),v=l(y),b=t(77),m=l(b),T=t(75),R=l(T),E=t(72),F=l(E);f.__dashjs_factory_name="SegmentsGetter";var L=v.default.getClassFactory(f);h.default=L,_.exports=h.default},{48:48,58:58,72:72,75:75,77:77}],74:[function(t,_,h){function l(L){return L&&L.__esModule?L:{default:L}}function f(L,k){for(;L.length<k;)L="0"+L;return L}function p(L,k){return L.representation.startNumber+k}function u(L){return L&&L.split("$$").join("$")}function y(L,k){if(!k||!L||L.indexOf("$RepresentationID$")===-1)return L;var q=k.toString();return L.split("$RepresentationID$").join(q)}function v(L,k,q){var Z="%0",V=void 0,D=void 0,M=void 0,X=void 0,w=void 0,O=void 0,G=k.length,ee=Z.length;if(!L)return L;for(;;){if((V=L.indexOf("$"+k))<0||(D=L.indexOf("$",V+G))<0)return L;if((M=L.indexOf(Z,V+G))>V&&M<D)switch(X=L.charAt(D-1),w=parseInt(L.substring(M+ee,D-1),10),X){case"d":case"i":case"u":O=f(q.toString(),w);break;case"x":O=f(q.toString(16),w);break;case"X":O=f(q.toString(16),w).toUpperCase();break;case"o":O=f(q.toString(8),w);break;default:return L}else O=q;L=L.substring(0,V)+O+L.substring(D+1)}}function b(L,k,q,Z){var V=void 0,D=void 0,M=void 0,X=void 0;return D=q.segmentDuration,isNaN(D)&&(D=q.adaptation.period.duration),M=parseFloat((q.adaptation.period.start+Z*D).toFixed(5)),X=parseFloat((M+D).toFixed(5)),V=new F.default,V.representation=q,V.duration=D,V.presentationStartTime=M,V.mediaStartTime=L.calcMediaTimeFromPresentationTime(V.presentationStartTime,q),V.availabilityStartTime=L.calcAvailabilityStartTimeFromPresentationTime(V.presentationStartTime,q.adaptation.period.mpd,k),V.availabilityEndTime=L.calcAvailabilityEndTimeFromPresentationTime(X,q.adaptation.period.mpd,k),V.wallStartTime=L.calcWallTimeForSegment(V,k),V.replacementNumber=p(V,Z),V.availabilityIdx=Z,V}function m(L,k,q,Z,V,D,M,X,w,O){var G=Z/D,ee=Math.min(V/D,q.adaptation.period.mpd.maxSegmentDuration),de=void 0,ie=void 0,W=void 0;return de=L.calcPresentationTimeFromMediaTime(G,q),ie=de+ee,W=new F.default,W.representation=q,W.duration=ee,W.mediaStartTime=G,W.presentationStartTime=de,W.availabilityStartTime=q.adaptation.period.mpd.manifest.loadedTime,W.availabilityEndTime=L.calcAvailabilityEndTimeFromPresentationTime(ie,q.adaptation.period.mpd,k),W.wallStartTime=L.calcWallTimeForSegment(W,k),W.replacementTime=O||Z,W.replacementNumber=p(W,w),M=v(M,"Number",W.replacementNumber),M=v(M,"Time",W.replacementTime),W.media=M,W.mediaRange=X,W.availabilityIdx=w,W}function T(L,k){if(!k||!k.segments)return null;var q=k.segments.length,Z=void 0,V=void 0;if(L<q&&(Z=k.segments[L])&&Z.availabilityIdx===L)return Z;for(V=0;V<q;V++)if((Z=k.segments[V])&&Z.availabilityIdx===L)return Z;return null}function R(L,k,q,Z,V,D){var M=q.segmentDuration,X=q.adaptation.period.mpd.manifest.minBufferTime,w=q.segmentAvailabilityRange,O={start:L.calcPeriodRelativeTimeFromMpdRelativeTime(q,w.start),end:L.calcPeriodRelativeTimeFromMpdRelativeTime(q,w.end)},G=q.segments,ee=2*M,de=D||Math.max(2*X,10*M),ie=NaN,W=null,re=void 0,ue=void 0;return O.start=Math.max(O.start,0),k&&!L.isTimeSyncCompleted()?(re=Math.floor(O.start/M),ue=Math.floor(O.end/M),{start:re,end:ue}):(G&&G.length>0?(W=T(V,q),ie=W?L.calcPeriodRelativeTimeFromMpdRelativeTime(q,W.presentationStartTime):V>0?V*M:L.calcPeriodRelativeTimeFromMpdRelativeTime(q,Z)):ie=V>0?V*M:k?O.end:O.start,re=Math.floor(Math.max(ie-ee,O.start)/M),ue=Math.floor(Math.min(re+de/M,O.end/M)),{start:re,end:ue})}Object.defineProperty(h,"__esModule",{value:!0}),h.unescapeDollarsInTemplate=u,h.replaceIDForTemplate=y,h.replaceTokenForTemplate=v,h.getIndexBasedSegment=b,h.getTimeBasedSegment=m,h.getSegmentByIndex=T,h.decideSegmentListRangeForTemplate=R;var E=t(85),F=l(E)},{85:85}],75:[function(t,_,h){function l(b){return b&&b.__esModule?b:{default:b}}function f(b,m){function T(E,F,L,k){var q=E.adaptation.period.mpd.manifest.Period_asArray[E.adaptation.period.index].AdaptationSet_asArray[E.adaptation.index].Representation_asArray[E.index].SegmentTemplate,Z=E.segmentDuration,V=E.segmentAvailabilityRange,D=[],M=null,X=null,w=void 0,O=void 0,G=void 0,ee=void 0,de=void 0;for(de=E.startNumber,w=isNaN(Z)&&!m?{start:de,end:de}:(0,y.decideSegmentListRangeForTemplate)(R,m,E,F,L,k),G=w.start,ee=w.end,O=G;O<=ee;O++)X=(0,y.getIndexBasedSegment)(R,m,E,O),X.replacementTime=(de+O-1)*E.segmentDuration,M=q.media,M=(0,y.replaceTokenForTemplate)(M,"Number",X.replacementNumber),M=(0,y.replaceTokenForTemplate)(M,"Time",X.replacementTime),X.media=M,D.push(X),X=null;return isNaN(Z)?E.availableSegmentsNumber=1:E.availableSegmentsNumber=Math.ceil((V.end-V.start)/Z),D}var R=b.timelineConverter;return{getSegments:T}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p),y=t(74);f.__dashjs_factory_name="TemplateSegmentsGetter";var v=u.default.getClassFactory(f);h.default=v,_.exports=h.default},{48:48,74:74}],76:[function(t,_,h){function l(T){return T&&T.__esModule?T:{default:T}}function f(){function T(){W(),ce.on(v.default.TIME_SYNCHRONIZATION_COMPLETED,de,this)}function R(){return he}function E(e){he=e}function F(){return le}function L(e){le=e}function k(){return se}function q(e){se=e}function Z(e,i,n,r){return r?n&&i.timeShiftBufferDepth!=Number.POSITIVE_INFINITY?new Date(i.availabilityStartTime.getTime()+1e3*(e+i.timeShiftBufferDepth)):i.availabilityEndTime:n?new Date(i.availabilityStartTime.getTime()+1e3*(e-le)):i.availabilityStartTime}function V(e,i,n){return Z.call(this,e,i,n)}function D(e,i,n){return Z.call(this,e,i,n,!0)}function M(e,i){return(e.getTime()-i.mpd.availabilityStartTime.getTime()+1e3*le)/1e3}function X(e,i){return e+(i.adaptation.period.start-i.presentationTimeOffset)}function w(e,i){return e-i.adaptation.period.start+i.presentationTimeOffset}function O(e,i){var n=void 0,r=void 0,o=void 0;return i&&(n=e.representation.adaptation.period.mpd.suggestedPresentationDelay,r=e.presentationStartTime+n,o=new Date(e.availabilityStartTime.getTime()+1e3*r)),o}function G(e,i){var n=e.adaptation.period,r={start:n.start,end:n.start+n.duration};if(!i)return r;if(!he&&e.segmentAvailabilityRange)return e.segmentAvailabilityRange;var o=e.segmentDuration||(e.segments&&e.segments.length?e.segments[e.segments.length-1].duration:0),c=M(new Date,n),g=n.start+n.duration;return r.start=Math.max(c-n.mpd.timeShiftBufferDepth,n.start),r.end=c>=g&&c-o<g?g-o:c-o,r}function ee(e,i){return i-e.adaptation.period.start}function de(e){he||e.offset!==void 0&&(L(e.offset/1e3),he=!0)}function ie(e){var i=e.presentationTimeOffset;return e.adaptation.period.start-i}function W(){le=0,he=!1,se=NaN}function re(){ce.off(v.default.TIME_SYNCHRONIZATION_COMPLETED,de,this),W()}var ue=this.context,ce=(0,u.default)(ue).getInstance(),le=void 0,he=void 0,se=void 0;return{initialize:T,isTimeSyncCompleted:R,setTimeSyncCompleted:E,getClientTimeOffset:F,setClientTimeOffset:L,getExpectedLiveEdge:k,setExpectedLiveEdge:q,calcAvailabilityStartTimeFromPresentationTime:V,calcAvailabilityEndTimeFromPresentationTime:D,calcPresentationTimeFromWallTime:M,calcPresentationTimeFromMediaTime:X,calcPeriodRelativeTimeFromMpdRelativeTime:ee,calcMediaTimeFromPresentationTime:w,calcSegmentAvailabilityRange:G,calcWallTimeForSegment:O,calcMSETimeOffset:ie,reset:re}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(47),u=l(p),y=t(51),v=l(y),b=t(48),m=l(b);f.__dashjs_factory_name="TimelineConverter",h.default=m.default.getSingletonFactory(f),_.exports=h.default},{47:47,48:48,51:51}],77:[function(t,_,h){function l(b){return b&&b.__esModule?b:{default:b}}function f(b,m){function T(){if(!(E&&E.hasOwnProperty("calcMediaTimeFromPresentationTime")&&E.hasOwnProperty("calcSegmentAvailabilityRange")&&E.hasOwnProperty("calcMediaTimeFromPresentationTime")))throw new Error("Missing config parameter(s)")}function R(F,L,k,q){if(T(),!F)throw new Error("no representation");L===void 0&&(L=null);var Z=F.adaptation.period.mpd.manifest.Period_asArray[F.adaptation.period.index].AdaptationSet_asArray[F.adaptation.index].Representation_asArray[F.index].SegmentTemplate||F.adaptation.period.mpd.manifest.Period_asArray[F.adaptation.period.index].AdaptationSet_asArray[F.adaptation.index].Representation_asArray[F.index].SegmentList,V=Z.SegmentTimeline,D=Z.SegmentURL_asArray,M=F.availableSegmentsNumber>0,X=void 0;X=q||(k>-1||L!==null?10:1/0);var w=0,O=0,G=-1,ee=[],de=null,ie=void 0,W=void 0,re=void 0,ue=void 0,ce=void 0,le=void 0,he=void 0,se=void 0,e=void 0,i=void 0,n=void 0,r=function(c,g){var I=Z.media,P=c.mediaRange;return D&&(I=D[g].media||"",P=D[g].mediaRange),(0,y.getTimeBasedSegment)(E,m,F,w,c.d,n,I,P,G,c.tManifest)};for(n=F.timescale,ie=V.S_asArray,i=k,L!==null&&(de=E.calcMediaTimeFromPresentationTime(L,F)),re=0,ue=ie.length;re<ue;re++){if(W=ie[re],le=0,W.hasOwnProperty("r")&&(le=W.r),W.hasOwnProperty("t")&&(w=W.t,O=w/n),le<0){if((se=ie[re+1])&&se.hasOwnProperty("t"))he=se.t/n;else{var o=F.segmentAvailabilityRange?F.segmentAvailabilityRange.end:E.calcSegmentAvailabilityRange(F,m).end;he=E.calcMediaTimeFromPresentationTime(o,F),F.segmentDuration=W.d/n}le=Math.ceil((he-O)/(W.d/n))-1}if(e){if(M)break;G+=le+1}else for(ce=0;ce<=le;ce++)if(G++,ee.length>X){if(e=!0,M)break}else de!==null?O>=de-W.d/n*1.5&&ee.push(r(W,G)):G>=i&&ee.push(r(W,G)),w+=W.d,O=w/n}return M||(F.availableSegmentsNumber=G+1),ee}b=b||{};var E=b.timelineConverter;return{getSegments:R}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p),y=t(74);f.__dashjs_factory_name="TimelineSegmentsGetter";var v=u.default.getClassFactory(f);h.default=v,_.exports=h.default},{48:48,74:74}],78:[function(t,_,h){function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function p(){l(this,p),this.period=null,this.index=-1,this.type=null};h.default=f,_.exports=h.default},{}],79:[function(t,_,h){function l(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=1,p=1,u=function y(v,b,m,T){l(this,y),this.url=v||"",this.serviceLocation=b||v||"",this.dvb_priority=m||f,this.dvb_weight=T||p};u.DEFAULT_DVB_PRIORITY=f,u.DEFAULT_DVB_WEIGHT=p,h.default=u,_.exports=h.default},{}],80:[function(t,_,h){function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function p(){l(this,p),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN};h.default=f,_.exports=h.default},{}],81:[function(t,_,h){function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function p(){l(this,p),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri=""};h.default=f,_.exports=h.default},{}],82:[function(t,_,h){function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function p(){l(this,p),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN};h.default=f,_.exports=h.default},{}],83:[function(t,_,h){function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function p(){l(this,p),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null};f.DEFAULT_ID="defaultId",h.default=f,_.exports=h.default},{}],84:[function(t,_,h){function l(b){return b&&b.__esModule?b:{default:b}}function f(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var p=function(){function b(m,T){for(var R=0;R<T.length;R++){var E=T[R];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(m,E.key,E)}}return function(m,T,R){return T&&b(m.prototype,T),R&&b(m,R),m}}(),u=t(58),y=l(u),v=function(){function b(){f(this,b),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.segmentAvailabilityRange=null,this.availableSegmentsNumber=0,this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN}return p(b,null,[{key:"hasInitialization",value:function(m){return m.initialization!==null||m.range!==null}},{key:"hasSegments",value:function(m){return m.segmentInfoType!==y.default.BASE_URL&&m.segmentInfoType!==y.default.SEGMENT_BASE&&!m.indexRange}}]),b}();h.default=v,_.exports=h.default},{58:58}],85:[function(t,_,h){function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function p(){l(this,p),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.availabilityIdx=NaN,this.wallStartTime=NaN,this.representation=null};h.default=f,_.exports=h.default},{}],86:[function(t,_,h){function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function p(){l(this,p),this.schemeIdUri="",this.value=""};h.default=f,_.exports=h.default},{}],87:[function(t,_,h){function l(M){return M&&M.__esModule?M:{default:M}}function f(M){function X(){re=(0,u.default)(de).create({errHandler:M.errHandler,metricsModel:M.metricsModel,mediaPlayerModel:M.mediaPlayerModel,requestModifier:M.requestModifier})}function w(ue){var ce=function(he){ie.trigger(F.default.CHECK_FOR_EXISTENCE_COMPLETED,{request:ue,exists:he})};if(ue){var le=new v.default(ue.url);re.load({request:le,success:function(){ce(!0)},error:function(){ce(!1)}})}else ce(!1)}function O(ue){var ce=function(le,he){ie.trigger(F.default.LOADING_COMPLETED,{request:ue,response:le||null,error:he||null,sender:W})};ue?re.load({request:ue,progress:function(){ie.trigger(F.default.LOADING_PROGRESS,{request:ue})},success:function(le){ce(le)},error:function(le,he,se){ce(void 0,new m.default(q,se,he))},abort:function(le,he){le&&he===0&&ie.trigger(F.default.LOADING_ABANDONED,{request:le,mediaType:le.mediaType,sender:W})}}):ce(void 0,new m.default(Z,V))}function G(){re&&re.abort()}function ee(){re&&(re.abort(),re=null)}M=M||{};var de=this.context,ie=(0,R.default)(de).getInstance(),W=void 0,re=void 0;return W={checkForExistence:w,load:O,abort:G,reset:ee},X(),W}Object.defineProperty(h,"__esModule",{value:!0});var p=t(96),u=l(p),y=t(163),v=l(y),b=t(160),m=l(b),T=t(47),R=l(T),E=t(51),F=l(E),L=t(48),k=l(L),q=1,Z=2,V="request is null";f.__dashjs_factory_name="FragmentLoader";var D=k.default.getClassFactory(f);D.FRAGMENT_LOADER_ERROR_LOADING_FAILURE=q,D.FRAGMENT_LOADER_ERROR_NULL_REQUEST=Z,k.default.updateClassFactory(f.__dashjs_factory_name,D),h.default=D,_.exports=h.default},{160:160,163:163,47:47,48:48,51:51,96:96}],88:[function(t,_,h){function l(ce){return ce&&ce.__esModule?ce:{default:ce}}function f(ce){function le(){r.on(M.default.XLINK_READY,he,I),P=(0,m.default)(n).create({errHandler:S,metricsModel:ce.metricsModel,mediaPlayerModel:ce.mediaPlayerModel,requestModifier:ce.requestModifier}),U=(0,v.default)(n).create({errHandler:S,metricsModel:ce.metricsModel,mediaPlayerModel:ce.mediaPlayerModel,requestModifier:ce.requestModifier}),B=null}function he(N){r.trigger(M.default.INTERNAL_MANIFEST_LOADED,{manifest:N.manifest})}function se(N){var C=null;return N.indexOf("SmoothStreamingMedia")>-1?(te?(C=te.createMssParser(),te.registerEvents()):S.manifestError("manifest type unsupported","createParser"),C):N.indexOf("MPD")>-1?(0,G.default)(n).create({errorHandler:S}):C}function e(N){var C=new F.default(N,q.HTTPRequest.MPD_TYPE);P.load({request:C,success:function(x,z,Y){var K=void 0,Q=void 0;if(Y.responseURL&&Y.responseURL!==N?(Q=o.parseBaseUrl(Y.responseURL),K=Y.responseURL):(o.isRelative(N)&&(N=o.resolve(N,window.location.href)),Q=o.parseBaseUrl(N)),B===null&&(B=se(x)),B===null)return void r.trigger(M.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new k.default(ie,"Failed detecting manifest type: "+N)});U.setMatchers(B.getMatchers()),U.setIron(B.getIron());var d=B.parse(x);d?(d.url=K||N,d.originalUrl||(d.originalUrl=d.url),d.hasOwnProperty(u.default.LOCATION)&&(Q=o.parseBaseUrl(d.Location_asArray[0]),g("BaseURI set by Location to: "+Q)),d.baseUri=Q,d.loadedTime=new Date,U.resolveManifestOnLoad(d)):r.trigger(M.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new k.default(ie,re)})},error:function(x,z,Y){r.trigger(M.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new k.default(W,"Failed loading manifest: "+N+", "+Y)})}})}function i(){r.off(M.default.XLINK_READY,he,I),U&&(U.reset(),U=null),P&&(P.abort(),P=null),te&&te.reset()}ce=ce||{};var n=this.context,r=(0,V.default)(n).getInstance(),o=(0,R.default)(n).getInstance(),c=(0,de.default)(n).getInstance(),g=c.log,I=void 0,P=void 0,U=void 0,B=void 0,te=ce.mssHandler,S=ce.errHandler;return I={load:e,reset:i},le(),I}Object.defineProperty(h,"__esModule",{value:!0});var p=t(98),u=l(p),y=t(112),v=l(y),b=t(96),m=l(b),T=t(155),R=l(T),E=t(170),F=l(E),L=t(160),k=l(L),q=t(179),Z=t(47),V=l(Z),D=t(51),M=l(D),X=t(48),w=l(X),O=t(61),G=l(O),ee=t(46),de=l(ee),ie=1,W=2,re="parsing failed";f.__dashjs_factory_name="ManifestLoader";var ue=w.default.getClassFactory(f);ue.MANIFEST_LOADER_ERROR_PARSING_FAILURE=ie,ue.MANIFEST_LOADER_ERROR_LOADING_FAILURE=W,w.default.updateClassFactory(f.__dashjs_factory_name,ue),h.default=ue,_.exports=h.default},{112:112,155:155,160:160,170:170,179:179,46:46,47:47,48:48,51:51,61:61,96:96,98:98}],89:[function(t,_,h){function l(E){return E&&E.__esModule?E:{default:E}}function f(){function E(n){n&&(n.manifestModel&&(se=n.manifestModel),n.dashManifestModel&&(e=n.dashManifestModel),n.mediaPlayerModel&&(i=n.mediaPlayerModel),n.manifestLoader&&(he=n.manifestLoader))}function F(){k(),W.on(v.default.STREAMS_COMPOSED,ee,this),W.on(v.default.PLAYBACK_STARTED,O,this),W.on(v.default.PLAYBACK_PAUSED,G,this),W.on(v.default.INTERNAL_MANIFEST_LOADED,w,this)}function L(n){M(n)}function k(){re=NaN,le=!1,ce=!0,Z()}function q(){W.off(v.default.PLAYBACK_STARTED,O,this),W.off(v.default.PLAYBACK_PAUSED,G,this),W.off(v.default.STREAMS_COMPOSED,ee,this),W.off(v.default.INTERNAL_MANIFEST_LOADED,w,this),k()}function Z(){ue!==null&&(clearInterval(ue),ue=null)}function V(){Z(),isNaN(re)||(ie("Refresh manifest in "+re+" seconds."),ue=setTimeout(X,1e3*re))}function D(){le=!0;var n=se.getValue(),r=n.url,o=e.getLocation(n);o&&(r=o),he.load(r)}function M(n){se.setValue(n);var r=new Date,o=(r.getTime()-n.loadedTime.getTime())/1e3;re=e.getManifestUpdatePeriod(n,o),W.trigger(v.default.MANIFEST_UPDATED,{manifest:n}),ie("Manifest has been refreshed at "+r+"["+r.getTime()/1e3+"] "),ce||V()}function X(){ce&&!i.getScheduleWhilePaused()||le||D()}function w(n){n.error||M(n.manifest)}function O(){ce=!1,V()}function G(){ce=!0,Z()}function ee(){le=!1}var de=this.context,ie=(0,R.default)(de).getInstance().log,W=(0,u.default)(de).getInstance(),re=void 0,ue=void 0,ce=void 0,le=void 0,he=void 0,se=void 0,e=void 0,i=void 0;return{initialize:F,setManifest:L,refreshManifest:D,setConfig:E,reset:q}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(47),u=l(p),y=t(51),v=l(y),b=t(48),m=l(b),T=t(46),R=l(T);f.__dashjs_factory_name="ManifestUpdater",h.default=m.default.getClassFactory(f),_.exports=h.default},{46:46,47:47,48:48,51:51}],90:[function(t,_,h){function l(Ce){return Ce&&Ce.__esModule?Ce:{default:Ce}}function f(){function Ce(){ai=!1,$t=!1,Jt=!1,Bi=!0,ei=null,Li=null,ti=null,S.default.extend(C.default),ft=(0,he.default)(Ct).getInstance(),Lt=(0,o.default)(Ct).getInstance()}function xe(me){me&&(me.capabilities&&(_i=me.capabilities),me.streamController&&(Ht=me.streamController),me.playbackController&&(Xt=me.playbackController),me.mediaPlayerModel&&(ft=me.mediaPlayerModel),me.abrController&&(xt=me.abrController),me.mediaController&&(Kt=me.mediaController))}function Se(me,Ge,ot){if(_i||(_i=(0,X.default)(Ct).getInstance()),vi=(0,D.default)(Ct).getInstance(),!_i.supportsMediaSource())return void vi.capabilityError("mediasource");ai||(ai=!0,ln=(0,oe.default)(Ct).getInstance(),xt||(xt=(0,n.default)(Ct).getInstance()),Xt||(Xt=(0,R.default)(Ct).getInstance()),Kt||(Kt=(0,k.default)(Ct).getInstance()),ti=(0,Q.default)(Ct).getInstance(),yi=(0,A.default)(Ct).getInstance({mediaController:Kt,timelineConverter:ln,adapter:ti}),xi=(0,ce.default)(Ct).getInstance(),Mi=(0,j.default)(Ct).getInstance({manifestModel:xi,dashManifestModel:yi}),si=(0,e.default)(Ct).getInstance(),Ot=(0,ie.default)(Ct).getInstance(),qi=(0,g.default)(Ct).getInstance({mediaPlayerModel:ft}),ti.setConfig({dashManifestModel:yi}),si.setConfig({adapter:ti}),Ri(),yt(ot===void 0||ot),me&&rn(me),Ge&&an(Ge),hi("[dash.js "+ze()+"] MediaPlayer has been initialized"))}function Le(){an(null),rn(null),Li=null,ei&&(ei.reset(),ei=null),Ui&&(Ui.reset(),Ui=null)}function ke(){return!!ui&&!!Lt.getElement()}function $e(me,Ge,ot){bi.on(me,Ge,ot)}function Xe(me,Ge,ot){bi.off(me,Ge,ot)}function ze(){return(0,Y.getVersionString)()}function Ie(){return In}function Be(){if(Lt.getElement()||Jt)return!1;if(!ui)throw wn;on()}function Ae(){if(!$t)throw ri;(!Bi||je()&&$t)&&Xt.play()}function Me(){if(!$t)throw ri;Xt.pause()}function je(){if(!$t)throw ri;return Xt.isPaused()}function He(me){if(!$t)throw ri;if(typeof me!="number"||isNaN(me))throw Vr;var Ge=Xt.getIsDynamic()?De(me):me;Xt.seek(Ge)}function Pe(){if(!$t)throw ri;return Xt.isSeeking()}function Re(){if(!$t)throw ri;return Xt.getIsDynamic()}function st(me){if(!Lt.getElement())throw ci;oi().playbackRate=me}function Qe(){if(!Lt.getElement())throw ci;return oi().playbackRate}function We(me){if(!Lt.getElement())throw ci;oi().muted=me}function ne(){if(!Lt.getElement())throw ci;return oi().muted}function fe(me){if(!Lt.getElement())throw ci;oi().volume=me}function _e(){if(!Lt.getElement())throw ci;return oi().volume}function pe(me){var Ge=[u.default.VIDEO,u.default.AUDIO,u.default.FRAGMENTED_TEXT];if(me){if(Ge.indexOf(me)!==-1){var ot=tn().getCurrentBufferLevel(nn(me));return ot||NaN}return hi("Warning  - getBufferLength requested for invalid type"),NaN}var ot=Ge.map(function(Bt){return yn(Bt).length>0?tn().getCurrentBufferLevel(nn(Bt)):Number.MAX_VALUE}).reduce(function(Bt,di){return Math.min(Bt,di)});return ot===Number.MAX_VALUE?NaN:ot}function be(){var me=Fi();return me?me.manifestInfo.DVRWindowSize:0}function De(me){var Ge=Fi(),ot=Xt.getLiveDelay();if(!Ge)return 0;var Bt=Ge.range.start+me;return Bt>Ge.range.end-ot&&(Bt=Ge.range.end-ot),Bt}function Ue(me){if(!$t)throw ri;var Ge=oi().currentTime;if(me!==void 0)Ge=Ht.getTimeRelativeToStreamId(Ge,me);else if(Xt.getIsDynamic()){var ot=Fi();Ge=ot===null?0:rt()-(ot.range.end-ot.time)}return Ge}function rt(){if(!$t)throw ri;var me=oi().duration;if(Xt.getIsDynamic()){var Ge=Fi(),ot=void 0;if(!Ge)return 0;ot=Ge.range.end-Ge.range.start,me=ot<Ge.manifestInfo.DVRWindowSize?ot:Ge.manifestInfo.DVRWindowSize}return me}function dt(){if(!$t)throw ri;return Ue()<0?NaN:En(Ue())}function vt(){if(!$t)throw ri;return En(rt())}function Vt(me,Ge){xt.setMaxAllowedBitrateFor(me,Ge)}function Gt(me,Ge){xt.setMinAllowedBitrateFor(me,Ge)}function wt(me){return xt.getMaxAllowedBitrateFor(me)}function lt(me){return xt.getMinAllowedBitrateFor(me)}function et(me,Ge){xt.setMaxAllowedRepresentationRatioFor(me,Ge)}function Tt(me){return xt.getMaxAllowedRepresentationRatioFor(me)}function at(me){if(!Jt)throw li;if(me===u.default.IMAGE){var Ge=zi();if(!Ge)return-1;var ot=Ge.getThumbnailController();return ot?ot.getCurrentTrackIndex():-1}return xt.getQualityFor(me,Ht.getActiveStreamInfo())}function _t(me,Ge){if(!Jt)throw li;if(me===u.default.IMAGE){var ot=zi();if(!ot)return;var Bt=ot.getThumbnailController();Bt&&Bt.setTrackByIndex(Ge)}xt.setPlaybackQuality(me,Ht.getActiveStreamInfo(),Ge)}function nt(){xt.setElementSize(),xt.setWindowResizeEventCalled(!0)}function bt(){return xt.getLimitBitrateByPortal()}function Rt(me){xt.setLimitBitrateByPortal(me)}function Ut(){return xt.getUsePixelRatioInLimitBitrateByPortal()}function At(me){xt.setUsePixelRatioInLimitBitrateByPortal(me)}function Pt(me,Ge){xt.setInitialBitrateFor(me,Ge)}function ut(me){if(!Jt)throw li;return xt.getInitialBitrateFor(me)}function qe(me,Ge){xt.setInitialRepresentationRatioFor(me,Ge)}function it(me){return xt.getInitialRepresentationRatioFor(me)}function ct(me){return xt.getAutoSwitchBitrateFor(me)}function Et(me,Ge){xt.setAutoSwitchBitrateFor(me,Ge)}function It(){return xt.getUseDeadTimeLatency()}function gt(me){xt.setUseDeadTimeLatency(me)}function yt(me){Bi=me}function Dt(){return Bi}function Nt(me){ft.setLiveDelayFragmentCount(me)}function St(me){ft.setLiveDelay(me)}function Mt(){return ft.getLiveDelay()}function Oe(me){ft.setUseSuggestedPresentationDelay(me)}function Je(me,Ge){ft.setLastBitrateCachingInfo(me,Ge)}function ae(me,Ge){ft.setLastMediaSettingsCachingInfo(me,Ge)}function Te(me){ft.setScheduleWhilePaused(me)}function Fe(){return ft.getScheduleWhilePaused()}function Ve(me){ft.setFastSwitchEnabled(me)}function Ye(){return ft.getFastSwitchEnabled()}function Ze(me){me===u.default.ABR_STRATEGY_DYNAMIC||me===u.default.ABR_STRATEGY_BOLA||me===u.default.ABR_STRATEGY_THROUGHPUT?ft.setABRStrategy(me):hi("Warning: Ignoring setABRStrategy("+me+") - unknown value.")}function ht(){return ft.getABRStrategy()}function pt(me){ft.setUseDefaultABRRules(me)}function zt(me,Ge,ot){ft.addABRCustomRule(me,Ge,ot)}function Ft(me){ft.removeABRCustomRule(me)}function Yt(){ft.removeAllABRCustomRule()}function Si(me){me===u.default.MOVING_AVERAGE_SLIDING_WINDOW||me===u.default.MOVING_AVERAGE_EWMA?ft.setMovingAverageMethod(me):hi("Warning: Ignoring setMovingAverageMethod("+me+") - unknown value.")}function ni(){return ft.getMovingAverageMethod()}function Ai(me,Ge){gi(me,Ge);var ot=new m.default;ot.schemeIdUri=me,ot.value=Ge,ft.getUTCTimingSources().push(ot)}function gi(me,Ge){var ot=ft.getUTCTimingSources();ot.forEach(function(Bt,di){Bt.schemeIdUri===me&&Bt.value===Ge&&ot.splice(di,1)})}function Oi(){ft.setUTCTimingSources([])}function Ri(){Ai(he.default.DEFAULT_UTC_TIMING_SOURCE.scheme,he.default.DEFAULT_UTC_TIMING_SOURCE.value)}function Ke(me){ft.setUseManifestDateHeaderTimeSource(me)}function mt(me){ft.setBufferToKeep(me)}function Di(me){ft.setBufferAheadToKeep(me)}function ki(me){ft.setBufferPruningInterval(me)}function Un(me){ft.setStableBufferTime(me)}function Hn(){return ft.getStableBufferTime()}function jn(me){ft.setBufferTimeAtTopQuality(me)}function zn(){return ft.getBufferTimeAtTopQuality()}function qn(me){ft.setBufferTimeAtTopQualityLongForm(me)}function Vn(){return ft.getBufferTimeAtTopQualityLongForm()}function Gn(me){ft.setLongFormContentDurationThreshold(me)}function Wn(me){ft.setSegmentOverlapToleranceTime(me)}function Yn(me,Ge){ft.setCacheLoadThresholdForType(me,Ge)}function $n(me){ft.setBandwidthSafetyFactor(me)}function Xn(){return ft.getBandwidthSafetyFactor()}function Kn(me){var Ge=xt.getThroughputHistory();return Ge?Ge.getAverageThroughput(me):0}function Qn(me){ft.setAbandonLoadTimeout(me)}function Jn(me){ft.setFragmentRetryAttempts(me)}function Zn(me){ft.setFragmentRetryInterval(me)}function er(me){ft.setManifestRetryAttempts(me)}function tr(me){ft.setManifestRetryInterval(me)}function ir(me,Ge){ft.setXHRWithCredentialsForType(me,Ge)}function nr(me){return ft.getXHRWithCredentialsForType(me)}function rr(me){ft.setJumpGaps(me)}function ar(){return ft.getJumpGaps()}function sr(me){ft.setSmallGapLimit(me)}function or(){return ft.getSmallGapLimit()}function tn(){return Mi}function nn(me){return si.getReadOnlyMetricsFor(me)}function lr(me){Ot===void 0&&(Ot=(0,ie.default)(Ct).getInstance()),Ot.setTextDefaultLanguage(me)}function ur(){return Ot===void 0&&(Ot=(0,ie.default)(Ct).getInstance()),Ot.getTextDefaultLanguage()}function dr(me){Ot===void 0&&(Ot=(0,ie.default)(Ct).getInstance()),Ot.setTextDefaultEnabled(me)}function cr(){return Ot===void 0&&(Ot=(0,ie.default)(Ct).getInstance()),Ot.getTextDefaultEnabled()}function hr(me){Ot===void 0&&(Ot=(0,ie.default)(Ct).getInstance()),Ot.enableText(me)}function fr(){return Ot===void 0&&(Ot=(0,ie.default)(Ct).getInstance()),Ot.isTextEnabled()}function pr(me){if(!$t)throw ri;Ot===void 0&&(Ot=(0,ie.default)(Ct).getInstance()),Ot.setTextTrack(me)}function gr(){var me=NaN;return Ot&&(me=Ot.getCurrentTrackIdx()),me}function mr(me){var Ge=(0,O.default)(Ct).getInstance();Ge.setConfig({videoModel:Lt}),Ge.initialize(),Ge.displayCConTop(me)}function oi(){if(!Lt.getElement())throw ci;return Lt.getElement()}function vr(){return Lt?Lt.getVideoContainer():null}function _r(me){if(!Lt.getElement())throw ci;Lt.setVideoContainer(me)}function rn(me){if(!ai)throw mi;me&&(Lt.setElement(me),sn(),zr(),qr(),Ht&&Ht.switchToVideoElement()),$t&&Tn(),on()}function yr(){return Lt?Lt.getTTMLRenderingDiv():null}function Tr(me){if(!Lt.getElement())throw ci;Lt.setTTMLRenderingDiv(me)}function br(me){if(!Jt)throw li;var Ge=zi();return Ge?Ge.getBitrateListFor(me):[]}function Er(me){if(!Jt)throw li;return ti.getStreamsInfo(me)}function yn(me){if(!Jt)throw li;var Ge=Ht.getActiveStreamInfo();return Ge?Kt.getTracksFor(me,Ge):[]}function wr(me,Ge,ot){if(!Jt)throw li;return ot=ot||ti.getStreamsInfo(Ge)[0],ot?ti.getAllMediaInfoForType(ot,me,Ge):[]}function Ir(me){if(!Jt)throw li;var Ge=Ht.getActiveStreamInfo();return Ge?Kt.getCurrentTrackFor(me,Ge):null}function Cr(me,Ge){if(!ai)throw mi;Kt.setInitialSettings(me,Ge)}function Sr(me){if(!ai)throw mi;return Kt.getInitialSettings(me)}function Ar(me){if(!Jt)throw li;Kt.setTrack(me)}function Rr(me){if(!ai)throw mi;return Kt.getSwitchMode(me)}function Dr(me,Ge){if(!ai)throw mi;Kt.setSwitchMode(me,Ge)}function Mr(me){if(!ai)throw mi;Kt.setSelectionModeForInitialTrack(me)}function xr(){if(!ai)throw mi;return Kt.getSelectionModeForInitialTrack()}function Pr(){return sn()}function Nr(me){ei=me}function Or(me){Li=me,Ht&&Ht.setProtectionData(Li)}function kr(me){if(me<0)return null;var Ge=Xt.getIsDynamic()?De(me):me,ot=Ht.getStreamForTime(Ge);if(ot===null)return null;var Bt=ot.getThumbnailController(),di=ot.getStreamInfo();if(!Bt||!di)return null;var Pi=Ht.getTimeRelativeToStreamId(Ge,ot.getId());return Bt.get(Pi)}function Fr(me,Ge){var ot=bn(),Bt=this,di=function Vi(dn){dn.error?Ge(null,dn.error):Ge(dn.manifest),bi.off(S.default.INTERNAL_MANIFEST_LOADED,Vi,Bt),ot.reset()};bi.on(S.default.INTERNAL_MANIFEST_LOADED,di,Bt);var Pi=(0,re.default)(Ct).getInstance();Pi.initialize(),ot.load(Pi.parseURI(me))}function Lr(){if(!ui)throw wn;return ui}function an(me){if(!ai)throw mi;if(typeof me=="string"){var Ge=(0,re.default)(Ct).getInstance();Ge.initialize(),ui=Ge.parseURI(me)}else ui=me;(Jt||$t)&&Tn(),ke()&&on()}function Br(me,Ge,ot){var Bt=!(arguments.length<=3||arguments[3]===void 0)&&arguments[3],di=new Date(1e3*me),Pi=di.toLocaleDateString(Ge),Vi=di.toLocaleTimeString(Ge,{hour12:ot});return Bt?Vi+" "+Pi:Vi}function Ur(me){me=Math.max(me,0);var Ge=Math.floor(me/3600),ot=Math.floor(me%3600/60),Bt=Math.floor(me%3600%60);return(Ge===0?"":Ge<10?"0"+Ge.toString()+":":Ge.toString()+":")+(ot<10?"0"+ot.toString():ot.toString())+":"+(Bt<10?"0"+Bt.toString():Bt.toString())}function Hr(me,Ge,ot){z.default.extend(me,Ge,ot,Ct)}function Tn(){$t=!1,Jt=!1,ti.reset(),Ht.reset(),Xt.reset(),xt.reset(),Kt.reset(),Ot.reset(),ei&&(ei.reset(),ei=null,sn())}function jr(){var me=bn();Ht||(Ht=(0,F.default)(Ct).getInstance()),Kt.setConfig({errHandler:vi,domStorage:qi}),Ht.setConfig({capabilities:_i,manifestLoader:me,manifestModel:xi,dashManifestModel:yi,mediaPlayerModel:ft,protectionController:ei,adapter:ti,metricsModel:si,dashMetrics:Mi,errHandler:vi,timelineConverter:ln,videoModel:Lt,playbackController:Xt,domStorage:qi,abrController:xt,mediaController:Kt,textController:Ot}),Xt.setConfig({streamController:Ht,metricsModel:si,dashMetrics:Mi,manifestModel:xi,mediaPlayerModel:ft,dashManifestModel:yi,adapter:ti,videoModel:Lt}),xt.setConfig({streamController:Ht,domStorage:qi,mediaPlayerModel:ft,metricsModel:si,dashMetrics:Mi,dashManifestModel:yi,manifestModel:xi,videoModel:Lt,adapter:ti}),xt.createAbrRulesCollection(),Ot.setConfig({errHandler:vi,manifestModel:xi,dashManifestModel:yi,mediaController:Kt,streamController:Ht,videoModel:Lt}),Ht.initialize(Bi,Li)}function bn(){return(0,Z.default)(Ct).create({errHandler:vi,metricsModel:si,mediaPlayerModel:ft,requestModifier:(0,ee.default)(Ct).getInstance(),mssHandler:un})}function sn(){if(ei)return ei;var me=dashjs.Protection;if(typeof me=="function"){var Ge=me(Ct).create();return S.default.extend(me.events),C.default.extend(me.events,{publicOnly:!0}),_i||(_i=(0,X.default)(Ct).getInstance()),ei=Ge.createProtectionSystem({log:hi,errHandler:vi,videoModel:Lt,capabilities:_i,eventBus:bi,events:S.default,BASE64:ye.default,constants:u.default})}return null}function zr(){if(!Ui){var me=dashjs.MetricsReporting;if(typeof me=="function"){var Ge=me(Ct).create();Ui=Ge.createMetricsReporting({log:hi,eventBus:bi,mediaElement:oi(),dashManifestModel:yi,metricsModel:si,events:S.default,constants:u.default,metricsConstants:v.default})}}}function qr(){if(!un){var me=dashjs.MssHandler;typeof me=="function"&&(un=me(Ct).create({eventBus:bi,mediaPlayerModel:ft,metricsModel:si,playbackController:Xt,protectionController:ei,errHandler:vi,events:S.default,constants:u.default,log:hi,initSegmentType:ve.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:ye.default,ISOBoxer:we.default}))}}function Fi(){var me=si.getReadOnlyMetricsFor(u.default.VIDEO)||si.getReadOnlyMetricsFor(u.default.AUDIO);return Mi.getCurrentDVRInfo(me)}function En(me){var Ge=Fi(),ot=void 0;return Ge?(ot=Ge.manifestInfo.availableFrom.getTime()/1e3,me+(ot+Ge.range.start)):0}function zi(){if(!Jt)throw li;var me=Ht.getActiveStreamInfo();return me?Ht.getStreamById(me.id):null}function on(){!Jt&&ui&&(Jt=!0,hi("Streaming Initialized"),jr(),typeof ui=="string"?Ht.load(ui):Ht.loadWithManifest(ui)),!$t&&ke()&&($t=!0,hi("Playback Initialized"))}var li="You must first call initialize() and set a source before calling this method",ri="You must first call initialize() and set a valid source and view before calling this method",ci="You must first call attachView() to set the video element before calling this method",wn="You must first call attachSource() with a valid source before calling this method",mi="MediaPlayer not initialized!",Vr="MediaPlayer Invalid Arguments!",Ct=this.context,bi=(0,B.default)(Ct).getInstance(),In=(0,P.default)(Ct).getInstance(),hi=In.log,Cn=void 0,ui=void 0,Li=void 0,ai=void 0,Jt=void 0,$t=void 0,Bi=void 0,xt=void 0,ln=void 0,Kt=void 0,ei=void 0,Ui=void 0,un=void 0,ti=void 0,si=void 0,ft=void 0,vi=void 0,_i=void 0,Ht=void 0,Xt=void 0,Mi=void 0,yi=void 0,xi=void 0,Lt=void 0,Ot=void 0,qi=void 0;return Cn={initialize:Se,setConfig:xe,on:$e,off:Xe,extend:Hr,attachView:rn,attachSource:an,isReady:ke,preload:Be,play:Ae,isPaused:je,pause:Me,isSeeking:Pe,isDynamic:Re,seek:He,setPlaybackRate:st,getPlaybackRate:Qe,setMute:We,isMuted:ne,setVolume:fe,getVolume:_e,time:Ue,duration:rt,timeAsUTC:dt,durationAsUTC:vt,getActiveStream:zi,getDVRWindowSize:be,getDVRSeekOffset:De,convertToTimeCode:Ur,formatUTC:Br,getVersion:ze,getDebug:Ie,getBufferLength:pe,getVideoContainer:vr,getTTMLRenderingDiv:yr,getVideoElement:oi,getSource:Lr,setLiveDelayFragmentCount:Nt,setLiveDelay:St,getLiveDelay:Mt,useSuggestedPresentationDelay:Oe,enableLastBitrateCaching:Je,enableLastMediaSettingsCaching:ae,setMaxAllowedBitrateFor:Vt,getMaxAllowedBitrateFor:wt,setMinAllowedBitrateFor:Gt,getMinAllowedBitrateFor:lt,setMaxAllowedRepresentationRatioFor:et,getMaxAllowedRepresentationRatioFor:Tt,setAutoPlay:yt,getAutoPlay:Dt,setScheduleWhilePaused:Te,getScheduleWhilePaused:Fe,getDashMetrics:tn,getMetricsFor:nn,getQualityFor:at,setQualityFor:_t,updatePortalSize:nt,getLimitBitrateByPortal:bt,setLimitBitrateByPortal:Rt,getUsePixelRatioInLimitBitrateByPortal:Ut,setUsePixelRatioInLimitBitrateByPortal:At,setTextDefaultLanguage:lr,getTextDefaultLanguage:ur,setTextDefaultEnabled:dr,getTextDefaultEnabled:cr,enableText:hr,isTextEnabled:fr,setTextTrack:pr,getBitrateInfoListFor:br,setInitialBitrateFor:Pt,getInitialBitrateFor:ut,setInitialRepresentationRatioFor:qe,getInitialRepresentationRatioFor:it,getStreamsFromManifest:Er,getTracksFor:yn,getTracksForTypeFromManifest:wr,getCurrentTrackFor:Ir,setInitialMediaSettingsFor:Cr,getInitialMediaSettingsFor:Sr,setCurrentTrack:Ar,getTrackSwitchModeFor:Rr,setTrackSwitchModeFor:Dr,setSelectionModeForInitialTrack:Mr,getSelectionModeForInitialTrack:xr,setFastSwitchEnabled:Ve,getFastSwitchEnabled:Ye,setMovingAverageMethod:Si,getMovingAverageMethod:ni,getAutoSwitchQualityFor:ct,setAutoSwitchQualityFor:Et,setABRStrategy:Ze,getABRStrategy:ht,useDefaultABRRules:pt,addABRCustomRule:zt,removeABRCustomRule:Ft,removeAllABRCustomRule:Yt,setBandwidthSafetyFactor:$n,getBandwidthSafetyFactor:Xn,getAverageThroughput:Kn,setAbandonLoadTimeout:Qn,retrieveManifest:Fr,addUTCTimingSource:Ai,removeUTCTimingSource:gi,clearDefaultUTCTimingSources:Oi,restoreDefaultUTCTimingSources:Ri,setBufferToKeep:mt,setBufferAheadToKeep:Di,setBufferPruningInterval:ki,setStableBufferTime:Un,getStableBufferTime:Hn,setBufferTimeAtTopQuality:jn,getBufferTimeAtTopQuality:zn,setBufferTimeAtTopQualityLongForm:qn,getBufferTimeAtTopQualityLongForm:Vn,setFragmentLoaderRetryAttempts:Jn,setFragmentLoaderRetryInterval:Zn,setManifestLoaderRetryAttempts:er,setManifestLoaderRetryInterval:tr,setXHRWithCredentialsForType:ir,getXHRWithCredentialsForType:nr,setJumpGaps:rr,getJumpGaps:ar,setSmallGapLimit:sr,getSmallGapLimit:or,setLongFormContentDurationThreshold:Gn,setSegmentOverlapToleranceTime:Wn,setCacheLoadThresholdForType:Yn,getProtectionController:Pr,attachProtectionController:Nr,setProtectionData:Or,enableManifestDateHeaderTimeSource:Ke,displayCaptionsOnTop:mr,attachVideoContainer:_r,attachTTMLRenderingDiv:Tr,getCurrentTextTrackIndex:gr,getUseDeadTimeLatencyForAbr:It,setUseDeadTimeLatencyForAbr:gt,getThumbnail:kr,reset:Le},Ce(),Cn}Object.defineProperty(h,"__esModule",{value:!0});var p=t(98),u=l(p),y=t(99),v=l(y),b=t(86),m=l(b),T=t(108),R=l(T),E=t(110),F=l(E),L=t(106),k=l(L),q=t(88),Z=l(q),V=t(148),D=l(V),M=t(144),X=l(M),w=t(139),O=l(w),G=t(153),ee=l(G),de=t(137),ie=l(de),W=t(118),re=l(W),ue=t(115),ce=l(ue),le=t(116),he=l(le),se=t(117),e=l(se),i=t(100),n=l(i),r=t(119),o=l(r),c=t(146),g=l(c),I=t(46),P=l(I),U=t(47),B=l(U),te=t(51),S=l(te),N=t(91),C=l(N),x=t(48),z=l(x),Y=t(49),K=t(53),Q=l(K),d=t(60),A=l(d),H=t(55),j=l(H),J=t(76),oe=l(J),ve=t(179),ge=t(1),ye=l(ge),Ee=t(10),we=l(Ee);f.__dashjs_factory_name="MediaPlayer";var Ne=z.default.getClassFactory(f);Ne.events=C.default,z.default.updateClassFactory(f.__dashjs_factory_name,Ne),h.default=Ne,_.exports=h.default},{1:1,10:10,100:100,106:106,108:108,110:110,115:115,116:116,117:117,118:118,119:119,137:137,139:139,144:144,146:146,148:148,153:153,179:179,46:46,47:47,48:48,49:49,51:51,53:53,55:55,60:60,76:76,86:86,88:88,91:91,98:98,99:99}],91:[function(t,_,h){function l(T){return T&&T.__esModule?T:{default:T}}function f(T,R){if(!(T instanceof R))throw new TypeError("Cannot call a class as a function")}function p(T,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);T.prototype=Object.create(R&&R.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(T,R):T.__proto__=R)}Object.defineProperty(h,"__esModule",{value:!0});var u=function(T,R,E){for(var F=!0;F;){var L=T,k=R,q=E;F=!1,L===null&&(L=Function.prototype);var Z=Object.getOwnPropertyDescriptor(L,k);if(Z!==void 0){if("value"in Z)return Z.value;var V=Z.get;return V===void 0?void 0:V.call(q)}var D=Object.getPrototypeOf(L);if(D===null)return;T=D,R=k,E=q,F=!0,Z=D=void 0}},y=t(52),v=l(y),b=function(T){function R(){f(this,R),u(Object.getPrototypeOf(R.prototype),"constructor",this).call(this),this.AST_IN_FUTURE="astInFuture",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_LOADED="bufferLoaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.ERROR="error",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.LOG="log",this.MANIFEST_LOADED="manifestLoaded",this.METRICS_CHANGED="metricsChanged",this.METRIC_CHANGED="metricChanged",this.METRIC_ADDED="metricAdded",this.METRIC_UPDATED="metricUpdated",this.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",this.PERIOD_SWITCH_STARTED="periodSwitchStarted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.TRACK_CHANGE_RENDERED="trackChangeRendered",this.SOURCE_INITIALIZED="sourceInitialized",this.STREAM_INITIALIZED="streamInitialized",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TEXT_TRACKS_ADDED="allTextTracksAdded",this.TEXT_TRACK_ADDED="textTrackAdded",this.TTML_PARSED="ttmlParsed",this.CAN_PLAY="canPlay",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_SEEK_ASKED="playbackSeekAsked",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",this.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged"}return p(R,T),R}(v.default),m=new b;h.default=m,_.exports=h.default},{52:52}],92:[function(t,_,h){function l(m){return m&&m.__esModule?m:{default:m}}function f(m){function T(){D=[],M=null,X=null}function R(w){w.segmentType!=="InitializationSegment"?(D.push(w),D.sort(function(O,G){return O.start-G.start}),M=null):M=w,V("PreBufferSink appended chunk s: "+w.start+"; e: "+w.end),X&&X({chunk:w})}function E(w,O){D=D.filter(function(G){return!((isNaN(O)||G.start<O)&&(isNaN(w)||G.end>w))})}function F(){}function L(){for(var w=[],O=0;O<D.length;O++){var G=D[O];w.length===0||G.start>w[w.length-1].end?w.push({start:G.start,end:G.end}):w[w.length-1].end=G.end}var ee={start:function(de){return w[de].start},end:function(de){return w[de].end}};return Object.defineProperty(ee,"length",{get:function(){return w.length}}),ee}function k(w,O){var G=q(w,O);return M&&(G.push(M),M=null),E(w,O),G}function q(w,O){return D.filter(function(G){return(isNaN(O)||G.start<O)&&(isNaN(w)||G.end>w)})}var Z=this.context,V=(0,u.default)(Z).getInstance().log,D=[],M=void 0,X=m;return{getAllBufferRanges:L,append:R,remove:E,abort:F,discharge:k,reset:T}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(46),u=l(p),y=t(48),v=l(y);f.__dashjs_factory_name="PreBufferSink";var b=v.default.getClassFactory(f);h.default=b,_.exports=h.default},{46:46,48:48}],93:[function(t,_,h){function l(Z){return Z&&Z.__esModule?Z:{default:Z}}function f(Z,V,D){function M(){he=!1;var n=V.codec;try{if(n.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))throw new Error("not really supported");le=Z.addSourceBuffer(n)}catch(o){if(!V.isText&&n.indexOf('codecs="stpp')===-1&&n.indexOf('codecs="wvtt')===-1)throw o;var r=(0,k.default)(re).getInstance();le=r.getTextSourceBuffer()}}function X(){if(le){try{Z.removeSourceBuffer(le)}catch{ue("Failed to remove source buffer from media source.")}he=!1,le=null}se=[],e=null}function w(){return le}function O(){return le.buffered}function G(n){se.push(n),he||W(le,de.bind(this))}function ee(n,r,o){var c=this;W(le,function(){try{n>=0&&r>n&&(o||Z.readyState!=="ended")&&le.remove(n,r),W(le,function(){ce.trigger(R.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:c,from:n,to:r})})}catch(g){ce.trigger(R.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:c,from:n,to:r,error:new v.default(g.code,g.message,null)})}})}function de(){var n=this;se.length>0&&function(){he=!0;var r=se[0];se.splice(0,1);var o=function(){se.length>0?de.call(this):(he=!1,e&&e({chunk:r}))};try{le.appendBuffer?le.appendBuffer(r.bytes):le.append(r.bytes,r),W(le,o.bind(n))}catch(c){ue('SourceBuffer append failed "'+c+'"'),se.length>0?de():he=!1,e&&e({chunk:r,error:new v.default(c.code,c.message,null)})}}()}function ie(){try{(Z.readyState==="open"||le.setTextTrack&&Z.readyState==="ended")&&le.abort()}catch(n){ue('SourceBuffer append abort failed: "'+n+'"')}se=[]}function W(n,r){var o=void 0,c=50,g=function(){n.updating||(clearInterval(o),r())},I=function P(){n.updating||(n.removeEventListener("updateend",P,!1),r())};if(!n.updating)return void r();if(typeof n.addEventListener=="function")try{n.addEventListener("updateend",I,!1)}catch{o=setInterval(g,c)}else o=setInterval(g,c)}var re=this.context,ue=(0,u.default)(re).getInstance().log,ce=(0,m.default)(re).getInstance(),le=void 0,he=void 0,se=[],e=D,i={getAllBufferRanges:O,getBuffer:w,append:G,remove:ee,abort:ie,reset:X};return M(),i}Object.defineProperty(h,"__esModule",{value:!0});var p=t(46),u=l(p),y=t(160),v=l(y),b=t(47),m=l(b),T=t(51),R=l(T),E=t(48),F=l(E),L=t(137),k=l(L);f.__dashjs_factory_name="SourceBufferSink";var q=F.default.getClassFactory(f);h.default=q,_.exports=h.default},{137:137,160:160,46:46,47:47,48:48,51:51}],94:[function(t,_,h){function l(w){return w&&w.__esModule?w:{default:w}}function f(w){function O(){W(),Re=(0,R.default)(j).create({mediaPlayerModel:ye,metricsModel:Se,errHandler:Ce}),oe.on(Z.default.BUFFERING_COMPLETED,Y,ze),oe.on(Z.default.DATA_UPDATE_COMPLETED,K,ze)}function G(ne,fe){Me=ne,(Pe=fe)&&(oe.on(Z.default.KEY_ERROR,g,ze),oe.on(Z.default.SERVER_CERTIFICATE_UPDATED,g,ze),oe.on(Z.default.LICENSE_REQUEST_COMPLETE,g,ze),oe.on(Z.default.KEY_SYSTEM_SELECTED,g,ze),oe.on(Z.default.KEY_SESSION_CREATED,g,ze))}function ee(ne){Be||(oe.on(Z.default.CURRENT_TRACK_CHANGED,U,ze),S(ne),Be=!0),z()}function de(){for(var ne=Ie?Ie.length:0,fe=0;fe<ne;fe++)Ie[fe].getFragmentModel().removeExecutedRequestsBeforeTime(ce()+ue()),Ie[fe].reset();Ie=[],Be=!1,Ae=!1,oe.off(Z.default.CURRENT_TRACK_CHANGED,U,ze)}function ie(ne){for(var fe=0;fe<Ie.length;)P(Ie[fe].getMediaInfo())?(Ie[fe].setMediaSource(ne),fe++):(Ie[fe].reset(),Ie.splice(fe,1));for(var fe=0;fe<Ie.length;fe++)Ie[fe].dischargePreBuffer();if(Ie.length===0){var _e="No streams to play.";Ce.manifestError(_e,"nostreams",ve.getValue()),J(_e)}}function W(){de(),Me=null,je={},He=!1}function re(){ke&&ke.pause(),Re&&(Re.reset(),Re=null),W(),J=null,oe.off(Z.default.DATA_UPDATE_COMPLETED,K,ze),oe.off(Z.default.BUFFERING_COMPLETED,Y,ze),oe.off(Z.default.KEY_ERROR,g,ze),oe.off(Z.default.SERVER_CERTIFICATE_UPDATED,g,ze),oe.off(Z.default.LICENSE_REQUEST_COMPLETE,g,ze),oe.off(Z.default.KEY_SYSTEM_SELECTED,g,ze),oe.off(Z.default.KEY_SESSION_CREATED,g,ze)}function ue(){return Me?Me.duration:NaN}function ce(){return Me?Me.start:NaN}function le(){return Me?Me.id:NaN}function he(){return Me}function se(){return Qe}function e(){return Re}function i(){return st}function n(){if(!(Le&&Le.hasOwnProperty("getBitrateList")&&we&&we.hasOwnProperty("getAllMediaInfoForType")&&we.hasOwnProperty("getEventsFor")))throw new Error("Missing config parameter(s)")}function r(ne){if(n(),ne===u.default.IMAGE)return st?st.getBitrateList():[];var fe=x(ne);return Le.getBitrateList(fe)}function o(){Qe&&Qe.start()}function c(){Qe&&Qe.stop()}function g(ne){ne.error&&(Ce.mediaKeySessionError(ne.error),J(ne.error),re())}function I(ne){return ne.type===u.default.TEXT?ne.mimeType:ne.type}function P(ne){var fe=ne.type,_e=void 0,pe=void 0;if(fe===u.default.MUXED&&ne)return pe="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",J(pe),Ce.manifestError(pe,"multiplexedrep",ve.getValue()),!1;if(fe===u.default.TEXT||fe===u.default.FRAGMENTED_TEXT||fe===u.default.EMBEDDED_TEXT||fe===u.default.IMAGE)return!0;if(_e=ne.codec,J(fe+" codec: "+_e),ne.contentProtection&&!Ne.supportsEncryptedMedia())Ce.capabilityError("encryptedmedia");else if(!Ne.supportsCodec(_e))return pe=fe+"Codec ("+_e+") is not supported.",J(pe),!1;return!0}function U(ne){if(ne.newMediaInfo.streamInfo.id===Me.id){var fe=Q(ne.oldMediaInfo);if(fe){var _e=ke.getTime();J("Stream -  Process track changed at current time "+_e);var pe=ne.newMediaInfo,be=ve.getValue();J("Stream -  Update stream controller"),be.refreshManifestOnSwitchTrack?(J("Stream -  Refreshing manifest for switch track"),We=ne,Ee.refreshManifest()):(fe.updateMediaInfo(pe),pe.type!==u.default.FRAGMENTED_TEXT&&(Le.updateTopQualityIndex(pe),fe.switchTrackAsked()))}}}function B(ne,fe,_e,pe){var be=(0,v.default)(j).create({type:I(ne),mimeType:ne.mimeType,timelineConverter:xe,adapter:we,manifestModel:ve,dashManifestModel:ge,mediaPlayerModel:ye,metricsModel:Se,dashMetrics:w.dashMetrics,baseURLController:w.baseURLController,stream:ze,abrController:Le,domStorage:w.domStorage,playbackController:ke,mediaController:$e,streamController:w.streamController,textController:Xe,errHandler:Ce});if(be.initialize(_e),Le.updateTopQualityIndex(ne),pe?(be.setBuffer(pe.buffer),be.getIndexHandler().setCurrentTime(pe.currentTime),Ie[pe.replaceIdx]=be):Ie.push(be),!pe||!pe.ignoreMediaInfo)if(ne.type===u.default.TEXT||ne.type===u.default.FRAGMENTED_TEXT){for(var De=void 0,Ue=0;Ue<fe.length;Ue++)fe[Ue].index===ne.index&&(De=Ue),be.updateMediaInfo(fe[Ue]);ne.type===u.default.FRAGMENTED_TEXT&&be.updateMediaInfo(fe[De])}else be.updateMediaInfo(ne)}function te(ne,fe){var _e=we.getAllMediaInfoForType(Me,ne),pe=null,be=void 0;if(!_e||_e.length===0)return void J("No "+ne+" data.");for(var De=0,Ue=_e.length;De<Ue;De++)if(pe=_e[De],ne===u.default.EMBEDDED_TEXT)Xe.addEmbeddedTrack(pe);else{if(!P(pe))continue;$e.isMultiTrackSupportedByType(pe.type)&&$e.addTrack(pe,Me)}if(ne!==u.default.EMBEDDED_TEXT&&$e.getTracksFor(ne,Me).length!==0){if(ne===u.default.IMAGE)return void(st=(0,F.default)(j).create({dashManifestModel:ge,adapter:we,baseURLController:w.baseURLController,stream:ze}));$e.checkInitialMediaSettingsForType(ne,Me),be=$e.getCurrentTrackFor(ne,Me),B(be,_e,fe)}}function S(ne){n();var fe=void 0;if(Qe||(Qe=(0,m.default)(j).create(),Qe.setConfig({manifestModel:ve,manifestUpdater:Ee,playbackController:ke}),fe=we.getEventsFor(Me),Qe.addInlineEvents(fe)),He=!0,N(u.default.VIDEO),N(u.default.AUDIO),te(u.default.VIDEO,ne),te(u.default.AUDIO,ne),te(u.default.TEXT,ne),te(u.default.FRAGMENTED_TEXT,ne),te(u.default.EMBEDDED_TEXT,ne),te(u.default.MUXED,ne),te(u.default.IMAGE,ne),z(),Ae=!0,He=!1,Ie.length===0){var _e="No streams to play.";Ce.manifestError(_e,"nostreams",ve.getValue()),J(_e)}else C()}function N(ne){var fe=ge.getAdaptationForType(ve.getValue(),Me.index,ne,Me);if(!fe||!Array.isArray(fe.Representation_asArray))return null;fe.Representation_asArray=fe.Representation_asArray.filter(function(_e,pe){if(pe===0)return!0;var be=ge.getCodec(fe,pe,!0);return!!Ne.supportsCodec(be)||(J("[Stream] codec not supported: "+be),!1)})}function C(){for(var ne=Ie.length,fe=!!je.audio||!!je.video,_e=fe?new Error(H,"Data update failed",null):null,pe=0;pe<ne;pe++)if(Ie[pe].isUpdating()||He)return;if(Ae){if(Pe)for(var pe=0;pe<ne&&Ie[pe];pe++)Ie[pe].getType()!==u.default.AUDIO&&Ie[pe].getType()!==u.default.VIDEO&&Ie[pe].getType()!==u.default.FRAGMENTED_TEXT||Pe.initializeForMedia(Ie[pe].getMediaInfo());oe.trigger(Z.default.STREAM_INITIALIZED,{streamInfo:Me,error:_e})}}function x(ne){for(var fe=Ie.length,_e=null,pe=0;pe<fe;pe++)if(_e=Ie[pe],_e.getType()===ne)return _e.getMediaInfo();return null}function z(){for(var ne=0,fe=Ie.length;ne<fe;ne++)Ie[ne].createBuffer()}function Y(ne){if(ne.streamInfo===Me){var fe=d(),_e=fe.length;if(_e===0)return void J("[Stream] onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined");for(var pe=0;pe<_e;pe++)if(!fe[pe].isBufferingCompleted()&&(fe[pe].getType()===u.default.AUDIO||fe[pe].getType()===u.default.VIDEO))return void J("[Stream] onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because streamProcessor "+fe[pe].getType()+" is not buffering completed");J("[Stream] onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),oe.trigger(Z.default.STREAM_BUFFERING_COMPLETED,{streamInfo:Me})}}function K(ne){var fe=ne.sender.getStreamProcessor();fe.getStreamInfo()===Me&&(je[fe.getType()]=ne.error,C())}function Q(ne){return!!ne&&d().filter(function(fe){return fe.getType()===ne.type})[0]}function d(){for(var ne=Ie.length,fe=[],_e=void 0,pe=void 0,be=0;be<ne;be++)pe=Ie[be],(_e=pe.getType())!==u.default.AUDIO&&_e!==u.default.VIDEO&&_e!==u.default.FRAGMENTED_TEXT||fe.push(pe);return fe}function A(ne){if(J("Manifest updated... updating data system wide."),Be=!1,He=!0,Me=ne,Qe){var fe=we.getEventsFor(Me);Qe.addInlineEvents(fe)}N(u.default.VIDEO),N(u.default.AUDIO);for(var _e=0,pe=Ie.length;_e<pe;_e++){var be=Ie[_e],De=we.getMediaInfoForType(Me,be.getType());Le.updateTopQualityIndex(De),be.updateMediaInfo(De)}if(We){var De=We.newMediaInfo;if(De.type!=="fragmentedText"){var Ue=Q(We.oldMediaInfo);if(!Ue)return;Ue.switchTrackAsked(),We=void 0}}He=!1,C()}var H=1;w=w||{};var j=this.context,J=(0,D.default)(j).getInstance().log,oe=(0,k.default)(j).getInstance(),ve=w.manifestModel,ge=w.dashManifestModel,ye=w.mediaPlayerModel,Ee=w.manifestUpdater,we=w.adapter,Ne=w.capabilities,Ce=w.errHandler,xe=w.timelineConverter,Se=w.metricsModel,Le=w.abrController,ke=w.playbackController,$e=w.mediaController,Xe=w.textController,ze=void 0,Ie=void 0,Be=void 0,Ae=void 0,Me=void 0,je=void 0,He=void 0,Pe=void 0,Re=void 0,st=void 0,Qe=void 0,We=void 0;return ze={initialize:G,activate:ee,deactivate:de,getDuration:ue,getStartTime:ce,getId:le,getStreamInfo:he,getFragmentController:e,getThumbnailController:i,getEventController:se,getBitrateListFor:r,startEventController:o,stopEventController:c,updateData:A,reset:re,getProcessors:d,setMediaSource:ie},O(),ze}Object.defineProperty(h,"__esModule",{value:!0});var p=t(98),u=l(p),y=t(95),v=l(y),b=t(104),m=l(b),T=t(105),R=l(T),E=t(140),F=l(E),L=t(47),k=l(L),q=t(51),Z=l(q),V=t(46),D=l(V),M=t(48),X=l(M);f.__dashjs_factory_name="Stream",h.default=X.default.getClassFactory(f),_.exports=h.default},{104:104,105:105,140:140,46:46,47:47,48:48,51:51,95:95,98:98}],95:[function(t,_,h){function l(M){return M&&M.__esModule?M:{default:M}}function f(M){function X(){Ce&&Ce.getIsDynamic()&&(He=(0,v.default)(A).create({timelineConverter:ve,streamProcessor:Ie})),ie()}function w(Qe){H=(0,D.default)(A).create({mimeType:oe,timelineConverter:ve,dashMetrics:Xe,metricsModel:$e,mediaPlayerModel:Ee,baseURLController:M.baseURLController,errHandler:J}),H.initialize(Ie),Ne.registerStreamType(j,Ie),Re=we.getFragmentController().getModel(j),Re.setStreamProcessor(Ie),Me=d(j),je=(0,F.default)(A).create({type:j,metricsModel:$e,adapter:ge,dashMetrics:Xe,dashManifestModel:ze,timelineConverter:ve,mediaPlayerModel:Ee,abrController:Ne,playbackController:Ce,streamController:xe,textController:Le,streamProcessor:Ie,mediaController:Se}),Pe=(0,k.default)(A).create(),Pe.setConfig({abrController:Ne,domStorage:ke,metricsModel:$e,dashMetrics:Xe,dashManifestModel:ze,manifestModel:ye,playbackController:Ce,timelineConverter:ve,streamProcessor:Ie}),Me.initialize(Qe),je.initialize(),Pe.initialize()}function O(Qe){st.push(Qe)}function G(Qe){var We=st.indexOf(Qe);We!==-1&&st.splice(We,1)}function ee(){return st}function de(){st=[]}function ie(){Ae=[],Be=null,de()}function W(Qe){H.reset(),Me&&(Me.reset(Qe),Me=null),je&&(je.reset(),je=null),Pe&&(Pe.reset(),Pe=null),Ne&&Ne.unRegisterStreamType(j),st.forEach(function(We){We.reset()}),ie(),j=null,we=null,He&&(He.reset(),He=null)}function re(){return!!Pe&&Pe.isUpdating()}function ue(){return j}function ce(){return Pe}function le(){return H}function he(){return we?we.getFragmentController():null}function se(){return Me.getBuffer()}function e(Qe){Me.setBuffer(Qe)}function i(){return Me}function n(){return Re}function r(){return He}function o(){return we?we.getStreamInfo():null}function c(){return we?we.getEventController():null}function g(Qe){Qe===Be||Qe&&Be&&Qe.type!==Be.type||(Be=Qe),Ae.indexOf(Qe)===-1&&Ae.push(Qe),ge.updateData(this)}function I(){return Ae}function P(){return Be}function U(){return Me.getMediaSource()}function B(Qe){Me.setMediaSource(Qe,P())}function te(){Me.dischargePreBuffer()}function S(){return je}function N(){return ge.getCurrentRepresentationInfo(Pe)}function C(Qe){return ge.getRepresentationInfoForQuality(Pe,Qe)}function x(){return!!Me&&Me.getIsBufferingCompleted()}function z(){return Me.getBufferLevel()}function Y(Qe,We){Me&&Me.switchInitData(o().id,Qe,We)}function K(){return Me.getBuffer()||Me.createBuffer(Be)}function Q(){je.switchTrackAsked()}function d(Qe){return Qe===u.default.VIDEO||Qe===u.default.AUDIO?(0,m.default)(A).create({type:Qe,metricsModel:$e,mediaPlayerModel:Ee,manifestModel:ye,errHandler:J,streamController:xe,mediaController:Se,adapter:ge,textController:Le,abrController:Ne,playbackController:Ce,streamProcessor:Ie}):(0,R.default)(A).create({type:Qe,metricsModel:$e,mediaPlayerModel:Ee,manifestModel:ye,errHandler:J,streamController:xe,mediaController:Se,adapter:ge,textController:Le,abrController:Ne,playbackController:Ce,streamProcessor:Ie})}M=M||{};var A=this.context,H=void 0,j=M.type,J=M.errHandler,oe=M.mimeType,ve=M.timelineConverter,ge=M.adapter,ye=M.manifestModel,Ee=M.mediaPlayerModel,we=M.stream,Ne=M.abrController,Ce=M.playbackController,xe=M.streamController,Se=M.mediaController,Le=M.textController,ke=M.domStorage,$e=M.metricsModel,Xe=M.dashMetrics,ze=M.dashManifestModel,Ie=void 0,Be=void 0,Ae=void 0,Me=void 0,je=void 0,He=void 0,Pe=void 0,Re=void 0,st=void 0;return Ie={initialize:w,isUpdating:re,getType:ue,getBufferController:i,getFragmentModel:n,getScheduleController:S,getLiveEdgeFinder:r,getEventController:c,getFragmentController:he,getRepresentationController:ce,getIndexHandler:le,getCurrentRepresentationInfo:N,getRepresentationInfoForQuality:C,getBufferLevel:z,switchInitData:Y,isBufferingCompleted:x,createBuffer:K,getStreamInfo:o,updateMediaInfo:g,switchTrackAsked:Q,getMediaInfoArr:I,getMediaInfo:P,getMediaSource:U,setMediaSource:B,dischargePreBuffer:te,getBuffer:se,setBuffer:e,registerExternalController:O,unregisterExternalController:G,getExternalControllers:ee,unregisterAllExternalController:de,reset:W},X(),Ie}Object.defineProperty(h,"__esModule",{value:!0});var p=t(98),u=l(p),y=t(151),v=l(y),b=t(103),m=l(b),T=t(136),R=l(T),E=t(109),F=l(E),L=t(59),k=l(L),q=t(48),Z=l(q),V=t(54),D=l(V);f.__dashjs_factory_name="StreamProcessor",h.default=Z.default.getClassFactory(f),_.exports=h.default},{103:103,109:109,136:136,151:151,48:48,54:54,59:59,98:98}],96:[function(t,_,h){function l(R){return R&&R.__esModule?R:{default:R}}function f(R,E,F){return E in R?Object.defineProperty(R,E,{value:F,enumerable:!0,configurable:!0,writable:!0}):R[E]=F,R}function p(R){function E(){var ee;X=[],w=[],O=[],ee={},f(ee,u.HTTPRequest.MPD_TYPE,m.default.DOWNLOAD_ERROR_ID_MANIFEST),f(ee,u.HTTPRequest.XLINK_EXPANSION_TYPE,m.default.DOWNLOAD_ERROR_ID_XLINK),f(ee,u.HTTPRequest.INIT_SEGMENT_TYPE,m.default.DOWNLOAD_ERROR_ID_INITIALIZATION),f(ee,u.HTTPRequest.MEDIA_SEGMENT_TYPE,m.default.DOWNLOAD_ERROR_ID_CONTENT),f(ee,u.HTTPRequest.INDEX_SEGMENT_TYPE,m.default.DOWNLOAD_ERROR_ID_CONTENT),f(ee,u.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,m.default.DOWNLOAD_ERROR_ID_CONTENT),f(ee,u.HTTPRequest.OTHER_TYPE,m.default.DOWNLOAD_ERROR_ID_CONTENT),G=ee}function F(ee,de){var ie=ee.request,W=new XMLHttpRequest,re=[],ue=!0,ce=!0,le=new Date,he=le,se=0,e=function(P){ce=!1,ie.requestStartDate=le,ie.requestEndDate=new Date,ie.firstByteDate=ie.firstByteDate||le,ie.checkExistenceOnly||Z.addHttpRequest(ie.mediaType,null,ie.type,ie.url,W.responseURL||null,ie.serviceLocation||null,ie.range||null,ie.requestStartDate,ie.firstByteDate,ie.requestEndDate,W.status,ie.duration,W.getAllResponseHeaders(),P?re:null)},i=function(){X.indexOf(W)!==-1&&(X.splice(X.indexOf(W),1),ce&&(e(!1),de>0?(de--,O.push(setTimeout(function(){F(ee,de)},V.getRetryIntervalForType(ie.type)))):(q.downloadError(G[ie.type],ie.url,ie),ee.error&&ee.error(ie,"error",W.statusText),ee.complete&&ee.complete(ie,W.statusText))))},n=function(P){var U=new Date;ue&&(ue=!1,(!P.lengthComputable||P.lengthComputable&&P.total!==P.loaded)&&(ie.firstByteDate=U)),P.lengthComputable&&(ie.bytesLoaded=P.loaded,ie.bytesTotal=P.total),re.push({s:he,d:U.getTime()-he.getTime(),b:[P.loaded?P.loaded-se:0]}),he=U,se=P.loaded,ee.progress&&ee.progress()},r=function(){W.status>=200&&W.status<=299&&(e(!0),ee.success&&ee.success(W.response,W.statusText,W),ee.complete&&ee.complete(ie,W.statusText))},o=function(){ee.abort&&ee.abort(ie,W.status)};if(!D||!Z||!q)throw new Error("config object is not correct or missing");try{var c=D.modifyRequestURL(ie.url),g=ie.checkExistenceOnly?u.HTTPRequest.HEAD:u.HTTPRequest.GET;W.open(g,c,!0),ie.responseType&&(W.responseType=ie.responseType),ie.range&&W.setRequestHeader("Range","bytes="+ie.range),ie.requestStartDate||(ie.requestStartDate=le),W=D.modifyRequestHeader(W),W.withCredentials=V.getXHRWithCredentialsForType(ie.type),W.onload=r,W.onloadend=i,W.onerror=i,W.onprogress=n,W.onabort=o;var I=new Date().getTime();isNaN(ie.delayLoadingTime)||I>=ie.delayLoadingTime?(X.push(W),W.send()):function(){var P={xhr:W};w.push(P),P.delayTimeout=setTimeout(function(){if(w.indexOf(P)!==-1){w.splice(w.indexOf(P),1);try{le=new Date,he=le,X.push(P.xhr),P.xhr.send()}catch{P.xhr.onerror()}}},ie.delayLoadingTime-I)}()}catch{W.onerror()}}function L(ee){ee.request&&F(ee,V.getRetryAttemptsForType(ee.request.type))}function k(){O.forEach(function(ee){return clearTimeout(ee)}),O=[],w.forEach(function(ee){return clearTimeout(ee.delayTimeout)}),w=[],X.forEach(function(ee){ee.onloadend=ee.onerror=ee.onprogress=void 0,ee.abort()}),X=[]}R=R||{};var q=R.errHandler,Z=R.metricsModel,V=R.mediaPlayerModel,D=R.requestModifier,M=void 0,X=void 0,w=void 0,O=void 0,G=void 0;return M={load:L,abort:k},E(),M}Object.defineProperty(h,"__esModule",{value:!0});var u=t(179),y=t(48),v=l(y),b=t(148),m=l(b);p.__dashjs_factory_name="XHRLoader";var T=v.default.getClassFactory(p);h.default=T,_.exports=h.default},{148:148,179:179,48:48}],97:[function(t,_,h){function l(D){return D&&D.__esModule?D:{default:D}}function f(D){function M(de,ie,W){var re=function(ce,le){ie.resolved=!0,ie.resolvedContent=ce||null,G.trigger(L.default.XLINK_ELEMENT_LOADED,{element:ie,resolveObject:W,error:ce||le?null:new u.default(Z,"Failed loading Xlink element: "+de)})};if(de===w)re(null,!0);else{var ue=new T.default(de,b.HTTPRequest.XLINK_TYPE);ee.load({request:ue,success:function(ce){re(ce)},error:function(){re(null)}})}}function X(){ee&&(ee.abort(),ee=null)}D=D||{};var w="urn:mpeg:dash:resolve-to-zero:2013",O=this.context,G=(0,E.default)(O).getInstance(),ee=(0,v.default)(O).create({errHandler:D.errHandler,metricsModel:D.metricsModel,mediaPlayerModel:D.mediaPlayerModel,requestModifier:D.requestModifier});return{load:M,reset:X}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(160),u=l(p),y=t(96),v=l(y),b=t(179),m=t(170),T=l(m),R=t(47),E=l(R),F=t(51),L=l(F),k=t(48),q=l(k),Z=1;f.__dashjs_factory_name="XlinkLoader";var V=q.default.getClassFactory(f);V.XLINK_LOADER_ERROR_LOADING_FAILURE=Z,q.default.updateClassFactory(f.__dashjs_factory_name,V),h.default=V,_.exports=h.default},{160:160,170:170,179:179,47:47,48:48,51:51,96:96}],98:[function(t,_,h){function l(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function(){function y(v,b){for(var m=0;m<b.length;m++){var T=b[m];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,b,m){return b&&y(v.prototype,b),m&&y(v,m),v}}(),p=function(){function y(){l(this,y),this.init()}return f(y,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.FRAGMENTED_TEXT="fragmentedText",this.EMBEDDED_TEXT="embeddedText",this.MUXED="muxed",this.IMAGE="image",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.UTF8="utf-8",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma"}}]),y}(),u=new p;h.default=u,_.exports=h.default},{}],99:[function(t,_,h){function l(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function(){function y(v,b){for(var m=0;m<b.length;m++){var T=b[m];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,b,m){return b&&y(v.prototype,b),m&&y(v,m),v}}(),p=function(){function y(){l(this,y),this.init()}return f(y,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors"}}]),y}(),u=new p;h.default=u,_.exports=h.default},{}],100:[function(t,_,h){function l(o){return o&&o.__esModule?o:{default:o}}function f(){function o(){dt=De.log.bind(rt),P()}function c(ae,Te){yt[ae]=(0,ee.default)(be).create(),at[ae]=Te,_t[ae]=_t[ae]||{},_t[ae].state=se,St[ae]=!1,Ue.on(Z.default.LOADING_PROGRESS,pe,this),ae==v.default.VIDEO&&(Ue.on(Z.default.QUALITY_CHANGE_RENDERED,te,this),Dt=(0,ie.default)(be).create(),fe()),Ue.on(Z.default.METRIC_ADDED,S,this),Nt=(0,re.default)(be).create({mediaPlayerModel:Et})}function g(ae){delete at[ae]}function I(){vt=(0,u.default)(be).create({metricsModel:Mt,dashMetrics:Oe,mediaPlayerModel:Et,adapter:it}),vt.initialize()}function P(){Gt={video:!0,audio:!0},wt={},lt={},et={},Tt={},_t={},at={},yt={},St={},bt=!1,Je=!0,Rt=!1,Ut===void 0&&(Ut=!1),gt=void 0,Dt=void 0,Nt=void 0,clearTimeout(nt),nt=null}function U(){P(),Ue.off(Z.default.LOADING_PROGRESS,pe,this),Ue.off(Z.default.QUALITY_CHANGE_RENDERED,te,this),Ue.off(Z.default.METRIC_ADDED,S,this),vt&&vt.reset()}function B(ae){ae&&(ae.streamController&&(Vt=ae.streamController),ae.domStorage&&(It=ae.domStorage),ae.mediaPlayerModel&&(Et=ae.mediaPlayerModel),ae.metricsModel&&(Mt=ae.metricsModel),ae.dashMetrics&&(Oe=ae.dashMetrics),ae.dashManifestModel&&(qe=ae.dashManifestModel),ae.adapter&&(it=ae.adapter),ae.manifestModel&&(ut=ae.manifestModel),ae.videoModel&&(ct=ae.videoModel))}function te(ae){ae.mediaType===v.default.VIDEO&&(gt=ae.oldQuality,Dt.push(gt,ct.getPlaybackQuality()))}function S(ae){ae.metric!==m.default.HTTP_REQUEST||!ae.value||ae.value.type!==ue.HTTPRequest.MEDIA_SEGMENT_TYPE||ae.mediaType!==v.default.AUDIO&&ae.mediaType!==v.default.VIDEO||Nt.push(ae.mediaType,ae.value,Je),ae.metric!==m.default.BUFFER_LEVEL||ae.mediaType!==v.default.AUDIO&&ae.mediaType!==v.default.VIDEO||Be(ae.mediaType,.001*ae.value.level)}function N(ae,Te){var Fe=void 0;return wt[Te]=wt[Te]||{},wt[Te].hasOwnProperty(ae)||(wt[Te][ae]=0),Fe=Qe(wt[Te][ae],ae),Fe=We(Fe,ae,wt[Te][ae]),Fe=_e(Fe,ae)}function C(ae){var Te=It.getSavedBitrateSettings(ae);if(!et.hasOwnProperty(ae))if(Tt.hasOwnProperty(ae)){var Fe=ut.getValue(),Ve=qe.getAdaptationForType(Fe,0,ae).Representation;if(Array.isArray(Ve)){var Ye=Math.max(Math.round(Ve.length*Tt[ae])-1,0);et[ae]=Ve[Ye].bandwidth}else et[ae]=0}else isNaN(Te)?et[ae]=ae===v.default.VIDEO?e:i:et[ae]=Te;return et[ae]}function x(ae,Te){et[ae]=Te}function z(ae){return Tt.hasOwnProperty(ae)?Tt[ae]:null}function Y(ae,Te){Tt[ae]=Te}function K(ae){return et.hasOwnProperty("max")&&et.max.hasOwnProperty(ae)?et.max[ae]:NaN}function Q(ae){return et.hasOwnProperty("min")&&et.min.hasOwnProperty(ae)?et.min[ae]:NaN}function d(ae,Te){et.max=et.max||{},et.max[ae]=Te}function A(ae,Te){et.min=et.min||{},et.min[ae]=Te}function H(ae){var Te=K(ae);return Te?ze(at[ae].getMediaInfo(),Te):void 0}function j(ae){var Te=Q(ae);if(Te){var Fe=Ie(at[ae].getMediaInfo()),Ve=ze(at[ae].getMediaInfo(),Te);return Fe[Ve]&&Ve<Fe.length-1&&Fe[Ve].bitrate<1e3*Te&&Ve++,Ve}}function J(ae){return Tt.hasOwnProperty("max")&&Tt.max.hasOwnProperty(ae)?Tt.max[ae]:1}function oe(ae,Te){Tt.max=Tt.max||{},Tt.max[ae]=Te}function ve(ae){return Gt[ae]}function ge(ae,Te){Gt[ae]=Te}function ye(){return bt}function Ee(ae){bt=ae}function we(){return Rt}function Ne(ae){Rt=ae}function Ce(){return Je}function xe(ae){Je=ae}function Se(ae){if(ae&&at&&at[ae]){var Te=at[ae].getStreamInfo(),Fe=Te?Te.id:null,Ve=Pe(ae),Ye=(0,X.default)(be).create({abrController:rt,streamProcessor:at[ae],currentValue:Ve,switchHistory:yt[ae],droppedFramesHistory:Dt,useBufferOccupancyABR:Ae(ae)});if(Dt){var Ze=ct.getPlaybackQuality();Ze&&Dt.push(gt,Ze)}if(ve(ae)){var ht=j(ae),pt=N(ae,Fe),zt=vt.getMaxQuality(Ye),Ft=zt.quality;if(ht!==void 0&&Ft<ht&&(Ft=ht),Ft>pt&&(Ft=pt),yt[ae].push({oldValue:Ve,newValue:Ft}),Ft>O.default.NO_CHANGE&&Ft!=Ve)(_t[ae].state===se||Ft>Ve)&&ke(ae,Ve,Ft,pt,zt.reason);else if(De.getLogToBrowserConsole()){var Yt=Oe.getCurrentBufferLevel(Mt.getReadOnlyMetricsFor(ae));dt("AbrController ("+ae+") stay on "+Ve+"/"+pt+" (buffer: "+Yt+")")}}}}function Le(ae,Te,Fe,Ve){var Ye=Te.id,Ze=Pe(ae);if(Fe===null||isNaN(Fe)||Fe%1!=0)throw new Error("argument is not an integer");var ht=N(ae,Ye);Fe!==Ze&&Fe>=0&&Fe<=ht&&ke(ae,Ze,Fe,ht,Ve)}function ke(ae,Te,Fe,Ve,Ye){if(ae&&at[ae]){var Ze=at[ae].getStreamInfo(),ht=Ze?Ze.id:null;if(De.getLogToBrowserConsole()){var pt=Oe.getCurrentBufferLevel(Mt.getReadOnlyMetricsFor(ae));dt("AbrController ("+ae+") switch from "+Te+" to "+Fe+"/"+Ve+" (buffer: "+pt+") "+(Ye?JSON.stringify(Ye):"."))}Re(ae,ht,Fe),Ue.trigger(Z.default.QUALITY_CHANGE_REQUESTED,{mediaType:ae,streamInfo:Ze,oldQuality:Te,newQuality:Fe,reason:Ye})}}function $e(ae,Te){_t[ae].state=Te}function Xe(ae){return _t[ae]?_t[ae].state:null}function ze(ae,Te,Fe){if(Je&&Fe&&at[ae.type].getCurrentRepresentationInfo()&&at[ae.type].getCurrentRepresentationInfo().fragmentDuration){Fe/=1e3;var Ve=at[ae.type].getCurrentRepresentationInfo().fragmentDuration;if(Fe>Ve)return 0;Te*=1-Fe/Ve}var Ye=Ie(ae);if(!Ye||Ye.length===0)return n;for(var Ze=Ye.length-1;Ze>=0;Ze--)if(1e3*Te>=Ye[Ze].bitrate)return Ze;return 0}function Ie(ae){if(!ae||!ae.bitrateList)return null;for(var Te=ae.bitrateList,Fe=ae.type,Ve=[],Ye=void 0,Ze=0,ht=Te.length;Ze<ht;Ze++)Ye=new R.default,Ye.mediaType=Fe,Ye.qualityIndex=Ze,Ye.bitrate=Te[Ze].bandwidth,Ye.width=Te[Ze].width,Ye.height=Te[Ze].height,Ye.scanType=Te[Ze].scanType,Ve.push(Ye);return Ve}function Be(ae,Te){var Fe=Et.getABRStrategy();if(Fe===v.default.ABR_STRATEGY_BOLA)return void(St[ae]=!0);if(Fe===v.default.ABR_STRATEGY_THROUGHPUT)return void(St[ae]=!1);var Ve=Et.getStableBufferTime(),Ye=Ve,Ze=.5*Ve,ht=St[ae],pt=Te>(ht?Ze:Ye);St[ae]=pt,pt!==ht&&dt(pt?"AbrController ("+ae+") switching from throughput to buffer occupancy ABR rule (buffer: "+Te.toFixed(3)+").":"AbrController ("+ae+") switching from buffer occupancy to throughput ABR rule (buffer: "+Te.toFixed(3)+").")}function Ae(ae){return St[ae]}function Me(){return Nt}function je(ae){var Te=ae.type,Fe=ae.streamInfo.id,Ve=ae.representationCount-1;return st(Te,Fe,Ve),Ve}function He(ae){var Te=ae.id,Fe=Pe(v.default.AUDIO),Ve=Pe(v.default.VIDEO);return Fe===N(v.default.AUDIO,Te)&&Ve===N(v.default.VIDEO,Te)}function Pe(ae){if(ae&&at[ae]){var Te=at[ae].getStreamInfo(),Fe=Te?Te.id:null;if(Fe)return lt[Fe]=lt[Fe]||{},lt[Fe].hasOwnProperty(ae)||(lt[Fe][ae]=n),lt[Fe][ae]}return n}function Re(ae,Te,Fe){lt[Te]=lt[Te]||{},lt[Te][ae]=Fe}function st(ae,Te,Fe){wt[Te]=wt[Te]||{},wt[Te][ae]=Fe}function Qe(ae,Te){var Fe=ae;if(!at[Te])return Fe;var Ve=j(Te);Ve!==void 0&&(Fe=Math.max(ae,Ve));var Ye=H(Te);return Ye!==void 0&&(Fe=Math.min(Fe,Ye)),Fe}function We(ae,Te,Fe){var Ve=J(Te);return isNaN(Ve)||Ve>=1||Ve<0?ae:Math.min(ae,Math.round(Fe*Ve))}function ne(ae){Ut=ae}function fe(){if(ct){var ae=Rt&&window.hasOwnProperty("devicePixelRatio"),Te=ae?window.devicePixelRatio:1;At=ct.getClientWidth()*Te,Pt=ct.getClientHeight()*Te}}function _e(ae,Te){if(Te!==v.default.VIDEO||!bt||!at[Te])return ae;Ut||fe();var Fe=ut.getValue(),Ve=qe.getAdaptationForType(Fe,0,Te).Representation,Ye=ae;if(At>0&&Pt>0){for(;Ye>0&&Ve[Ye]&&At<Ve[Ye].width&&At-Ve[Ye-1].width<Ve[Ye].width-At;)Ye-=1;Ve.length-2>=Ye&&Ve[Ye].width===Ve[Ye+1].width&&(Ye=Math.min(ae,Ye+1))}return Ye}function pe(ae){var Te=ae.request.mediaType;if(ve(Te)){var Fe=at[Te];if(!Fe)return;var Ve=(0,X.default)(be).create({abrController:rt,streamProcessor:Fe,currentRequest:ae.request,useBufferOccupancyABR:Ae(Te)}),Ye=vt.shouldAbandonFragment(Ve);if(Ye.quality>O.default.NO_CHANGE){var Ze=Fe.getFragmentModel();Ze.getRequests({state:F.default.FRAGMENT_MODEL_LOADING,index:ae.request.index})[0]&&(Ze.abortRequests(),$e(Te,he),yt[Te].reset(),yt[Te].push({oldValue:Pe(Te,Vt.getActiveStreamInfo()),newValue:Ye.quality,confidence:1,reason:Ye.reason}),Le(Te,Vt.getActiveStreamInfo(),Ye.quality,Ye.reason),clearTimeout(nt),nt=setTimeout(function(){$e(Te,se),nt=null},Et.getAbandonLoadTimeout()))}}}var be=this.context,De=(0,le.default)(be).getInstance(),Ue=(0,k.default)(be).getInstance(),rt=void 0,dt=void 0,vt=void 0,Vt=void 0,Gt=void 0,wt=void 0,lt=void 0,et=void 0,Tt=void 0,at=void 0,_t=void 0,nt=void 0,bt=void 0,Rt=void 0,Ut=void 0,At=void 0,Pt=void 0,ut=void 0,qe=void 0,it=void 0,ct=void 0,Et=void 0,It=void 0,gt=void 0,yt=void 0,Dt=void 0,Nt=void 0,St=void 0,Mt=void 0,Oe=void 0,Je=void 0;return rt={isPlayingAtTopQuality:He,updateTopQualityIndex:je,getThroughputHistory:Me,getBitrateList:Ie,getQualityForBitrate:ze,getMaxAllowedBitrateFor:K,getMinAllowedBitrateFor:Q,setMaxAllowedBitrateFor:d,setMinAllowedBitrateFor:A,getMaxAllowedIndexFor:H,getMinAllowedIndexFor:j,getMaxAllowedRepresentationRatioFor:J,setMaxAllowedRepresentationRatioFor:oe,getInitialBitrateFor:C,setInitialBitrateFor:x,getInitialRepresentationRatioFor:z,setInitialRepresentationRatioFor:Y,setAutoSwitchBitrateFor:ge,getAutoSwitchBitrateFor:ve,getUseDeadTimeLatency:Ce,setUseDeadTimeLatency:xe,setLimitBitrateByPortal:Ee,getLimitBitrateByPortal:ye,getUsePixelRatioInLimitBitrateByPortal:we,setUsePixelRatioInLimitBitrateByPortal:Ne,getQualityFor:Pe,getAbandonmentStateFor:Xe,setPlaybackQuality:Le,checkPlaybackQuality:Se,getTopQualityIndexFor:N,setElementSize:fe,setWindowResizeEventCalled:ne,createAbrRulesCollection:I,registerStreamType:c,unRegisterStreamType:g,setConfig:B,reset:U},o(),rt}Object.defineProperty(h,"__esModule",{value:!0});var p=t(125),u=l(p),y=t(98),v=l(y),b=t(99),m=l(b),T=t(159),R=l(T),E=t(114),F=l(E),L=t(47),k=l(L),q=t(51),Z=l(q),V=t(48),D=l(V),M=t(121),X=l(M),w=t(122),O=l(w),G=t(123),ee=l(G),de=t(120),ie=l(de),W=t(124),re=l(W),ue=t(179),ce=t(46),le=l(ce),he="abandonload",se="allowload",e=1e3,i=100,n=0;f.__dashjs_factory_name="AbrController";var r=D.default.getSingletonFactory(f);r.ABANDON_LOAD=he,r.QUALITY_DEFAULT=n,D.default.updateSingletonFactory(f.__dashjs_factory_name,r),h.default=r,_.exports=h.default},{114:114,120:120,121:121,122:122,123:123,124:124,125:125,159:159,179:179,46:46,47:47,48:48,51:51,98:98,99:99}],101:[function(t,_,h){function l(V){return V&&V.__esModule?V:{default:V}}function f(){function V(le){ue.invalidateSelectedIndexes(le.entry)}function D(){ue=(0,u.default)(ie).create(),ce=(0,v.default)(ie).create(),W.on(Z.default.SERVICE_LOCATION_BLACKLIST_CHANGED,V,ee)}function M(le){le.baseURLTreeModel&&(ue=le.baseURLTreeModel),le.baseURLSelector&&(ce=le.baseURLSelector),le.dashManifestModel&&(de=le.dashManifestModel)}function X(le){ue.update(le),ce.chooseSelectorFromManifest(le)}function w(le){var he=ue.getForPath(le),se=he.reduce(function(e,i){var n=ce.select(i);return n?(re.isRelative(n.url)?e.url=re.resolve(n.url,e.url):(e.url=n.url,e.serviceLocation=n.serviceLocation),e):new R.default},new R.default);if(!re.isRelative(se.url))return se}function O(){ue.reset(),ce.reset()}function G(le){ue.setConfig({dashManifestModel:de}),ce.setConfig({dashManifestModel:de}),X(le)}var ee=void 0,de=void 0,ie=this.context,W=(0,k.default)(ie).getInstance(),re=(0,m.default)(ie).getInstance(),ue=void 0,ce=void 0;return ee={reset:O,initialize:G,resolve:w,setConfig:M},D(),ee}Object.defineProperty(h,"__esModule",{value:!0});var p=t(113),u=l(p),y=t(142),v=l(y),b=t(155),m=l(b),T=t(79),R=l(T),E=t(48),F=l(E),L=t(47),k=l(L),q=t(51),Z=l(q);f.__dashjs_factory_name="BaseURLController",h.default=F.default.getSingletonFactory(f),_.exports=h.default},{113:113,142:142,155:155,47:47,48:48,51:51,79:79}],102:[function(t,_,h){function l(b){return b&&b.__esModule?b:{default:b}}function f(b){function m(V){return!!(L.length&&V&&V.length)&&L.indexOf(V)!==-1}function T(V){L.indexOf(V)===-1&&(L.push(V),k.trigger(q,{entry:V}))}function R(V){T(V.entry)}function E(){Z&&k.on(Z,R,this)}function F(){L=[]}b=b||{};var L=[],k=(0,v.default)(this.context).getInstance(),q=b.updateEventName,Z=b.addBlacklistEventName;return E(),{add:T,contains:m,reset:F}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p),y=t(47),v=l(y);f.__dashjs_factory_name="BlackListController",h.default=u.default.getClassFactory(f),_.exports=h.default},{47:47,48:48}],103:[function(t,_,h){function l(n){return n&&n.__esModule?n:{default:n}}function f(n){function r(){at=(0,ee.default)(_e).getInstance().log.bind(Tt),gt=(0,ie.default)(_e).getInstance(),ne()}function o(){return e}function c(Oe){He(Oe),_t=Gt.getQualityFor(lt,et.getStreamInfo()),pe.on(D.default.DATA_UPDATE_COMPLETED,Le,this),pe.on(D.default.INIT_FRAGMENT_LOADED,U,this),pe.on(D.default.MEDIA_FRAGMENT_LOADED,te,this),pe.on(D.default.QUALITY_CHANGE_REQUESTED,x,this),pe.on(D.default.STREAM_COMPLETED,ke,this),pe.on(D.default.PLAYBACK_PROGRESS,d,this),pe.on(D.default.PLAYBACK_TIME_UPDATED,d,this),pe.on(D.default.PLAYBACK_RATE_CHANGED,ze,this),pe.on(D.default.PLAYBACK_SEEKING,z,this),pe.on(D.default.WALLCLOCK_TIME_UPDATED,Xe,this),pe.on(D.default.CURRENT_TRACK_CHANGED,$e,this,Z.default.EVENT_PRIORITY_HIGH),pe.on(D.default.SOURCEBUFFER_REMOVE_COMPLETED,xe,this)}function g(Oe){if(!gt||!Oe||!et)return null;if(Ut)try{ut=(0,m.default)(_e).create(Ut,Oe,C.bind(this)),typeof ut.getBuffer().initialize=="function"&&ut.getBuffer().initialize(lt,et)}catch(Je){at("Caught error on create SourceBuffer: "+Je),Ue.mediaSourceError("Error creating "+lt+" source buffer.")}else ut=(0,R.default)(_e).create(C.bind(this));Se(et.getRepresentationInfoForQuality(_t).MSETimeOffset)}function I(){if(ut&&qe&&typeof qe.discharge=="function"){var Oe=qe.getAllBufferRanges();if(Oe.length>0){for(var Je="Beginning "+lt+"PreBuffer discharge, adding buffer for:",ae=0;ae<Oe.length;ae++)Je+=" start: "+Oe.start(ae)+", end: "+Oe.end(ae)+";";at(Je)}else at("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");for(var Te=qe.discharge(),Fe=null,Ve=0;Ve<Te.length;Ve++){var Ye=Te[Ve],Ze=gt.extract(Ye.streamId,Ye.representationId);Ze&&(Fe!==Ze&&(ut.append(Ze),Fe=Ze),ut.append(Ye))}qe.reset(),qe=null}}function P(){return!(!et||!rt)&&et.getStreamInfo().id===rt.getActiveStreamInfo().id}function U(Oe){Oe.fragmentModel===et.getFragmentModel()&&(at("Init fragment finished loading saving to",lt+"'s init cache"),gt.save(Oe.chunk),at("Append Init fragment",lt," with representationId:",Oe.chunk.representationId," and quality:",Oe.chunk.quality),S(Oe.chunk))}function B(Oe,Je,ae){var Te=gt.extract(Oe,Je);St=ae===!0&&ae,Te?(at("Append Init fragment",lt," with representationId:",Te.representationId," and quality:",Te.quality),S(Te)):pe.trigger(D.default.INIT_REQUESTED,{sender:Tt})}function te(Oe){if(Oe.fragmentModel===et.getFragmentModel()){var Je=Oe.chunk,ae=Je.bytes,Te=Je.quality,Fe=et.getRepresentationInfoForQuality(Te),Ve=vt.getEventsFor(Fe.mediaInfo,et),Ye=vt.getEventsFor(Fe,et);if(Ve&&Ve.length>0||Ye&&Ye.length>0){var Ze=et.getFragmentModel().getRequests({state:v.default.FRAGMENT_MODEL_EXECUTED,quality:Te,index:Je.index})[0],ht=ye(ae,Ze,Ve,Ye);et.getEventController().addInbandEvents(ht)}if(St){Mt=Je;var pt=ut&&ut.getAllBufferRanges();pt&&pt.length>0&&wt.getTimeToStreamEnd()>ce&&(at("Clearing buffer because track changed - "+(pt.end(pt.length-1)+le)),Ne([{start:0,end:pt.end(pt.length-1)+le,force:!0}]))}else S(Je)}}function S(Oe){ut.append(Oe),Oe.mediaInfo.type===u.default.VIDEO&&pe.trigger(D.default.VIDEO_CHUNK_RECEIVED,{chunk:Oe})}function N(Oe){if(Oe&&Oe.length>0)for(var Je=0,ae=Oe.length;Je<ae;Je++)at("Buffered Range for type:",lt,":",Oe.start(Je)," - ",Oe.end(Je)," currentTime = ",wt.getTime())}function C(Oe){if(Oe.error){if(Oe.error.code===se&&(Rt=.8*Qe(),at("Quota exceeded for type: "+lt+", Critical Buffer: "+Rt),Rt>0)){var Je=Math.max(.2*Rt,1),ae=Rt-Je;De.setBufferToKeep(parseFloat(Je).toFixed(5)),De.setBufferAheadToKeep(parseFloat(ae).toFixed(5))}return void(Oe.error.code!==se&&We()||(at("Clearing playback buffer to overcome quota exceed situation for type: "+lt),pe.trigger(D.default.QUOTA_EXCEEDED,{sender:Tt,criticalBufferLevel:Rt}),Y()))}(ct=Oe.chunk)&&!isNaN(ct.index)&&(At=Math.max(ct.index,At),oe());var Te=ut.getAllBufferRanges();if(ct.segmentType===W.HTTPRequest.MEDIA_SEGMENT_TYPE)N(Te),d();else if(St){var Fe=wt.getTime();at("[BufferController][",lt,"] appendToBuffer seek target should be "+Fe),et.getScheduleController().setSeekTarget(Fe),vt.setIndexHandlerTime(et,Fe)}at("[BufferController][",lt,"] onAppended chunk type = ",ct.segmentType," and index = ",ct.index),ct&&pe.trigger(D.default.BYTES_APPENDED,{sender:Tt,quality:ct.quality,startTime:ct.start,index:ct.index,bufferedRanges:Te})}function x(Oe){_t!==Oe.newQuality&&lt===Oe.mediaType&&et.getStreamInfo().id===Oe.streamInfo.id&&(Se(et.getRepresentationInfoForQuality(Oe.newQuality).MSETimeOffset),_t=Oe.newQuality)}function z(){nt&&(Dt=!0,nt=!1,Pt=Number.POSITIVE_INFINITY),lt!==u.default.FRAGMENTED_TEXT?Y():d(),yt=void 0}function Y(){var Oe=K();Oe&&Oe.length!==0||d(),Ne(Oe)}function K(){var Oe=[],Je=ut.getAllBufferRanges();if(!Je||Je.length===0)return Oe;var ae=wt.getTime(),Te=Je.end(Je.length-1)+le,Fe=et.getFragmentModel().getRequests({state:v.default.FRAGMENT_MODEL_EXECUTED,time:ae,threshold:he})[0];if(Fe){var Ve={start:0,end:Fe.startTime-ce},Ye=et.getFragmentModel().getRequests({state:v.default.FRAGMENT_MODEL_EXECUTED,time:Fe.startTime-Fe.duration/2,threshold:he})[0];Ye&&Ye.startTime!=Fe.startTime&&(Ve.end=Ye.startTime),Ve.start<Ve.end&&Ve.end>Je.start(0)&&Oe.push(Ve);var Ze={start:Fe.startTime+Fe.duration+ce,end:Te},ht=et.getFragmentModel().getRequests({state:v.default.FRAGMENT_MODEL_EXECUTED,time:Fe.startTime+Fe.duration+ce,threshold:he})[0];ht&&ht.startTime!==Fe.startTime&&(Ze.start=ht.startTime+ht.duration+ce),Ze.start<Ze.end&&Ze.start<Te&&Oe.push(Ze)}else at("getAllRangesWithSafetyFactor for",lt,"- No request found in current time position, removing full buffer 0 -",Te),Oe.push({start:0,end:Te});return Oe}function Q(){var Oe=wt.getTime();if(yt){var Je=ut.getAllBufferRanges();Je&&Je.length&&(Oe=Math.max(Je.start(0),yt))}return Oe}function d(){St||(j(),J())}function A(Oe,Je){var ae=ut.getAllBufferRanges(),Te=0,Fe=0,Ve=null,Ye=null,Ze=0,ht=void 0,pt=void 0,zt=Je||.15;if(ae!=null){for(pt=0,ht=ae.length;pt<ht;pt++)if(Te=ae.start(pt),Fe=ae.end(pt),Ve===null)Ze=Math.abs(Te-Oe),(Oe>=Te&&Oe<Fe||Ze<=zt)&&(Ve=Te,Ye=Fe);else{if(!((Ze=Te-Ye)<=zt))break;Ye=Fe}if(Ve!==null)return{start:Ve,end:Ye}}return null}function H(Oe,Je){var ae=void 0;return ae=A(Oe,Je),ae===null?0:ae.end-Oe}function j(){wt&&(bt=H(Q()||0),pe.trigger(D.default.BUFFER_LEVEL_UPDATED,{sender:Tt,bufferLevel:bt}),ve())}function J(){P()&&(be.addBufferState(lt,it,et.getScheduleController().getBufferTarget()),be.addBufferLevel(lt,new Date,1e3*bt))}function oe(){At>=Pt-1&&!nt&&ut.discharge===void 0&&(nt=!0,at("[BufferController]["+lt+"] checkIfBufferingCompleted trigger BUFFERING_COMPLETED"),pe.trigger(D.default.BUFFERING_COMPLETED,{sender:Tt,streamInfo:et.getStreamInfo()}))}function ve(){lt!=="audio"&&lt!=="video"||(Dt&&!nt&&wt&&wt.getTimeToStreamEnd()-bt<ce&&(Dt=!1,nt=!0,at("[BufferController]["+lt+"] checkIfSufficientBuffer trigger BUFFERING_COMPLETED"),pe.trigger(D.default.BUFFERING_COMPLETED,{sender:Tt,streamInfo:et.getStreamInfo()})),bt<ce&&!nt?ge(ue):(nt||bt>=De.getStableBufferTime())&&ge(re))}function ge(Oe){it===Oe||lt===u.default.FRAGMENTED_TEXT&&Vt.getAllTracksAreDisabled()||(it=Oe,J(),pe.trigger(D.default.BUFFER_LEVEL_STATE_CHANGED,{sender:Tt,state:Oe,mediaType:lt,streamInfo:et.getStreamInfo()}),pe.trigger(Oe===re?D.default.BUFFER_LOADED:D.default.BUFFER_EMPTY,{mediaType:lt}),at(Oe===re?"Got enough buffer to start for "+lt:"Waiting for more buffer before starting playback for "+lt))}function ye(Oe,Je,ae,Te){for(var Fe=Math.max(isNaN(Je.startTime)?0:Je.startTime,0),Ve=[],Ye=[],Ze=ae.concat(Te),ht=0,pt=Ze.length;ht<pt;ht++)Ve[Ze[ht].schemeIdUri]=Ze[ht];for(var zt=(0,X.default)(_e).getInstance().parse(Oe),Ft=zt.getBoxes("emsg"),ht=0,pt=Ft.length;ht<pt;ht++){var Yt=vt.getEvent(Ft[ht],Ve,Fe);Yt&&Ye.push(Yt)}return Ye}function Ee(){ut&&lt!==u.default.FRAGMENTED_TEXT&&(nt||Ne(we()))}function we(){var Oe=[],Je=ut.getAllBufferRanges();if(!Je||Je.length===0)return Oe;var ae=wt.getTime(),Te={start:Math.max(0,ae-De.getBufferToKeep()),end:ae+De.getBufferAheadToKeep()},Fe=et.getFragmentModel().getRequests({state:v.default.FRAGMENT_MODEL_EXECUTED,time:ae,threshold:he})[0];if(Fe&&(Te.start=Math.min(Fe.startTime,Te.start),Te.end=Math.max(Fe.startTime+Fe.duration,Te.end)),at("getClearRanges for",lt,"- Remove buffer out of ",Te.start," - ",Te.end),Je.start(0)<=Te.start){for(var Ve={start:0,end:Te.start},Ye=0;Ye<Je.length&&Je.end(Ye)<=Te.start;Ye++)Ve.end=Je.end(Ye);Ve.start<Ve.end&&Oe.push(Ve)}if(Je.end(Je.length-1)>=Te.end){var Ze={start:Te.end,end:Je.end(Je.length-1)+he};Ze.start<Ze.end&&Oe.push(Ze)}return Oe}function Ne(Oe){Oe&&ut&&Oe.length!==0&&(Nt.push.apply(Nt,Oe),It||Ce())}function Ce(){if(Nt.length!==0){var Oe=Nt.shift();at("Removing",lt,"buffer from:",Oe.start,"to",Oe.end),It=!0;var Je=wt.getTime();Je<Oe.end&&(nt=!1,At=0,St||(et.getScheduleController().setSeekTarget(Je),vt.setIndexHandlerTime(et,Je))),ut.remove(Oe.start,Oe.end,Oe.force)}}function xe(Oe){ut===Oe.buffer&&(at("[BufferController][",lt,"] onRemoved buffer from:",Oe.from,"to",Oe.to),N(ut.getAllBufferRanges()),Nt.length===0&&(It=!1),It?Ce():(St?(St=!1,S(Mt)):(at("onRemoved : call updateBufferLevel"),j()),pe.trigger(D.default.BUFFER_CLEARED,{sender:Tt,from:Oe.from,to:Oe.to,hasEnoughSpaceToAppend:We()})))}function Se(Oe){var Je=ut&&ut.getBuffer?ut.getBuffer():null;Je&&Je.timestampOffset!==Oe&&!isNaN(Oe)&&(Je.timestampOffset=Oe)}function Le(Oe){Oe.sender.getStreamProcessor()!==et||Oe.error||Se(Oe.currentRepresentation.MSETimeOffset)}function ke(Oe){Oe.fragmentModel===et.getFragmentModel()&&(Pt=Oe.request.index,oe())}function $e(Oe){var Je=ut&&ut.getAllBufferRanges();Je&&Oe.newMediaInfo.type===lt&&Oe.newMediaInfo.streamInfo.id===et.getStreamInfo().id&&(at("[BufferController]["+lt+"] track change asked"),dt.getSwitchMode(lt)===k.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&Je&&Je.length>0&&wt.getTimeToStreamEnd()>ce&&(nt=!1,Pt=Number.POSITIVE_INFINITY,et.getFragmentModel().abortRequests()))}function Xe(){++Et*(De.getWallclockTimeUpdateInterval()/1e3)>=De.getBufferPruningInterval()&&(Et=0,Ee())}function ze(){ve()}function Ie(){return lt}function Be(){return et}function Ae(Oe){yt=Oe}function Me(){return ut}function je(){return bt}function He(Oe,Je){Ut=Oe,ut&&Je&&typeof ut.discharge=="function"&&(qe=ut,g(Je))}function Pe(){return Ut}function Re(){return nt}function st(){return It}function Qe(){var Oe=ut.getAllBufferRanges(),Je=0,ae=void 0,Te=void 0;if(!Oe)return Je;for(Te=0,ae=Oe.length;Te<ae;Te++)Je+=Oe.end(Te)-Oe.start(Te);return Je}function We(){return Qe()<Rt}function ne(Oe){Rt=Number.POSITIVE_INFINITY,it=ue,_t=F.default.QUALITY_DEFAULT,Pt=Number.POSITIVE_INFINITY,At=0,ct=null,nt=!1,It=!1,Dt=!1,bt=0,Et=0,Nt=[],ut&&(Oe||ut.abort(),ut.reset(),ut=null),St=!1}function fe(Oe){pe.off(D.default.DATA_UPDATE_COMPLETED,Le,this),pe.off(D.default.QUALITY_CHANGE_REQUESTED,x,this),pe.off(D.default.INIT_FRAGMENT_LOADED,U,this),pe.off(D.default.MEDIA_FRAGMENT_LOADED,te,this),pe.off(D.default.STREAM_COMPLETED,ke,this),pe.off(D.default.CURRENT_TRACK_CHANGED,$e,this),pe.off(D.default.PLAYBACK_PROGRESS,d,this),pe.off(D.default.PLAYBACK_TIME_UPDATED,d,this),pe.off(D.default.PLAYBACK_RATE_CHANGED,ze,this),pe.off(D.default.PLAYBACK_SEEKING,z,this),pe.off(D.default.WALLCLOCK_TIME_UPDATED,Xe,this),pe.off(D.default.SOURCEBUFFER_REMOVE_COMPLETED,xe,this),ne(Oe)}n=n||{};var _e=this.context,pe=(0,Z.default)(_e).getInstance(),be=n.metricsModel,De=n.mediaPlayerModel,Ue=n.errHandler,rt=n.streamController,dt=n.mediaController,vt=n.adapter,Vt=n.textController,Gt=n.abrController,wt=n.playbackController,lt=n.type,et=n.streamProcessor,Tt=void 0,at=void 0,_t=void 0,nt=void 0,bt=void 0,Rt=void 0,Ut=void 0,At=void 0,Pt=void 0,ut=void 0,qe=void 0,it=void 0,ct=void 0,Et=void 0,It=void 0,gt=void 0,yt=void 0,Dt=void 0,Nt=void 0,St=void 0,Mt=void 0;return Tt={getBufferControllerType:o,initialize:c,createBuffer:g,dischargePreBuffer:I,getType:Ie,getStreamProcessor:Be,setSeekStartTime:Ae,getBuffer:Me,getBufferLevel:je,getRangeAt:A,setMediaSource:He,getMediaSource:Pe,getIsBufferingCompleted:Re,switchInitData:B,getIsPruningInProgress:st,reset:fe},r(),Tt}Object.defineProperty(h,"__esModule",{value:!0});var p=t(98),u=l(p),y=t(114),v=l(y),b=t(93),m=l(b),T=t(92),R=l(T),E=t(100),F=l(E),L=t(106),k=l(L),q=t(47),Z=l(q),V=t(51),D=l(V),M=t(143),X=l(M),w=t(48),O=l(w),G=t(46),ee=l(G),de=t(149),ie=l(de),W=t(179),re="bufferLoaded",ue="bufferStalled",ce=.5,le=.5,he=.01,se=22,e="BufferController";f.__dashjs_factory_name=e;var i=O.default.getClassFactory(f);i.BUFFER_LOADED=re,i.BUFFER_EMPTY=ue,O.default.updateClassFactory(f.__dashjs_factory_name,i),h.default=i,_.exports=h.default},{100:100,106:106,114:114,143:143,149:149,179:179,46:46,47:47,48:48,51:51,92:92,93:93,98:98}],104:[function(t,_,h){function l(E){return E&&E.__esModule?E:{default:E}}function f(){function E(){F()}function F(){g=!1,le={},he={},se={},e=null,i=100,n=i/1e3}function L(){if(!r||!o||!c)throw new Error("setConfig function has to be called previously")}function k(){e!==null&&g&&(clearInterval(e),e=null,g=!1)}function q(){L(),re("Start Event Controller"),g||isNaN(i)||(g=!0,e=setInterval(X,i))}function Z(I){if(L(),le={},I)for(var P=0;P<I.length;P++){var U=I[P];le[U.id]=U,re("Add inline event with id "+U.id)}re("Added "+I.length+" inline events")}function V(I){L();for(var P=0;P<I.length;P++){var U=I[P];U.id in he?re("Repeated event with id "+U.id):(U.eventStream.schemeIdUri===de&&he[U.id]===void 0&&D(U),he[U.id]=U,re("Add inband event with id "+U.id))}}function D(I){if(I.eventStream.value==ie){var P=I.eventStream.timescale||1,U=I.presentationTime/P,B=void 0;B=I.presentationTime==4294967295?NaN:(I.presentationTime+I.duration)/P,re("Manifest validity changed: Valid until: "+U+"; remaining duration: "+B),ue.trigger(R.default.MANIFEST_VALIDITY_CHANGED,{id:I.id,validUntil:U,newDuration:B,newManifestValidAfter:NaN})}}function M(){if(se)for(var I=c.getTime(),P=Object.keys(se),U=0;U<P.length;U++){var B=P[U],te=se[B];te!==null&&(te.duration+te.presentationTime)/te.eventStream.timescale<I&&(re("Remove Event "+B+" at time "+I),te=null,delete se[B])}}function X(){O(he),O(le),M()}function w(){L(),o.refreshManifest()}function O(I){var P,U=c.getTime();if(I)for(var B=Object.keys(I),te=0;te<B.length;te++){var S=B[te],N=I[S];N!==void 0&&((P=N.presentationTime/N.eventStream.timescale)==0||P<=U&&P+n>U)&&(re("Start Event "+S+" at "+U),N.duration>0&&(se[S]=N),N.eventStream.schemeIdUri==de&&N.eventStream.value==ie?N.duration===0&&N.presentationTimeDelta===0||w():ue.trigger(N.eventStream.schemeIdUri,{event:N}),delete I[S])}}function G(I){I&&(I.manifestModel&&(r=I.manifestModel),I.manifestUpdater&&(o=I.manifestUpdater),I.playbackController&&(c=I.playbackController))}function ee(){k(),F()}var de="urn:mpeg:dash:event:2012",ie=1,W=this.context,re=(0,v.default)(W).getInstance().log,ue=(0,m.default)(W).getInstance(),ce=void 0,le=void 0,he=void 0,se=void 0,e=void 0,i=void 0,n=void 0,r=void 0,o=void 0,c=void 0,g=void 0;return ce={addInlineEvents:Z,addInbandEvents:V,stop:k,start:q,setConfig:G,reset:ee},E(),ce}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p),y=t(46),v=l(y),b=t(47),m=l(b),T=t(51),R=l(T);f.__dashjs_factory_name="EventController",h.default=u.default.getClassFactory(f),_.exports=h.default},{46:46,47:47,48:48,51:51}],105:[function(t,_,h){function l(O){return O&&O.__esModule?O:{default:O}}function f(O){function G(){ie(),he.on(V.default.FRAGMENT_LOADING_COMPLETED,ue,n)}function ee(o){var c=r[o];return c||(c=(0,T.default)(ce).create({metricsModel:i,fragmentLoader:(0,E.default)(ce).create({metricsModel:i,mediaPlayerModel:e,errHandler:se,requestModifier:(0,L.default)(ce).getInstance()})}),r[o]=c),c}function de(o){return o&&o.type&&o.type===y.HTTPRequest.INIT_SEGMENT_TYPE}function ie(){for(var o in r)r[o].reset();r={}}function W(){he.off(V.default.FRAGMENT_LOADING_COMPLETED,ue,this),ie()}function re(o,c,g){var I=new b.default;return I.streamId=g,I.mediaInfo=c.mediaInfo,I.segmentType=c.type,I.start=c.startTime,I.duration=c.duration,I.end=I.start+I.duration,I.bytes=o,I.index=c.index,I.quality=c.quality,I.representationId=c.representationId,I}function ue(o){if(r[o.request.mediaType]===o.sender){var c=o.request,g=o.response,I=de(c),P=c.mediaInfo.streamInfo;if(o.error&&(o.request.mediaType!==u.default.AUDIO&&o.request.mediaType!==u.default.VIDEO||he.trigger(V.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:o.request.serviceLocation})),!g||!P)return void le("No "+c.mediaType+" bytes to push or stream is inactive.");var U=re(g,c,P.id);he.trigger(I?V.default.INIT_FRAGMENT_LOADED:V.default.MEDIA_FRAGMENT_LOADED,{chunk:U,fragmentModel:o.sender})}}O=O||{};var ce=this.context,le=(0,w.default)(ce).getInstance().log,he=(0,q.default)(ce).getInstance(),se=O.errHandler,e=O.mediaPlayerModel,i=O.metricsModel,n=void 0,r=void 0;return n={getModel:ee,isInitializationRequest:de,reset:W},G(),n}Object.defineProperty(h,"__esModule",{value:!0});var p=t(98),u=l(p),y=t(179),v=t(161),b=l(v),m=t(114),T=l(m),R=t(87),E=l(R),F=t(153),L=l(F),k=t(47),q=l(k),Z=t(51),V=l(Z),D=t(48),M=l(D),X=t(46),w=l(X);f.__dashjs_factory_name="FragmentController",h.default=M.default.getClassFactory(f),_.exports=h.default},{114:114,153:153,161:161,179:179,46:46,47:47,48:48,51:51,87:87,98:98}],106:[function(t,_,h){function l(M){return M&&M.__esModule?M:{default:M}}function f(){function M(){i()}function X(Q,d){var A=W(Q),H=O(Q,d),j=[];if(Q===u.default.FRAGMENTED_TEXT)return void de(H[0]);A||(A=z.getSavedMediaSettings(Q),ie(Q,A)),H&&H.length!==0&&(A&&H.forEach(function(J){r(A,J)&&j.push(J)}),de(j.length===0?g(H):j.length>1?g(j):j[0]))}function w(Q){var d=Q?Q.type:null,A=Q?Q.streamInfo.id:null,H=W(d);if(Q&&he(d)){S[A]=S[A]||I();for(var j=S[A][d].list.length,J=0;J<j;J++)if(se(S[A][d].list[J],Q))return;S[A][d].list.push(Q),H&&r(H,Q)&&!G(d,Q.streamInfo)&&de(Q)}}function O(Q,d){if(!Q||!d)return[];var A=d.id;return S[A]&&S[A][Q]?S[A][Q].list:[]}function G(Q,d){return!Q||!d||d&&!S[d.id]?null:S[d.id][Q].current}function ee(Q){var d=Q.type,A=Q.streamInfo.id;return S[A]&&S[A][d]&&se(S[A][d].current,Q)}function de(Q){if(Q){var d=Q.type,A=Q.streamInfo,H=A.id,j=G(d,A);if(S[H]&&S[H][d]&&(!j||!se(Q,j))){S[H][d].current=Q,j&&B.trigger(v.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:j,newMediaInfo:Q,switchMode:x[d]});var J=n(Q);J&&S[H][d].storeLastSettings&&(J.roles&&(J.role=J.roles[0],delete J.roles),J.accessibility&&(J.accessibility=J.accessibility[0]),J.audioChannelConfiguration&&(J.audioChannelConfiguration=J.audioChannelConfiguration[0]),z.setSavedMediaSettings(d,J))}}}function ie(Q,d){Q&&d&&(N[Q]=d)}function W(Q){return Q?N[Q]:null}function re(Q,d){if(Y.indexOf(d)===-1)return void U("track switch mode is not supported: "+d);x[Q]=d}function ue(Q){return x[Q]}function ce(Q){if(K.indexOf(Q)===-1)return void U("track selection mode is not supported: "+Q);C=Q}function le(){return C||V}function he(Q){return Q===u.default.AUDIO||Q===u.default.VIDEO||Q===u.default.TEXT||Q===u.default.FRAGMENTED_TEXT||Q===u.default.IMAGE}function se(Q,d){var A=Q.id===d.id,H=Q.viewpoint===d.viewpoint,j=Q.lang===d.lang,J=Q.roles.toString()===d.roles.toString(),oe=Q.accessibility.toString()===d.accessibility.toString(),ve=Q.audioChannelConfiguration.toString()===d.audioChannelConfiguration.toString();return A&&H&&j&&J&&oe&&ve}function e(Q){Q&&(Q.errHandler&&Q.errHandler,Q.domStorage&&(z=Q.domStorage))}function i(){S={},c(),o()}function n(Q){var d={lang:Q.lang,viewpoint:Q.viewpoint,roles:Q.roles,accessibility:Q.accessibility,audioChannelConfiguration:Q.audioChannelConfiguration};return d.lang||d.viewpoint||d.role&&d.role.length>0||d.accessibility&&d.accessibility.length>0||d.audioChannelConfiguration&&d.audioChannelConfiguration.length>0?d:null}function r(Q,d){var A=!Q.lang||Q.lang===d.lang,H=!Q.viewpoint||Q.viewpoint===d.viewpoint,j=!Q.role||!!d.roles.filter(function(ve){return ve===Q.role})[0],J=!Q.accessibility||!!d.accessibility.filter(function(ve){return ve===Q.accessibility})[0],oe=!Q.audioChannelConfiguration||!!d.audioChannelConfiguration.filter(function(ve){return ve===Q.audioChannelConfiguration})[0];return A&&H&&j&&J&&oe}function o(){x={audio:k,video:L}}function c(){N={audio:null,video:null}}function g(Q){var d=le(),A=[],H=function(J){var oe=0,ve=[],ge=void 0;return J.forEach(function(ye){ge=Math.max.apply(Math,ye.bitrateList.map(function(Ee){return Ee.bandwidth})),ge>oe?(oe=ge,ve=[ye]):ge===oe&&ve.push(ye)}),ve},j=function(J){var oe=0,ve=[],ge=void 0;return J.forEach(function(ye){ge=ye.representationCount,ge>oe?(oe=ge,ve=[ye]):ge===oe&&ve.push(ye)}),ve};switch(d){case q:A=H(Q),A.length>1&&(A=j(A));break;case Z:A=j(Q),A.length>1&&(A=H(Q));break;default:U("track selection mode is not supported: "+d)}return A[0]}function I(){return{audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},fragmentedText:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}}}var P=this.context,U=(0,F.default)(P).getInstance().log,B=(0,m.default)(P).getInstance(),te=void 0,S=void 0,N=void 0,C=void 0,x=void 0,z=void 0,Y=[k,L],K=[q,Z];return te={checkInitialMediaSettingsForType:X,addTrack:w,getTracksFor:O,getCurrentTrackFor:G,isCurrentTrack:ee,setTrack:de,setInitialSettings:ie,getInitialSettings:W,setSwitchMode:re,getSwitchMode:ue,setSelectionModeForInitialTrack:ce,getSelectionModeForInitialTrack:le,isMultiTrackSupportedByType:he,isTracksEqual:se,setConfig:e,reset:i},M(),te}Object.defineProperty(h,"__esModule",{value:!0});var p=t(98),u=l(p),y=t(51),v=l(y),b=t(47),m=l(b),T=t(48),R=l(T),E=t(46),F=l(E),L="neverReplace",k="alwaysReplace",q="highestBitrate",Z="widestRange",V=q;f.__dashjs_factory_name="MediaController";var D=R.default.getSingletonFactory(f);D.TRACK_SWITCH_MODE_NEVER_REPLACE=L,D.TRACK_SWITCH_MODE_ALWAYS_REPLACE=k,D.TRACK_SELECTION_MODE_HIGHEST_BITRATE=q,D.TRACK_SELECTION_MODE_WIDEST_RANGE=Z,D.DEFAULT_INIT_TRACK_SELECTION_MODE=V,R.default.updateSingletonFactory(f.__dashjs_factory_name,D),h.default=D,_.exports=h.default},{46:46,47:47,48:48,51:51,98:98}],107:[function(t,_,h){function l(y){return y&&y.__esModule?y:{default:y}}function f(){function y(){var E="WebKitMediaSource"in window;return"MediaSource"in window?new MediaSource:E?new WebKitMediaSource:null}function v(E,F){var L=window.URL.createObjectURL(E);return F.setSource(L),L}function b(E){E.setSource(null)}function m(E,F){return E.duration!=F&&(E.duration=F),E.duration}function T(E,F,L){E&&typeof E.setLiveSeekableRange=="function"&&typeof E.clearLiveSeekableRange=="function"&&E.readyState==="open"&&F>=0&&F<L&&(E.clearLiveSeekableRange(),E.setLiveSeekableRange(F,L))}function R(E){var F=E.sourceBuffers,L=F.length;if(E.readyState==="open"){for(var k=0;k<L;k++)if(F[k].updating||F[k].buffered.length===0)return;E.endOfStream()}}return{createMediaSource:y,attachMediaSource:v,detachMediaSource:b,setDuration:m,setSeekable:T,signalEndOfStream:R}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p);f.__dashjs_factory_name="MediaSourceController",h.default=u.default.getSingletonFactory(f),_.exports=h.default},{48:48}],108:[function(t,_,h){function l(D){return D&&D.__esModule?D:{default:D}}function f(){function D(){r()}function M(fe){Re=fe,Ee(),st=Re.manifestInfo.isDynamic,Ae=Re.start,xe.on(F.default.DATA_UPDATE_COMPLETED,te,this),xe.on(F.default.BYTES_APPENDED,ge,this),xe.on(F.default.BUFFER_LEVEL_STATE_CHANGED,ye,this),xe.on(F.default.PERIOD_SWITCH_STARTED,X,this),We&&(We=!1,O())}function X(fe){!st&&fe.fromStreamInfo&&je[fe.fromStreamInfo.id]!==void 0&&(delete Pe[fe.fromStreamInfo.id],delete je[fe.fromStreamInfo.id])}function w(){var fe=g(!0),_e=st?fe-Re.start:0;return parseFloat((fe+(Re.duration-_e)-W()).toFixed(5))}function O(){Re&&Be&&Be.getElement()?Be.play():We=!0}function G(){return Re&&Be?Be.isPaused():null}function ee(){Re&&Be&&Be.pause()}function de(){return Re&&Be?Be.isSeeking():null}function ie(fe){Re&&Be&&(xe.trigger(F.default.PLAYBACK_SEEK_ASKED),Ce("Requesting seek to time: "+fe),Be.setCurrentTime(fe))}function W(){return Re&&Be?Be.getTime():null}function re(){return Re&&Be?Be.getPlaybackRate():null}function ue(){return Re&&Be?Be.getPlayedRanges():null}function ce(){return Re&&Be?Be.getEnded():null}function le(){return st}function he(){return Le}function se(fe){Ae=fe}function e(){return Ae}function i(fe,_e){var pe=ze.getMpd(Xe.getValue()),be=void 0,De=void 0;if(be=Qe.getUseSuggestedPresentationDelay()&&pe.hasOwnProperty(u.default.SUGGESTED_PRESENTATION_DELAY)?pe.suggestedPresentationDelay:Qe.getLiveDelay()?Qe.getLiveDelay():isNaN(fe)?2*Re.manifestInfo.minBufferTime:fe*Qe.getLiveDelayFragmentCount(),_e>0){var Ue=Math.max(_e-10,_e/2);De=Math.min(be,Ue)}else De=be;return He=De,De}function n(){return He}function r(){Ae=NaN,Me=null,We=!1,je={},He=0,Pe={},Be&&(xe.off(F.default.DATA_UPDATE_COMPLETED,te,this),xe.off(F.default.BUFFER_LEVEL_STATE_CHANGED,ye,this),xe.off(F.default.BYTES_APPENDED,ge,this),xe.off(F.default.PERIOD_SWITCH_STARTED,X,this),U(),we()),Be=null,Re=null,st=null}function o(fe){fe&&(fe.streamController&&(Le=fe.streamController),fe.metricsModel&&(ke=fe.metricsModel),fe.dashMetrics&&($e=fe.dashMetrics),fe.manifestModel&&(Xe=fe.manifestModel),fe.dashManifestModel&&(ze=fe.dashManifestModel),fe.mediaPlayerModel&&(Qe=fe.mediaPlayerModel),fe.adapter&&(Ie=fe.adapter),fe.videoModel&&(Be=fe.videoModel))}function c(){var fe=(0,m.default)(Ne).getInstance().getURIFragmentData(),_e=void 0;if(fe){_e={};var pe=parseInt(fe.r,10);pe>=0&&Re&&pe<Re.manifestInfo.DVRWindowSize&&fe.t===null&&(fe.t=Math.floor(Date.now()/1e3)-Re.manifestInfo.DVRWindowSize+pe),_e.fragS=parseInt(fe.s,10),_e.fragT=parseInt(fe.t,10)}return _e}function g(fe,_e){var pe=void 0,be=NaN,De=c();if(be=De?fe?Re.start:isNaN(De.fragS)?De.fragT:De.fragS:0,st)isNaN(be)||((pe=be-Re.manifestInfo.availableFrom.getTime()/1e3)>Ae||pe<(isNaN(_e)?NaN:_e-Re.manifestInfo.DVRWindowSize))&&(pe=null),pe=pe||Ae;else if(!isNaN(be)&&be<Math.max(Re.manifestInfo.duration,Re.duration)&&be>=0)pe=be;else{var Ue=je[Re.id];pe=Ue!==void 0?Math.max(Ue.audio!==void 0?Ue.audio:0,Ue.video!==void 0?Ue.video:0,Re.start):Re.start}return pe}function I(fe){var _e=ke.getReadOnlyMetricsFor(u.default.VIDEO)||ke.getReadOnlyMetricsFor(u.default.AUDIO),pe=$e.getCurrentDVRInfo(_e),be=pe?pe.range:null,De=void 0;if(!be)return NaN;if(fe>be.end)De=Math.max(be.end-2*Re.manifestInfo.minBufferTime,be.start);else{if(!(fe+.25<be.start))return fe;De=be.start}return De}function P(){if(Me===null){var fe=function(){oe()};Me=setInterval(fe,Qe.getWallclockTimeUpdateInterval())}}function U(){clearInterval(Me),Me=null}function B(){if(!G()&&st&&Be.getReadyState()!==0){var fe=W(),_e=I(fe);!isNaN(_e)&&_e!==fe&&ie(_e)}}function te(fe){if(!fe.error){var _e=Ie.convertDataToRepresentationInfo(fe.currentRepresentation),pe=_e.mediaInfo.streamInfo;Re.id===pe.id&&(Re=pe,B())}}function S(){xe.trigger(F.default.CAN_PLAY)}function N(){Ce("Native video element event: play"),B(),P(),xe.trigger(F.default.PLAYBACK_STARTED,{startTime:W()})}function C(){Ce("Native video element event: playing"),xe.trigger(F.default.PLAYBACK_PLAYING,{playingTime:W()})}function x(){Ce("Native video element event: pause"),xe.trigger(F.default.PLAYBACK_PAUSED,{ended:ce()})}function z(){var fe=W();Ce("Seeking to: "+fe),P(),xe.trigger(F.default.PLAYBACK_SEEKING,{seekTime:fe})}function Y(){Ce("Native video element event: seeked"),xe.trigger(F.default.PLAYBACK_SEEKED)}function K(){var fe=W();xe.trigger(F.default.PLAYBACK_TIME_UPDATED,{timeToEnd:w(),time:fe})}function Q(){var fe=Date.now();(!ne||fe>ne+V)&&(ne=fe,K())}function d(){xe.trigger(F.default.PLAYBACK_PROGRESS)}function A(){var fe=re();Ce("Native video element event: ratechange: ",fe),xe.trigger(F.default.PLAYBACK_RATE_CHANGED,{playbackRate:fe})}function H(){Ce("Native video element event: loadedmetadata"),xe.trigger(F.default.PLAYBACK_METADATA_LOADED),P()}function j(){Ce("Native video element event: ended"),ee(),U(),xe.trigger(F.default.PLAYBACK_ENDED)}function J(fe){var _e=fe.target||fe.srcElement;xe.trigger(F.default.PLAYBACK_ERROR,{error:_e.error})}function oe(){xe.trigger(F.default.WALLCLOCK_TIME_UPDATED,{isDynamic:st,time:new Date}),le()&&G()&&Q()}function ve(fe,_e){if(_e&&_e.length>0){for(var pe=0,be=_e.length;pe<be;pe++)if(fe>=_e.start(pe)&&fe<_e.end(pe))return!0}return!1}function ge(fe){var _e=void 0,pe=void 0,be=fe.bufferedRanges;if(be&&be.length&&(!je[Re.id]||je[Re.id].started!==!0)){var De=fe.sender.getType();Pe[Re.id]===void 0&&(Pe[Re.id]=[]),Pe[Re.id][De]=be,je[Re.id]===void 0&&(je[Re.id]=[],je[Re.id].started=!1),je[Re.id][De]===void 0&&(je[Re.id][De]=Math.max(be.start(0),Re.start));var Ue=Le.isVideoTrackPresent(),rt=Le.isAudioTrackPresent();pe=g(!1),rt&&Ue?isNaN(je[Re.id].audio)||isNaN(je[Re.id].video)||(je[Re.id].audio<je[Re.id].video?(_e=je[Re.id].video>pe?je[Re.id].video:pe,be=Pe[Re.id].audio):(_e=je[Re.id].audio>pe?je[Re.id].audio:pe,be=Pe[Re.id].video),ve(_e,be)&&(de()||ie(_e),je[Re.id].started=!0)):je[Re.id][De]&&(_e=je[Re.id][De]>pe?je[Re.id][De]:pe,de()||ie(_e),je[Re.id].started=!0)}}function ye(fe){fe.streamInfo.id===Re.id&&Be.setStallState(fe.mediaType,fe.state===v.default.BUFFER_EMPTY)}function Ee(){Be.addEventListener("canplay",S),Be.addEventListener("play",N),Be.addEventListener("playing",C),Be.addEventListener("pause",x),Be.addEventListener("error",J),Be.addEventListener("seeking",z),Be.addEventListener("seeked",Y),Be.addEventListener("timeupdate",K),Be.addEventListener("progress",d),Be.addEventListener("ratechange",A),Be.addEventListener("loadedmetadata",H),Be.addEventListener("ended",j)}function we(){Be.removeEventListener("canplay",S),Be.removeEventListener("play",N),Be.removeEventListener("playing",C),Be.removeEventListener("pause",x),Be.removeEventListener("error",J),Be.removeEventListener("seeking",z),Be.removeEventListener("seeked",Y),Be.removeEventListener("timeupdate",K),Be.removeEventListener("progress",d),Be.removeEventListener("ratechange",A),Be.removeEventListener("loadedmetadata",H),Be.removeEventListener("ended",j)}var Ne=this.context,Ce=(0,Z.default)(Ne).getInstance().log,xe=(0,R.default)(Ne).getInstance(),Se=void 0,Le=void 0,ke=void 0,$e=void 0,Xe=void 0,ze=void 0,Ie=void 0,Be=void 0,Ae=void 0,Me=void 0,je=void 0,He=void 0,Pe=void 0,Re=void 0,st=void 0,Qe=void 0,We=void 0,ne=void 0;return Se={initialize:M,setConfig:o,getStartTimeFromUriParameters:c,getStreamStartTime:g,getTimeToStreamEnd:w,getTime:W,getPlaybackRate:re,getPlayedRanges:ue,getEnded:ce,getIsDynamic:le,getStreamController:he,setLiveStartTime:se,getLiveStartTime:e,computeLiveDelay:i,getLiveDelay:n,play:O,isPaused:G,pause:ee,isSeeking:de,seek:ie,reset:r},D(),Se}Object.defineProperty(h,"__esModule",{value:!0});var p=t(98),u=l(p),y=t(103),v=l(y),b=t(118),m=l(b),T=t(47),R=l(T),E=t(51),F=l(E),L=t(48),k=l(L),q=t(46),Z=l(q),V=500;f.__dashjs_factory_name="PlaybackController",h.default=k.default.getSingletonFactory(f),_.exports=h.default},{103:103,118:118,46:46,47:47,48:48,51:51,98:98}],109:[function(t,_,h){function l(ie){return ie&&ie.__esModule?ie:{default:ie}}function f(ie){function W(){pe=(0,G.default)(Xe).getInstance().log.bind(_e),ke()}function re(){be=ne.getFragmentModel(),_t=He.getScheduleWhilePaused(),Tt=(0,E.default)(Xe).create({abrController:Pe,dashMetrics:Ae,metricsModel:Ie,mediaPlayerModel:He,textController:Qe}),at=(0,L.default)(Xe).create({adapter:Be,textController:Qe}),Me.getIsTextTrack(We)&&ze.on(M.default.TIMED_TEXT_REQUESTED,H,this),ze.on(M.default.QUALITY_CHANGE_REQUESTED,I,this),ze.on(M.default.DATA_UPDATE_STARTED,Y,this),ze.on(M.default.DATA_UPDATE_COMPLETED,U,this),ze.on(M.default.FRAGMENT_LOADING_COMPLETED,N,this),ze.on(M.default.STREAM_COMPLETED,S,this),ze.on(M.default.STREAM_INITIALIZED,B,this),ze.on(M.default.BUFFER_LEVEL_STATE_CHANGED,Q,this),ze.on(M.default.BUFFER_CLEARED,K,this),ze.on(M.default.BYTES_APPENDED,x,this),ze.on(M.default.INIT_REQUESTED,n,this),ze.on(M.default.QUOTA_EXCEEDED,d,this),ze.on(M.default.PLAYBACK_SEEKING,J,this),ze.on(M.default.PLAYBACK_STARTED,j,this),ze.on(M.default.PLAYBACK_RATE_CHANGED,oe,this),ze.on(M.default.PLAYBACK_TIME_UPDATED,C,this),ze.on(M.default.URL_RESOLUTION_FAILED,A,this),ze.on(M.default.FRAGMENT_LOADING_ABANDONED,z,this)}function ue(){return rt===!1}function ce(){if(!De||ne.isBufferingCompleted())return void pe("[ScheduleController][",We,"] start denied");pe("[ScheduleController][",We,"] start"),Le(),rt=!1,Ue&&(Ue=!1),i(0)}function le(){rt||(pe("[ScheduleController][",We,"] stop"),rt=!0,clearTimeout(lt))}function he(qe,it){bt[it]=bt[it]||{};var ct=Pe.getTopQualityIndexFor(qe,it);return bt[it][qe]!=ct&&(pe("Top quality "+qe+" index has changed from "+bt[it][qe]+" to "+ct),bt[it][qe]=ct,!0)}function se(){if(rt||Gt||!ne.getBufferController()||Re.isPaused()&&!_t)return void pe("[ScheduleController][",We,"] - schedule stop!");e();var qe=Ut.length>0,it=ne.getStreamInfo();if(Pt||isNaN(Rt)||At||qe||he(De.mediaInfo.type,it.id)||Tt.execute(ne,We,st.isVideoTrackPresent())){var ct=function(){var Et=ne.getFragmentController();if(De.quality!==Rt)pe("ScheduleController - "+We+" - quality has changed, get init request for representationid = "+De.id),Rt=De.quality,ne.switchInitData(De.id);else if(At)pe("ScheduleController - "+We+" - switch track has been asked, get init request for "+We+" with representationid = "+De.id),Pt=fe.getSwitchMode(We)===de.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,ne.switchInitData(De.id,Pt),Rt=De.quality,At=!1;else{var It=Ut.shift();if(Et.isInitializationRequest(It))ne.switchInitData(It.representationId);else{var gt=void 0;ne.getBufferController().getIsPruningInProgress()||!(gt=at.execute(ne,It))&&it.manifestInfo&&it.manifestInfo.isDynamic&&pe("getNextFragment - "+We+" - Playing at the bleeding live edge and frag is not available yet"),gt?(pe("ScheduleController - "+We+" - getNextFragment - request is "+gt.url),be.executeRequest(gt)):(r(!1),i(500))}}};r(!0),qe||At||Pe.checkPlaybackQuality(We),ct()}else i(500)}function e(){var qe=1.5*De.fragmentDuration,it=be.getRequests({state:q.default.FRAGMENT_MODEL_EXECUTED,time:Re.getTime()+qe,threshold:0})[0];if(it&&Ut.indexOf(it)===-1&&!Me.getIsTextTrack(We)){var ct=He.getFastSwitchEnabled(),Et=ne.getBufferLevel(),It=Pe.getAbandonmentStateFor(We);ct&&it.quality<De.quality&&Et>=qe&&It!==b.default.ABANDON_LOAD?(g(it),pe("Reloading outdated fragment at index: ",it.index)):it.quality>De.quality&&ge(Re.getTime()+ne.getBufferLevel())}}function i(qe){clearTimeout(lt),lt=setTimeout(se,qe)}function n(qe){qe.sender&&qe.sender.getStreamProcessor()===ne&&o(De.quality)}function r(qe){Gt!==qe?Gt=qe:pe("[ScheduleController][",We,"] isFragmentProcessingInProgress is already equal to",qe)}function o(qe){var it=Be.getInitRequest(ne,qe);it&&(r(!0),be.executeRequest(it))}function c(){At=!0}function g(qe){Ut.push(qe)}function I(qe){if(We===qe.mediaType&&ne.getStreamInfo().id===qe.streamInfo.id){if((De=ne.getRepresentationInfoForQuality(qe.newQuality))===null||De===void 0)throw new Error("Unexpected error! - currentRepresentationInfo is null or undefined");Se(new Date,y.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),Le()}}function P(qe){if(Re&&be){var it=be.getRequests({state:q.default.FRAGMENT_MODEL_EXECUTED,time:Re.getTime(),threshold:0})[0];it&&Re.getTime()>=it.startTime&&((!nt.mediaInfo||it.mediaInfo.type===nt.mediaInfo.type&&it.mediaInfo.id!==nt.mediaInfo.id)&&qe&&ze.trigger(M.default.TRACK_CHANGE_RENDERED,{mediaType:We,oldMediaInfo:nt.mediaInfo,newMediaInfo:it.mediaInfo}),it.quality===nt.quality&&it.adaptationIndex===nt.adaptationIndex||!qe||ze.trigger(M.default.QUALITY_CHANGE_RENDERED,{mediaType:We,oldQuality:nt.quality,newQuality:it.quality}),nt={mediaInfo:it.mediaInfo,quality:it.quality,adaptationIndex:it.adaptationIndex})}}function U(qe){qe.error||qe.sender.getStreamProcessor()!==ne||(De=Be.convertDataToRepresentationInfo(qe.currentRepresentation))}function B(qe){qe.error||ne.getStreamInfo().id!==qe.streamInfo.id||(De=ne.getCurrentRepresentationInfo(),Ue&&(Re.getIsDynamic()?(je.setTimeSyncCompleted(!0),te()):(et=Re.getStreamStartTime(!1),ne.getBufferController().setSeekStartTime(et))),rt&&ce())}function te(){var qe=ne.getLiveEdgeFinder();if(qe){var it=qe.getLiveEdge(),ct=De.mediaInfo.streamInfo.manifestInfo.DVRWindowSize/2,Et=it-Re.computeLiveDelay(De.fragmentDuration,ct),It=Be.getFragmentRequestForTime(ne,De,Et,{ignoreIsFinished:!0});Re.setLiveStartTime(It.startTime),et=Re.getStreamStartTime(!1,it),et>De.mediaInfo.streamInfo.start+De.mediaInfo.streamInfo.duration&&Re.seek(et);var gt=Ae.getCurrentManifestUpdate(Ie.getMetricsFor(u.default.STREAM));Ie.updateManifestUpdateInfo(gt,{currentTime:et,presentationStartTime:it,latency:it-et,clientTimeOffset:je.getClientTimeOffset()})}}function S(qe){qe.fragmentModel===be&&(le(),r(!1),pe("[ScheduleController] Stream is complete"))}function N(qe){qe.sender===be&&(pe("[ScheduleController][",We,"] - onFragmentLoadingCompleted"),Me.getIsTextTrack(We)&&r(!1),qe.error&&qe.request.serviceLocation&&!rt&&(g(qe.request),r(!1),i(0)),Pt&&(ut=qe.request))}function C(){P(!0)}function x(qe){qe.sender.getStreamProcessor()===ne&&(Pt&&!isNaN(qe.startTime)&&(Pt=!1,be.addExecutedRequest(ut)),r(!1),i(0))}function z(qe){qe.streamProcessor===ne&&(pe("[ScheduleController][onFragmentLoadingAbandoned] for "+We+", request: "+qe.request.url+" has been aborted"),Re.isSeeking()||(pe("[ScheduleController][onFragmentLoadingAbandoned] for "+We+", request: "+qe.request.url+" has to be downloaded again, origin is not seeking process"),g(qe.request)),r(!1),i(0))}function Y(qe){qe.sender.getStreamProcessor()===ne&&le()}function K(qe){qe.sender.getStreamProcessor()===ne&&(ne.getFragmentModel().syncExecutedRequestsWithBufferedRange(ne.getBufferController().getBuffer().getAllBufferRanges(),ne.getStreamInfo().duration),qe.hasEnoughSpaceToAppend&&rt&&ce())}function Q(qe){qe.sender.getStreamProcessor()!==ne||qe.state!==T.default.BUFFER_EMPTY||Re.isSeeking()||(pe("[ScheduleController][",We,"] - Buffer is empty! Stalling!"),Se(new Date,y.PlayListTrace.REBUFFERING_REASON))}function d(qe){qe.sender.getStreamProcessor()===ne&&(le(),r(!1))}function A(){be.abortRequests(),le()}function H(qe){qe.sender.getStreamProcessor()===ne&&o(qe.index)}function j(){!rt&&_t||ce()}function J(qe){et=qe.seekTime,ye(0),rt&&ce();var it=Ae.getCurrentManifestUpdate(Ie.getMetricsFor(u.default.STREAM)),ct=De.DVRWindow&&Re?De.DVRWindow.end-Re.getTime():NaN;Ie.updateManifestUpdateInfo(it,{latency:ct}),Gt?(pe("[ScheduleController][onPlaybackSeeking] for "+We+", call fragmentModel.abortRequests in order to seek quicker"),be.abortRequests()):i(0)}function oe(qe){vt&&(vt.playbackspeed=qe.playbackRate.toString())}function ve(){return et}function ge(qe){et=qe}function ye(qe){wt=qe}function Ee(){return wt}function we(){return Tt.getBufferTarget(ne,We,st.isVideoTrackPresent())}function Ne(){return We}function Ce(qe){dt=qe}function xe(qe,it){Se(qe,it),dt=null}function Se(qe,it){if(dt&&Vt===!1){var ct=vt.start,Et=qe.getTime()-ct.getTime();vt.duration=Et,vt.stopreason=it,dt.trace.push(vt),Vt=!0}}function Le(){dt&&Vt===!0&&De&&(Vt=!1,vt=new y.PlayListTrace,vt.representationid=De.id,vt.start=new Date,vt.mstart=1e3*Re.getTime(),vt.playbackspeed=Re.getPlaybackRate().toString())}function ke(){Gt=!1,wt=0,et=NaN,dt=null,vt=null,Vt=!0,Ue=!0,Rt=NaN,nt={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},bt={},Ut=[],rt=!0,At=!1,Pt=!1,ut=null}function $e(){ze.off(M.default.DATA_UPDATE_STARTED,Y,this),ze.off(M.default.DATA_UPDATE_COMPLETED,U,this),ze.off(M.default.BUFFER_LEVEL_STATE_CHANGED,Q,this),ze.off(M.default.QUALITY_CHANGE_REQUESTED,I,this),ze.off(M.default.FRAGMENT_LOADING_COMPLETED,N,this),ze.off(M.default.STREAM_COMPLETED,S,this),ze.off(M.default.STREAM_INITIALIZED,B,this),ze.off(M.default.QUOTA_EXCEEDED,d,this),ze.off(M.default.BYTES_APPENDED,x,this),ze.off(M.default.BUFFER_CLEARED,K,this),ze.off(M.default.INIT_REQUESTED,n,this),ze.off(M.default.PLAYBACK_RATE_CHANGED,oe,this),ze.off(M.default.PLAYBACK_SEEKING,J,this),ze.off(M.default.PLAYBACK_STARTED,j,this),ze.off(M.default.PLAYBACK_TIME_UPDATED,C,this),ze.off(M.default.URL_RESOLUTION_FAILED,A,this),ze.off(M.default.FRAGMENT_LOADING_ABANDONED,z,this),Me.getIsTextTrack(We)&&ze.off(M.default.TIMED_TEXT_REQUESTED,H,this),le(),P(!1),ke()}ie=ie||{};var Xe=this.context,ze=(0,V.default)(Xe).getInstance(),Ie=ie.metricsModel,Be=ie.adapter,Ae=ie.dashMetrics,Me=ie.dashManifestModel,je=ie.timelineConverter,He=ie.mediaPlayerModel,Pe=ie.abrController,Re=ie.playbackController,st=ie.streamController,Qe=ie.textController,We=ie.type,ne=ie.streamProcessor,fe=ie.mediaController,_e=void 0,pe=void 0,be=void 0,De=void 0,Ue=void 0,rt=void 0,dt=void 0,vt=void 0,Vt=void 0,Gt=void 0,wt=void 0,lt=void 0,et=void 0,Tt=void 0,at=void 0,_t=void 0,nt=void 0,bt=void 0,Rt=void 0,Ut=void 0,At=void 0,Pt=void 0,ut=void 0;return _e={initialize:re,getType:Ne,getSeekTarget:ve,setSeekTarget:ge,setTimeToLoadDelay:ye,getTimeToLoadDelay:Ee,replaceRequest:g,switchTrackAsked:c,isStarted:ue,start:ce,stop:le,reset:$e,setPlayList:Ce,getBufferTarget:we,finalisePlayList:xe},W(),_e}Object.defineProperty(h,"__esModule",{value:!0});var p=t(98),u=l(p),y=t(181),v=t(100),b=l(v),m=t(103),T=l(m),R=t(132),E=l(R),F=t(133),L=l(F),k=t(114),q=l(k),Z=t(47),V=l(Z),D=t(51),M=l(D),X=t(48),w=l(X),O=t(46),G=l(O),ee=t(106),de=l(ee);f.__dashjs_factory_name="ScheduleController",h.default=w.default.getClassFactory(f),_.exports=h.default},{100:100,103:103,106:106,114:114,132:132,133:133,181:181,46:46,47:47,48:48,51:51,98:98}],110:[function(t,_,h){function l(e){return e&&e.__esModule?e:{default:e}}function f(){function e(){rt=(0,ue.default)(He).getInstance(),dt=(0,le.default)(He).getInstance(),Ue=(0,se.default)(He).getInstance(),lt=(0,G.default)(He).getInstance(),et=(0,de.default)(He).getInstance(),Be()}function i(ae,Te){Se(),Ut=ae,Rt=Te,at.initialize(),We=(0,R.default)(He).create(),We.setConfig({manifestModel:fe,dashManifestModel:_e,mediaPlayerModel:Et,manifestLoader:ne}),We.initialize(),dt.setConfig({dashManifestModel:_e}),Re.on(k.default.TIME_SYNCHRONIZATION_COMPLETED,J,this),Re.on(k.default.PLAYBACK_SEEKING,c,this),Re.on(k.default.PLAYBACK_TIME_UPDATED,n,this),Re.on(k.default.PLAYBACK_ENDED,C,this),Re.on(k.default.PLAYBACK_ERROR,Ne,this),Re.on(k.default.PLAYBACK_STARTED,g,this),Re.on(k.default.PLAYBACK_PAUSED,I,this),Re.on(k.default.MANIFEST_UPDATED,oe,this),Re.on(k.default.STREAM_BUFFERING_COMPLETED,B,this),Re.on(k.default.MANIFEST_VALIDITY_CHANGED,Xe,this),Re.on(k.default.WALLCLOCK_TIME_UPDATED,r,this),Re.on(W.default.METRIC_ADDED,Me,this)}function n(){if(ge()){var ae=it.getPlaybackQuality();ae&&be.addDroppedFrames(u.default.VIDEO,ae)}}function r(){if(!(!Et.getJumpGaps()||!nt||nt.getProcessors().length===0||ct.isSeeking()||It||At||Pt||ut)&&++Oe>=je){var ae=ct.getTime();Je===ae?o(ae):Je=ae,Oe=0}}function o(ae){for(var Te=nt.getProcessors(),Fe=Et.getSmallGapLimit(),Ve=void 0,Ye=0;Ye<Te.length;Ye++){var Ze=Te[Ye].getBuffer(),ht=Ze.getAllBufferRanges(),pt=void 0;if(ht&&!(ht.length<=1)){for(var zt=0;zt<ht.length;zt++)if(ae<ht.start(zt)){pt=ht.start(zt);break}if(pt>0){var Ft=pt-ae;Ft>0&&Ft<=Fe&&(Ve===void 0||pt>Ve)&&(Ve=pt)}}}var Yt=ct.getTimeToStreamEnd();Ve===void 0&&!isNaN(Yt)&&Yt<Fe&&(Ve=ae+Yt),Ve>0&&(!isNaN(Yt)&&Ve>=ae+Yt?(Pe("Jumping media gap (discontinuity) at time ",ae,". Jumping to end of the stream"),Re.trigger(k.default.PLAYBACK_ENDED)):(Pe("Jumping media gap (discontinuity) at time ",ae,". Jumping to time position",Ve),ct.seek(Ve)))}function c(ae){var Te=te(ae.seekTime);Mt&&(P(),St=!1),Te&&Te!==nt?(Ee(M.PlayListTrace.END_OF_PERIOD_STOP_REASON),z(nt,Te,ae.seekTime)):Ee(M.PlayListTrace.USER_REQUEST_STOP_REASON),we(M.PlayList.SEEK_START_REASON)}function g(){Pe("[StreamController][onPlaybackStarted]"),gt?(gt=!1,we(M.PlayList.INITIAL_PLAYOUT_START_REASON)):It&&(It=!1,we(M.PlayList.RESUME_FROM_PAUSE_START_REASON),U())}function I(ae){Pe("[StreamController][onPlaybackPaused]"),ae.ended||(It=!0,Ee(M.PlayListTrace.USER_REQUEST_STOP_REASON),U())}function P(){Pe("[StreamController][toggleEndPeriodTimer] stop end period timer."),clearTimeout(Mt),Mt=void 0}function U(){if(St)if(Mt)P();else{var ae=ct.getTimeToStreamEnd(),Te=ae>0?1e3*ae:0;Pe("[StreamController][toggleEndPeriodTimer] start-up of timer to notify PLAYBACK_ENDED event. It will be triggered in "+Te+" milliseconds"),Mt=setTimeout(function(){Re.trigger(k.default.PLAYBACK_ENDED)},Te)}}function B(){var ae=Ce().isLast;qe&&ae?(Pe("[StreamController][onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),Ue.signalEndOfStream(qe)):qe&&Mt===void 0&&(Pe("[StreamController][onStreamBufferingCompleted] end of period detected"),St=!0,It===!1&&U())}function te(ae){var Te=0,Fe=null,Ve=_t.length;Ve>0&&(Te+=_t[0].getStartTime());for(var Ye=0;Ye<Ve;Ye++)if(Fe=_t[Ye],Te=parseFloat((Te+Fe.getDuration()).toFixed(5)),ae<Te)return Fe;return null}function S(ae,Te){for(var Fe=null,Ve=0,Ye=0,Ze=null,ht=_t.length,pt=0;pt<ht;pt++){if(Fe=_t[pt],Ye=Fe.getStartTime(),Ze=Fe.getDuration(),Number.isFinite(Ye)&&(Ve=Ye),Fe.getId()===Te)return ae-Ve;Number.isFinite(Ze)&&(Ve+=Ze)}return null}function N(){return nt?nt.getProcessors():[]}function C(){var ae=x();ae?(Nt=void 0,Dt=void 0,z(nt,ae,NaN)):Pe("StreamController no next stream found"),Ee(ae?M.PlayListTrace.END_OF_PERIOD_STOP_REASON:M.PlayListTrace.END_OF_CONTENT_STOP_REASON),Mt=void 0,St=!1}function x(){if(nt){var ae=function(){var Te=nt.getStreamInfo().start,Fe=nt.getStreamInfo().duration;return{v:_t.filter(function(Ve){return Ve.getStreamInfo().start===parseFloat((Te+Fe).toFixed(5))})[0]}}();if(typeof ae=="object")return ae.v}}function z(ae,Te,Fe){!At&&Te&&ae!==Te&&(At=!0,Re.trigger(k.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:ae?ae.getStreamInfo():null,toStreamInfo:Te.getStreamInfo()}),ae&&(ae.stopEventController(),ae.deactivate()),nt=Te,ct.initialize(nt.getStreamInfo()),it.getElement()?Q(Fe,ae,!1):Y(Fe))}function Y(ae){d(ae)}function K(ae){ct.initialize(nt.getStreamInfo()),Q(ae,null,!0)}function Q(ae,Te,Fe){function Ve(){Pe("MediaSource is open!"),window.URL.revokeObjectURL(Ye),qe.removeEventListener("sourceopen",Ve),qe.removeEventListener("webkitsourceopen",Ve),A(),Te||Re.trigger(k.default.SOURCE_INITIALIZED),Fe?nt.setMediaSource(qe):d(ae)}var Ye=void 0;qe?Ue.detachMediaSource(it):qe=Ue.createMediaSource(),qe.addEventListener("sourceopen",Ve,!1),qe.addEventListener("webkitsourceopen",Ve,!1),Ye=Ue.attachMediaSource(qe,it),Pe("MediaSource attached to element.  Waiting on open...")}function d(ae){nt.activate(qe),Nt=ye(u.default.AUDIO),Dt=ye(u.default.VIDEO),gt||(isNaN(ae)?function(){var Te=ct.getStreamStartTime(!0);nt.getProcessors().forEach(function(Fe){pe.setIndexHandlerTime(Fe,Te)})}():ct.seek(ae)),nt.startEventController(),!Ut&&gt||ct.play(),At=!1,Re.trigger(k.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:nt.getStreamInfo()})}function A(){var ae=nt.getStreamInfo().manifestInfo.duration,Te=Ue.setDuration(qe,ae);Pe("Duration successfully set to: "+Te)}function H(ae){for(var Te=0,Fe=_t.length;Te<Fe;Te++)if(_t[Te].getId()===ae.id)return _t[Te];return null}function j(){try{var ae=pe.getStreamsInfo();if(ae.length===0)throw new Error("There are no streams");var Te=De.getCurrentManifestUpdate(be.getMetricsFor(u.default.STREAM));be.updateManifestUpdateInfo(Te,{currentTime:ct.getTime(),buffered:it.getBufferRange(),presentationStartTime:ae[0].start,clientTimeOffset:at.getClientTimeOffset()});for(var Fe=0,Ve=ae.length;Fe<Ve;Fe++){var Ye=ae[Fe],Ze=H(Ye);Ze?Ze.updateData(Ye):(Ze=(0,m.default)(He).create({manifestModel:fe,dashManifestModel:_e,mediaPlayerModel:Et,metricsModel:be,dashMetrics:De,manifestUpdater:We,adapter:pe,timelineConverter:at,capabilities:Qe,errHandler:Tt,baseURLController:dt,domStorage:vt,abrController:Vt,playbackController:ct,mediaController:Gt,textController:wt,videoModel:it,streamController:st}),_t.push(Ze),Ze.initialize(Ye,bt)),be.addManifestUpdateStreamInfo(Te,Ye.id,Ye.index,Ye.start,Ye.duration)}if(!nt){var ht=ct.getStartTimeFromUriParameters(),pt=null;ht&&(pt=te(isNaN(ht.fragS)?ht.fragT:ht.fragS)),z(null,pt!==null?pt:_t[0],NaN)}Re.trigger(k.default.STREAMS_COMPOSED)}catch(zt){Tt.manifestError(zt.message,"nostreamscomposed",fe.getValue()),ut=!0,Ae()}}function J(){var ae=fe.getValue();bt&&(Re.trigger(k.default.PROTECTION_CREATED,{controller:bt,manifest:ae}),bt.setMediaElement(it.getElement()),Rt&&bt.setProtectionData(Rt)),j()}function oe(ae){ae.error?(ut=!0,Ae()):function(){var Te=ae.manifest;pe.updatePeriods(Te);var Fe=pe.getStreamsInfo(Te)[0],Ve=pe.getMediaInfoForType(Fe,u.default.VIDEO)||pe.getMediaInfoForType(Fe,u.default.AUDIO),Ye=void 0,Ze=void 0;Ve&&(Ye=pe.getDataForMedia(Ve),(Ze=_e.getRepresentationsForAdaptation(Ye)[0].useCalculatedLiveEdgeTime)&&(Pe("SegmentTimeline detected using calculated Live Edge Time"),Et.setUseManifestDateHeaderTimeSource(!1)));var ht=_e.getUTCTimingSources(ae.manifest),pt=!_e.getIsDynamic(Te)||Ze?ht:ht.concat(Et.getUTCTimingSources()),zt=et.isHTTPS(ae.manifest.url);pt.forEach(function(Ft){Ft.value.replace(/.*?:\/\//g,"")===Z.default.DEFAULT_UTC_TIMING_SOURCE.value.replace(/.*?:\/\//g,"")&&(Ft.value=Ft.value.replace(zt?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),zt?"https://":"http://"),Pe("Matching default timing source protocol to manifest protocol: ",Ft.value))}),dt.initialize(Te),rt.setConfig({metricsModel:be,dashMetrics:De,baseURLController:dt}),rt.initialize(pt,Et.getUseManifestDateHeaderTimeSource())}()}function ve(){return Nt}function ge(){return Dt}function ye(ae){var Te=!1;return nt&&nt.getProcessors().forEach(function(Fe){Fe.getMediaInfo().type===ae&&(Te=!0)}),Te}function Ee(ae,Te){Te=Te||new Date,yt&&(nt&&nt.getProcessors().forEach(function(Fe){var Ve=Fe.getScheduleController();Ve&&Ve.finalisePlayList(Te,ae)}),be.addPlayList(yt),yt=null)}function we(ae){yt=new M.PlayList,yt.start=new Date,yt.mstart=1e3*ct.getTime(),yt.starttype=ae,nt&&nt.getProcessors().forEach(function(Te){var Fe=Te.getScheduleController();Fe&&Fe.setPlayList(yt)})}function Ne(ae){if(ae.error){var Te="";switch(ae.error.code){case 1:Te="MEDIA_ERR_ABORTED";break;case 2:Te="MEDIA_ERR_NETWORK";break;case 3:Te="MEDIA_ERR_DECODE";break;case 4:Te="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:Te="MEDIA_ERR_ENCRYPTED";break;default:Te="UNKNOWN"}Pt=!0,ae.error.message&&(Te+=" ("+ae.error.message+")"),ae.error.msExtendedCode&&(Te+=" (0x"+(ae.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),Pe("Video Element Error: "+Te),ae.error&&Pe(ae.error),Tt.mediaSourceError(Te),Ae()}}function Ce(){return nt?nt.getStreamInfo():null}function xe(ae){return _t.filter(function(Te){return Te.getId()===ae})[0]}function Se(){if(!(ne&&ne.hasOwnProperty("load")&&at&&at.hasOwnProperty("initialize")&&at.hasOwnProperty("reset")&&at.hasOwnProperty("getClientTimeOffset")))throw new Error("setConfig function has to be called previously")}function Le(){if(!We||!We.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")}function ke(ae){Se(),ne.load(ae)}function $e(ae){Le(),We.setManifest(ae)}function Xe(ae){isNaN(ae.newDuration)||A(ae.newDuration)}function ze(ae){ae&&(ae.capabilities&&(Qe=ae.capabilities),ae.manifestLoader&&(ne=ae.manifestLoader),ae.manifestModel&&(fe=ae.manifestModel),ae.dashManifestModel&&(_e=ae.dashManifestModel),ae.mediaPlayerModel&&(Et=ae.mediaPlayerModel),ae.protectionController&&(bt=ae.protectionController),ae.adapter&&(pe=ae.adapter),ae.metricsModel&&(be=ae.metricsModel),ae.dashMetrics&&(De=ae.dashMetrics),ae.errHandler&&(Tt=ae.errHandler),ae.timelineConverter&&(at=ae.timelineConverter),ae.videoModel&&(it=ae.videoModel),ae.playbackController&&(ct=ae.playbackController),ae.domStorage&&(vt=ae.domStorage),ae.abrController&&(Vt=ae.abrController),ae.mediaController&&(Gt=ae.mediaController),ae.textController&&(wt=ae.textController))}function Ie(ae){Rt=ae}function Be(){_t=[],bt=null,At=!1,nt=null,Pt=!1,ut=!1,Dt=void 0,Nt=void 0,gt=!0,It=!1,Ut=!0,yt=null,Mt=void 0,St=!1,Oe=0}function Ae(){Se(),rt.reset(),Ee(Pt||ut?M.PlayListTrace.FAILURE_STOP_REASON:M.PlayListTrace.USER_REQUEST_STOP_REASON);for(var ae=0,Te=_t?_t.length:0;ae<Te;ae++)_t[ae].reset(Pt);Re.off(k.default.PLAYBACK_TIME_UPDATED,n,this),Re.off(k.default.PLAYBACK_SEEKING,c,this),Re.off(k.default.PLAYBACK_ERROR,Ne,this),Re.off(k.default.PLAYBACK_STARTED,g,this),Re.off(k.default.PLAYBACK_PAUSED,I,this),Re.off(k.default.PLAYBACK_ENDED,C,this),Re.off(k.default.MANIFEST_UPDATED,oe,this),Re.off(k.default.STREAM_BUFFERING_COMPLETED,B,this),Re.off(W.default.METRIC_ADDED,Me,this),Re.off(k.default.MANIFEST_VALIDITY_CHANGED,Xe,this),dt.reset(),We.reset(),be.clearAllCurrentMetrics(),fe.setValue(null),ne.reset(),at.reset(),lt.reset(),qe&&(Ue.detachMediaSource(it),qe=null),it=null,bt&&(bt.setMediaElement(null),bt=null,Rt=null,fe.getValue()&&Re.trigger(k.default.PROTECTION_DESTROYED,{data:fe.getValue().url})),Re.trigger(k.default.STREAM_TEARDOWN_COMPLETE),Be()}function Me(ae){ae.metric===v.default.DVR_INFO&&ae.mediaType===u.default.AUDIO&&Ue.setSeekable(qe,ae.value.range.start,ae.value.range.end)}var je=40,He=this.context,Pe=(0,w.default)(He).getInstance().log,Re=(0,F.default)(He).getInstance(),st=void 0,Qe=void 0,We=void 0,ne=void 0,fe=void 0,_e=void 0,pe=void 0,be=void 0,De=void 0,Ue=void 0,rt=void 0,dt=void 0,vt=void 0,Vt=void 0,Gt=void 0,wt=void 0,lt=void 0,et=void 0,Tt=void 0,at=void 0,_t=void 0,nt=void 0,bt=void 0,Rt=void 0,Ut=void 0,At=void 0,Pt=void 0,ut=void 0,qe=void 0,it=void 0,ct=void 0,Et=void 0,It=void 0,gt=void 0,yt=void 0,Dt=void 0,Nt=void 0,St=void 0,Mt=void 0,Oe=void 0,Je=void 0;return st={initialize:i,getActiveStreamInfo:Ce,isVideoTrackPresent:ge,isAudioTrackPresent:ve,switchToVideoElement:K,getStreamById:xe,getStreamForTime:te,getTimeRelativeToStreamId:S,load:ke,loadWithManifest:$e,getActiveStreamProcessors:N,setConfig:ze,setProtectionData:Ie,reset:Ae},e(),st}Object.defineProperty(h,"__esModule",{value:!0});var p=t(98),u=l(p),y=t(99),v=l(y),b=t(94),m=l(b),T=t(89),R=l(T),E=t(47),F=l(E),L=t(51),k=l(L),q=t(116),Z=l(q),V=t(48),D=l(V),M=t(181),X=t(46),w=l(X),O=t(149),G=l(O),ee=t(155),de=l(ee),ie=t(91),W=l(ie),re=t(111),ue=l(re),ce=t(101),le=l(ce),he=t(107),se=l(he);f.__dashjs_factory_name="StreamController",h.default=D.default.getSingletonFactory(f),_.exports=h.default},{101:101,107:107,111:111,116:116,149:149,155:155,181:181,46:46,47:47,48:48,51:51,89:89,91:91,94:94,98:98,99:99}],111:[function(t,_,h){function l(w){return w&&w.__esModule?w:{default:w}}function f(){function w(K,Q){N=Q,te=0,S=!1,C={"urn:mpeg:dash:utc:http-head:2014":n,"urn:mpeg:dash:utc:http-xsdate:2014":i.bind(null,ce),"urn:mpeg:dash:utc:http-iso:2014":i.bind(null,le),"urn:mpeg:dash:utc:direct:2014":e,"urn:mpeg:dash:utc:http-head:2012":n,"urn:mpeg:dash:utc:http-xsdate:2012":i.bind(null,ce),"urn:mpeg:dash:utc:http-iso:2012":i.bind(null,le),"urn:mpeg:dash:utc:direct:2012":e,"urn:mpeg:dash:utc:http-ntp:2014":se,"urn:mpeg:dash:utc:ntp:2014":se,"urn:mpeg:dash:utc:sntp:2014":se},de()||(c(K),void 0)}function O(K){K&&(K.metricsModel&&(x=K.metricsModel),K.dashMetrics&&(z=K.dashMetrics),K.baseURLController&&(Y=K.baseURLController))}function G(){return re()}function ee(K){S=K}function de(){return S}function ie(K){}function W(K){te=K}function re(){return te}function ue(K){var Q=1e3,d=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/,A=void 0,H=void 0,j=d.exec(K);return A=Date.UTC(parseInt(j[1],10),parseInt(j[2],10)-1,parseInt(j[3],10),parseInt(j[4],10),parseInt(j[5],10),j[6]&&(parseInt(j[6],10)||0),j[7]&&parseFloat(j[7])*Q||0),j[9]&&j[10]&&(H=60*parseInt(j[9],10)+parseInt(j[10],10),A+=(j[8]==="+"?-1:1)*H*60*Q),new Date(A).getTime()}function ce(K){var Q=Date.parse(K);return isNaN(Q)&&(Q=ue(K)),Q}function le(K){return Date.parse(K)}function he(K){return Date.parse(K)}function se(K,Q,d){d()}function e(K,Q,d){var A=ce(K);if(!isNaN(A))return void Q(A);d()}function i(K,Q,d,A,H){var j=void 0,J=void 0,oe=!1,ve=new XMLHttpRequest,ge=H?b.HTTPRequest.HEAD:b.HTTPRequest.GET,ye=Q.match(/\S+/g);if(Q=ye.shift(),j=function(){oe||(oe=!0,ye.length?i(K,ye.join(" "),d,A,H):A())},J=function(){var we=void 0,Ne=void 0;ve.status===200&&(we=H?ve.getResponseHeader("Date"):ve.response,Ne=K(we),isNaN(Ne)||(d(Ne),oe=!0))},B.isRelative(Q)){var Ee=Y.resolve();Ee&&(Q=B.resolve(Q,Ee.url))}ve.open(ge,Q),ve.timeout=M,ve.onload=J,ve.onloadend=j,ve.send()}function n(K,Q,d){i(he,K,Q,d,!0)}function r(){var K=x.getReadOnlyMetricsFor(u.default.STREAM),Q=z.getLatestMPDRequestHeaderValueByID(K,"Date"),d=Q!==null?new Date(Q).getTime():Number.NaN;isNaN(d)?o(!0):(W(d-new Date().getTime()),o(!1,d/1e3,te))}function o(K,Q,d){ee(!1),U.trigger(E.default.TIME_SYNCHRONIZATION_COMPLETED,{time:Q,offset:d,error:K?new v.default(D):null})}function c(K,Q){var d=Q||0,A=K[d],H=function(j,J){var oe=!j||!J;oe&&N?r():o(oe,j,J)};ee(!0),A?C.hasOwnProperty(A.schemeIdUri)?C[A.schemeIdUri](A.value,function(j){var J=new Date().getTime(),oe=j-J;W(oe),P("Local time:      "+new Date(J)),P("Server time:     "+new Date(j)),P("Difference (ms): "+oe),H(j,oe)},function(){c(K,d+1)}):c(K,d+1):(W(0),H())}function g(){ee(!1)}var I=this.context,P=(0,q.default)(I).getInstance().log,U=(0,T.default)(I).getInstance(),B=(0,V.default)(I).getInstance(),te=void 0,S=void 0,N=void 0,C=void 0,x=void 0,z=void 0,Y=void 0;return{initialize:w,getOffsetToDeviceTimeMs:G,setConfig:O,reset:g}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(98),u=l(p),y=t(160),v=l(y),b=t(179),m=t(47),T=l(m),R=t(51),E=l(R),F=t(48),L=l(F),k=t(46),q=l(k),Z=t(155),V=l(Z),D=1,M=5e3;f.__dashjs_factory_name="TimeSyncController";var X=L.default.getSingletonFactory(f);X.TIME_SYNC_FAILED_ERROR_CODE=D,X.HTTP_TIMEOUT_MS=M,L.default.updateSingletonFactory(f.__dashjs_factory_name,X),h.default=X,_.exports=h.default},{155:155,160:160,179:179,46:46,47:47,48:48,51:51,98:98}],112:[function(t,_,h){function l(w){return w&&w.__esModule?w:{default:w}}function f(w){function O(){n.on(m.default.XLINK_ELEMENT_LOADED,re,o),U=(0,u.default)(i).create({errHandler:w.errHandler,metricsModel:w.metricsModel,mediaPlayerModel:w.mediaPlayerModel,requestModifier:w.requestModifier})}function G(B){B&&(c=B)}function ee(B){B&&(g=B)}function de(B){var te=void 0;P=new F.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:c}),I=B,te=ce(I.Period_asArray,I,V,q),W(te,V,q)}function ie(){n.off(m.default.XLINK_ELEMENT_LOADED,re,o),U&&(U.reset(),U=null)}function W(B,te,S){var N={},C=void 0,x=void 0;N.elements=B,N.type=te,N.resolveType=S,N.elements.length===0&&ue(N);for(var z=0;z<N.elements.length;z++)C=N.elements[z],x=r.isHTTPURL(C.url)?C.url:C.originalContent.BaseURL+C.url,U.load(x,C,N)}function re(B){var te=void 0,S=void 0,N="";if(te=B.element,S=B.resolveObject,te.resolvedContent){var C=0;te.resolvedContent.indexOf("<?xml")===0&&(C=te.resolvedContent.indexOf("?>")+2),N=te.resolvedContent.substr(0,C)+"<response>"+te.resolvedContent.substr(C)+"</response>",te.resolvedContent=P.xml_str2json(N)}se(S)&&ue(S)}function ue(B){var te=[],S=void 0,N=void 0;if(le(B),B.resolveType===Z&&n.trigger(m.default.XLINK_READY,{manifest:I}),B.resolveType===q)switch(B.type){case V:for(S=0;S<I[V+"_asArray"].length;S++)N=I[V+"_asArray"][S],N.hasOwnProperty(D+"_asArray")&&(te=te.concat(ce(N[D+"_asArray"],N,D,q))),N.hasOwnProperty(M+"_asArray")&&(te=te.concat(ce(N[M+"_asArray"],N,M,q)));W(te,D,q);break;case D:n.trigger(m.default.XLINK_READY,{manifest:I})}}function ce(B,te,S,N){var C=[],x=void 0,z=void 0,Y=void 0;for(z=B.length-1;z>=0;z--)x=B[z],x.hasOwnProperty("xlink:href")&&x["xlink:href"]===X&&B.splice(z,1);for(z=0;z<B.length;z++)x=B[z],x.hasOwnProperty("xlink:href")&&x.hasOwnProperty("xlink:actuate")&&x["xlink:actuate"]===N&&(Y=he(x["xlink:href"],te,S,z,N,x),C.push(Y));return C}function le(B){var te=[],S=void 0,N=void 0,C=void 0,x=void 0,z=void 0,Y=void 0;for(x=B.elements.length-1;x>=0;x--){if(S=B.elements[x],N=S.type+"_asArray",!S.resolvedContent||e())delete S.originalContent["xlink:actuate"],delete S.originalContent["xlink:href"],te.push(S.originalContent);else if(S.resolvedContent)for(z=0;z<S.resolvedContent[N].length;z++)C=S.resolvedContent[N][z],te.push(C);for(S.parentElement[N].splice(S.index,1),Y=0;Y<te.length;Y++)S.parentElement[N].splice(S.index+Y,0,te[Y]);te=[]}B.elements.length>0&&g.run(I)}function he(B,te,S,N,C,x){return{url:B,parentElement:te,type:S,index:N,resolveType:C,originalContent:x,resolvedContent:null,resolved:!1}}function se(B){var te=void 0,S=void 0;for(te=0;te<B.elements.length;te++)if(S=B.elements[te],S.resolved===!1)return!1;return!0}function e(){return!1}w=w||{};var i=this.context,n=(0,v.default)(i).getInstance(),r=(0,k.default)(i).getInstance(),o=void 0,c=void 0,g=void 0,I=void 0,P=void 0,U=void 0;return o={resolveManifestOnLoad:de,setMatchers:G,setIron:ee,reset:ie},O(),o}Object.defineProperty(h,"__esModule",{value:!0});var p=t(97),u=l(p),y=t(47),v=l(y),b=t(51),m=l(b),T=t(48),R=l(T),E=t(4),F=l(E),L=t(155),k=l(L),q="onLoad",Z="onActuate",V="Period",D="AdaptationSet",M="EventStream",X="urn:mpeg:dash:resolve-to-zero:2013";f.__dashjs_factory_name="XlinkController",h.default=R.default.getClassFactory(f),_.exports=h.default},{155:155,4:4,47:47,48:48,51:51,97:97}],113:[function(t,_,h){function l(R){return R&&R.__esModule?R:{default:R}}function f(R,E){if(!(R instanceof E))throw new TypeError("Cannot call a class as a function")}function p(){function R(){V()}function E(ee){ee.dashManifestModel&&(w=ee.dashManifestModel)}function F(ee,de,ie){var W=w.getBaseURLsFromElement(ie);ee[de]?G.areEqual(W,ee[de].data.baseUrls)||(ee[de].data.baseUrls=W,ee[de].data.selectedIdx=m):ee[de]=new T(W)}function L(ee){var de=w.getBaseURLsFromElement(ee);G.areEqual(de,X.data.baseUrls)||(X.data.baseUrls=de,X.data.selectedIdx=m),ee.Period_asArray&&ee.Period_asArray.forEach(function(ie,W){F(X.children,W,ie),ie.AdaptationSet_asArray&&ie.AdaptationSet_asArray.forEach(function(re,ue){F(X.children[W].children,ue,re),re.Representation_asArray&&re.Representation_asArray.sort(w.getRepresentationSortFunction()).forEach(function(ce,le){F(X.children[W].children[ue].children,le,ce)})})})}function k(ee,de){var ie=de||X;ee(ie.data),ie.children&&ie.children.forEach(function(W){return k(ee,W)})}function q(ee){k(function(de){isNaN(de.selectedIdx)||ee===de.baseUrls[de.selectedIdx].serviceLocation&&(de.selectedIdx=m)})}function Z(ee){L(ee)}function V(){X=new T}function D(ee){var de=X,ie=[de.data];return ee&&ee.forEach(function(W){(de=de.children[W])&&ie.push(de.data)}),ie.filter(function(W){return W.baseUrls.length})}var M=void 0,X=void 0,w=void 0,O=this.context,G=(0,y.default)(O).getInstance();return M={reset:V,update:Z,getForPath:D,invalidateSelectedIndexes:q,setConfig:E},R(),M}Object.defineProperty(h,"__esModule",{value:!0});var u=t(152),y=l(u),v=t(48),b=l(v),m=NaN,T=function R(E,F){f(this,R),this.data={baseUrls:E||null,selectedIdx:F||m},this.children=[]};p.__dashjs_factory_name="BaseURLTreeModel",h.default=b.default.getClassFactory(p),_.exports=h.default},{152:152,48:48}],114:[function(t,_,h){function l(D){return D&&D.__esModule?D:{default:D}}function f(D){function M(){o(),U.on(v.default.LOADING_COMPLETED,n,S),U.on(v.default.LOADING_ABANDONED,r,S)}function X(z){N=z}function w(){return N}function O(z){var Y=function(H,j){return H.url===j.url},K=function(H,j){return H.action===R.default.ACTION_COMPLETE&&H.action===j.action},Q=function(H,j){return!isNaN(H.index)&&H.startTime===j.startTime&&H.adaptationIndex===j.adaptationIndex},d=function(H,j){return isNaN(H.index)&&isNaN(j.index)&&H.quality===j.quality},A=function(H){var j=!1;return H.some(function(J){if(Y(z,J)&&(Q(z,J)||d(z,J)||K(z,J)))return j=!0}),j};return!!z&&A(C)}function G(z){var Y=!1,K=0,Q=void 0;if(!(Y=O(z)))for(K=0;K<x.length;K++)Q=x[K],z.url===Q.url&&z.startTime===Q.startTime&&(Y=!0);return Y}function ee(z){var Y=z?z.state instanceof Array?z.state:[z.state]:[],K=[];return Y.forEach(function(Q){var d=e(Q);K=K.concat(se(d,z))}),K}function de(z){return isNaN(z.duration)?.25:z.duration/8}function ie(z){C=C.filter(function(Y){var K=de(Y);return!(!isNaN(Y.startTime)&&z===void 0)&&Y.startTime>=z-K})}function W(z,Y){Y<=z+.5||(C=C.filter(function(K){var Q=de(K);return isNaN(K.startTime)||K.startTime>=Y-Q||isNaN(K.duration)||K.startTime+K.duration<=z+Q}))}function re(z,Y){if(!z||z.length===0)return void(C=[]);for(var K=0,Q=0,d=z.length;Q<d;Q++)W(K,z.start(Q)),K=z.end(Q);Y>0&&W(K,Y)}function ue(){te.abort(),x=[]}function ce(z){switch(z.action){case R.default.ACTION_COMPLETE:C.push(z),i(z,k),P("[FragmentModel] executeRequest trigger STREAM_COMPLETED"),U.trigger(v.default.STREAM_COMPLETED,{request:z,fragmentModel:this});break;case R.default.ACTION_DOWNLOAD:i(z,L),x.push(z),le(z);break;default:P("Unknown request action.")}}function le(z){U.trigger(v.default.FRAGMENT_LOADING_STARTED,{sender:S,request:z}),te.load(z)}function he(z,Y,K){for(var Q=z.length-1,d=Q;d>=0;d--){var A=z[d],H=A.startTime,j=H+A.duration;if(K=isNaN(K)?de(A):K,!isNaN(H)&&!isNaN(j)&&Y+K>=H&&Y-K<j||isNaN(H)&&isNaN(Y))return A}return null}function se(z,Y){return Y.hasOwnProperty("time")?[he(z,Y.time,Y.threshold)]:z.filter(function(K){for(var Q in Y)if(Q!=="state"&&Y.hasOwnProperty(Q)&&K[Q]!=Y[Q])return!1;return!0})}function e(z){var Y=void 0;switch(z){case L:Y=x;break;case k:Y=C;break;default:Y=[]}return Y}function i(z,Y){B.addSchedulingInfo(z.mediaType,new Date,z.type,z.startTime,z.availabilityStartTime,z.duration,z.quality,z.range,Y),B.addRequestsQueue(z.mediaType,x,C)}function n(z){z.sender===te&&(x.splice(x.indexOf(z.request),1),z.response&&!z.error&&C.push(z.request),i(z.request,z.error?Z:k),U.trigger(v.default.FRAGMENT_LOADING_COMPLETED,{request:z.request,response:z.response,error:z.error,sender:this}))}function r(z){z.sender===te&&U.trigger(v.default.FRAGMENT_LOADING_ABANDONED,{streamProcessor:this.getStreamProcessor(),request:z.request,mediaType:z.mediaType})}function o(){C=[],x=[]}function c(){U.off(v.default.LOADING_COMPLETED,n,this),U.off(v.default.LOADING_ABANDONED,r,this),te&&te.reset(),o()}function g(z){C.push(z)}D=D||{};var I=this.context,P=(0,F.default)(I).getInstance().log,U=(0,u.default)(I).getInstance(),B=D.metricsModel,te=D.fragmentLoader,S=void 0,N=void 0,C=void 0,x=void 0;return S={setStreamProcessor:X,getStreamProcessor:w,getRequests:ee,isFragmentLoaded:O,isFragmentLoadedOrPending:G,removeExecutedRequestsBeforeTime:ie,syncExecutedRequestsWithBufferedRange:re,abortRequests:ue,executeRequest:ce,reset:c,addExecutedRequest:g},M(),S}Object.defineProperty(h,"__esModule",{value:!0});var p=t(47),u=l(p),y=t(51),v=l(y),b=t(48),m=l(b),T=t(162),R=l(T),E=t(46),F=l(E),L="loading",k="executed",q="canceled",Z="failed";f.__dashjs_factory_name="FragmentModel";var V=m.default.getClassFactory(f);V.FRAGMENT_MODEL_LOADING=L,V.FRAGMENT_MODEL_EXECUTED=k,V.FRAGMENT_MODEL_CANCELED=q,V.FRAGMENT_MODEL_FAILED=Z,m.default.updateClassFactory(f.__dashjs_factory_name,V),h.default=V,_.exports=h.default},{162:162,46:46,47:47,48:48,51:51}],115:[function(t,_,h){function l(T){return T&&T.__esModule?T:{default:T}}function f(){function T(){return L}function R(k){L=k,k&&F.trigger(v.default.MANIFEST_LOADED,{data:k})}var E=this.context,F=(0,u.default)(E).getInstance(),L=void 0;return{getValue:T,setValue:R}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(47),u=l(p),y=t(51),v=l(y),b=t(48),m=l(b);f.__dashjs_factory_name="ManifestModel",h.default=m.default.getSingletonFactory(f),_.exports=h.default},{47:47,48:48,51:51}],116:[function(t,_,h){function l(n){return n&&n.__esModule?n:{default:n}}function f(n,r,o){return r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n}function p(){function n(){var Ke,mt;ct=[],it=!1,qe=!0,gt=!0,zt=m.default.ABR_STRATEGY_DYNAMIC,Ft=!0,Si=!1,St={enabled:!0,ttl:E},Mt={enabled:!0,ttl:F},Et=R,It=void 0,yt=q,Dt=Z,Nt=V,Oe=NaN,Je=X,ae=w,Te=O,Fe=G,Ve=L,Ye=k,pt=se,Oi=!1,Ri=ee,Yt={default:e},ni=[],Ai=m.default.MOVING_AVERAGE_SLIDING_WINDOW,Ke={},f(Ke,v.HTTPRequest.MPD_TYPE,ue),f(Ke,v.HTTPRequest.XLINK_EXPANSION_TYPE,le),f(Ke,v.HTTPRequest.MEDIA_SEGMENT_TYPE,W),f(Ke,v.HTTPRequest.INIT_SEGMENT_TYPE,W),f(Ke,v.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,W),f(Ke,v.HTTPRequest.INDEX_SEGMENT_TYPE,W),f(Ke,v.HTTPRequest.OTHER_TYPE,W),Ze=Ke,mt={},f(mt,v.HTTPRequest.MPD_TYPE,ce),f(mt,v.HTTPRequest.XLINK_EXPANSION_TYPE,he),f(mt,v.HTTPRequest.MEDIA_SEGMENT_TYPE,re),f(mt,v.HTTPRequest.INIT_SEGMENT_TYPE,re),f(mt,v.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,re),f(mt,v.HTTPRequest.INDEX_SEGMENT_TYPE,re),f(mt,v.HTTPRequest.OTHER_TYPE,re),ht=mt,gi={},gi[m.default.VIDEO]=de,gi[m.default.AUDIO]=ie}function r(Ke){zt=Ke}function o(){return zt}function c(Ke){Ft=Ke}function g(){return Ft}function I(Ke){var mt=void 0;for(mt=0;mt<ni.length;mt++)if(ni[mt].rulename===Ke)return mt;return-1}function P(){return ni}function U(Ke,mt,Di){var ki=I(mt);ki===-1?ni.push({type:Ke,rulename:mt,rule:Di}):(ni[ki].type=Ke,ni[ki].rule=Di)}function B(Ke){var mt=I(Ke);mt!==-1&&ni.splice(mt,1)}function te(){ni=[]}function S(Ke){Ve=Ke}function N(){return Ve}function C(Ke){Ye=Ke}function x(){return Ye}function z(Ke){Oe=Ke}function Y(){return isNaN(Oe)?Si?M:D:Oe}function K(Ke){Je=Ke}function Q(){return Je}function d(Ke){ae=Ke}function A(){return ae}function H(Ke){Te=Ke}function j(){return Te}function J(Ke){Fe=Ke}function oe(){return Fe}function ve(Ke,mt){gi[Ke]=mt}function ge(Ke){return gi[Ke]}function ye(Ke){yt=Ke}function Ee(){return yt}function we(Ke){Dt=Ke}function Ne(){return Dt}function Ce(Ke,mt){St.enabled=Ke,mt===void 0||isNaN(mt)||typeof mt!="number"||(St.ttl=mt)}function xe(){return St}function Se(Ke,mt){Mt.enabled=Ke,mt===void 0||isNaN(mt)||typeof mt!="number"||(Mt.ttl=mt)}function Le(){return Mt}function ke(Ke){Nt=Ke}function $e(){return Nt}function Xe(Ke){Ze[v.HTTPRequest.MEDIA_SEGMENT_TYPE]=Ke}function ze(Ke){Ze[v.HTTPRequest.MPD_TYPE]=Ke}function Ie(Ke,mt){Ze[Ke]=mt}function Be(){return Ze[v.HTTPRequest.MEDIA_SEGMENT_TYPE]}function Ae(){return Ze[v.HTTPRequest.MPD_TYPE]}function Me(Ke){return Ze[Ke]}function je(Ke){ht[v.HTTPRequest.MEDIA_SEGMENT_TYPE]=Ke}function He(Ke){ht[v.HTTPRequest.MPD_TYPE]=Ke}function Pe(Ke,mt){ht[Ke]=mt}function Re(){return ht[v.HTTPRequest.MEDIA_SEGMENT_TYPE]}function st(){return ht[v.HTTPRequest.MPD_TYPE]}function Qe(Ke){return ht[Ke]}function We(Ke){pt=Ke}function ne(){return pt}function fe(Ke){gt=Ke}function _e(){return gt}function pe(Ke){Et=Ke}function be(Ke){It=Ke}function De(){return Et}function Ue(){return It}function rt(Ke){qe=Ke}function dt(){return qe}function vt(Ke){it=Ke}function Vt(){return it}function Gt(Ke){ct=Ke}function wt(){return ct}function lt(Ke,mt){Ke?Yt[Ke]=!!mt:Object.keys(Yt).forEach(function(Di){lt(Di,mt)})}function et(Ke){var mt=Yt[Ke];return mt===void 0?Yt.default:mt}function Tt(){return Si}function at(Ke){Si=Ke}function _t(Ke){Ai=Ke}function nt(){return Ai}function bt(Ke){Oi=Ke}function Rt(){return Oi}function Ut(Ke){Ri=Ke}function At(){return Ri}function Pt(){}var ut=void 0,qe=void 0,it=void 0,ct=void 0,Et=void 0,It=void 0,gt=void 0,yt=void 0,Dt=void 0,Nt=void 0,St=void 0,Mt=void 0,Oe=void 0,Je=void 0,ae=void 0,Te=void 0,Fe=void 0,Ve=void 0,Ye=void 0,Ze=void 0,ht=void 0,pt=void 0,zt=void 0,Ft=void 0,Yt=void 0,Si=void 0,ni=void 0,Ai=void 0,gi=void 0,Oi=void 0,Ri=void 0;return ut={setABRStrategy:r,getABRStrategy:o,setUseDefaultABRRules:c,getUseDefaultABRRules:g,getABRCustomRules:P,addABRCustomRule:U,removeABRCustomRule:B,removeAllABRCustomRule:te,setBandwidthSafetyFactor:S,getBandwidthSafetyFactor:N,setAbandonLoadTimeout:C,getAbandonLoadTimeout:x,setLastBitrateCachingInfo:Ce,getLastBitrateCachingInfo:xe,setLastMediaSettingsCachingInfo:Se,getLastMediaSettingsCachingInfo:Le,setStableBufferTime:z,getStableBufferTime:Y,setBufferTimeAtTopQuality:K,getBufferTimeAtTopQuality:Q,setBufferTimeAtTopQualityLongForm:d,getBufferTimeAtTopQualityLongForm:A,setLongFormContentDurationThreshold:H,getLongFormContentDurationThreshold:j,setSegmentOverlapToleranceTime:J,getSegmentOverlapToleranceTime:oe,getCacheLoadThresholdForType:ge,setCacheLoadThresholdForType:ve,setBufferToKeep:ye,getBufferToKeep:Ee,setBufferAheadToKeep:we,getBufferAheadToKeep:Ne,setBufferPruningInterval:ke,getBufferPruningInterval:$e,setFragmentRetryAttempts:Xe,getFragmentRetryAttempts:Be,setManifestRetryAttempts:ze,getManifestRetryAttempts:Ae,setRetryAttemptsForType:Ie,getRetryAttemptsForType:Me,setFragmentRetryInterval:je,getFragmentRetryInterval:Re,setManifestRetryInterval:He,getManifestRetryInterval:st,setRetryIntervalForType:Pe,getRetryIntervalForType:Qe,setWallclockTimeUpdateInterval:We,getWallclockTimeUpdateInterval:ne,setScheduleWhilePaused:fe,getScheduleWhilePaused:_e,getUseSuggestedPresentationDelay:Vt,setUseSuggestedPresentationDelay:vt,setLiveDelayFragmentCount:pe,getLiveDelayFragmentCount:De,getLiveDelay:Ue,setLiveDelay:be,setUseManifestDateHeaderTimeSource:rt,getUseManifestDateHeaderTimeSource:dt,setUTCTimingSources:Gt,getUTCTimingSources:wt,setXHRWithCredentialsForType:lt,getXHRWithCredentialsForType:et,setFastSwitchEnabled:at,getFastSwitchEnabled:Tt,setMovingAverageMethod:_t,getMovingAverageMethod:nt,setJumpGaps:bt,getJumpGaps:Rt,setSmallGapLimit:Ut,getSmallGapLimit:At,reset:Pt},n(),ut}Object.defineProperty(h,"__esModule",{value:!0});var u=t(48),y=l(u),v=t(179),b=t(98),m=l(b),T={scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"http://time.akamai.com/?iso"},R=4,E=36e4,F=36e4,L=.9,k=1e4,q=20,Z=80,V=10,D=12,M=20,X=30,w=60,O=600,G=.05,ee=.8,de=50,ie=5,W=3,re=1e3,ue=3,ce=500,le=1,he=500,se=50,e=!1;p.__dashjs_factory_name="MediaPlayerModel";var i=y.default.getSingletonFactory(p);i.DEFAULT_UTC_TIMING_SOURCE=T,y.default.updateSingletonFactory(p.__dashjs_factory_name,i),h.default=i,_.exports=h.default},{179:179,48:48,98:98}],117:[function(t,_,h){function l(se){return se&&se.__esModule?se:{default:se}}function f(){function se(){Ne={}}function e(Ce){Ce&&Ce.adapter&&Ce.adapter}function i(){Ee.trigger(ce.default.METRICS_CHANGED)}function n(Ce){Ee.trigger(ce.default.METRIC_CHANGED,{mediaType:Ce}),i()}function r(Ce,xe,Se){Ee.trigger(ce.default.METRIC_UPDATED,{mediaType:Ce,metric:xe,value:Se}),n(Ce)}function o(Ce,xe,Se){Ee.trigger(ce.default.METRIC_ADDED,{mediaType:Ce,metric:xe,value:Se}),n(Ce)}function c(Ce){delete Ne[Ce],n(Ce)}function g(){Ne={},i()}function I(Ce){return Ne.hasOwnProperty(Ce)?Ne[Ce]:null}function P(Ce){var xe=void 0;return Ne.hasOwnProperty(Ce)?xe=Ne[Ce]:(xe=new m.default,Ne[Ce]=xe),xe}function U(Ce,xe,Se){var Le=P(Ce);Le[xe].push(Se),Le[xe].length>ge&&Le[xe].shift()}function B(Ce,xe,Se,Le,ke,$e){var Xe=new R.default;return Xe.tcpid=xe,Xe.dest=Se,Xe.topen=Le,Xe.tclose=ke,Xe.tconnect=$e,C(Ce,v.default.TCP_CONNECTION,Xe),Xe}function te(Ce,xe,Se,Le){var ke=new E.HTTPRequestTrace;return ke.s=xe,ke.d=Se,ke.b=Le,Ce.trace.push(ke),Ce.interval||(Ce.interval=0),Ce.interval+=Se,ke}function S(Ce,xe,Se,Le,ke,$e,Xe,ze,Ie,Be,Ae,Me,je,He){var Pe=new E.HTTPRequest;return ke&&ke!==Le&&(S(Ce,null,Se,Le,null,null,Xe,ze,null,null,null,Me,null,null),Pe.actualurl=ke),Pe.tcpid=xe,Pe.type=Se,Pe.url=Le,Pe.range=Xe,Pe.trequest=ze,Pe.tresponse=Ie,Pe.responsecode=Ae,Pe._tfinish=Be,Pe._stream=Ce,Pe._mediaduration=Me,Pe._responseHeaders=je,Pe._serviceLocation=$e,He?He.forEach(function(Re){te(Pe,Re.s,Re.d,Re.b)}):(delete Pe.interval,delete Pe.trace),C(Ce,v.default.HTTP_REQUEST,Pe),Pe}function N(Ce,xe,Se,Le,ke){var $e=new L.default;return $e.t=xe,$e.mt=Se,$e.to=Le,ke?$e.lto=ke:delete $e.lto,C(Ce,v.default.TRACK_SWITCH,$e),$e}function C(Ce,xe,Se){U(Ce,xe,Se),o(Ce,xe,Se)}function x(Ce,xe,Se){var Le=new q.default;return Le.t=xe,Le.level=Se,C(Ce,v.default.BUFFER_LEVEL,Le),Le}function z(Ce,xe,Se){var Le=new V.default;return Le.target=Se,Le.state=xe,C(Ce,v.default.BUFFER_STATE,Le),Le}function Y(Ce,xe,Se,Le){var ke=new M.default;return ke.time=xe,ke.range=Le,ke.manifestInfo=Se,C(Ce,v.default.DVR_INFO,ke),ke}function K(Ce,xe){var Se=new w.default,Le=P(Ce).DroppedFrames;return Se.time=xe.creationTime,Se.droppedFrames=xe.droppedVideoFrames,Le.length>0&&Le[Le.length-1]==Se?Le[Le.length-1]:(C(Ce,v.default.DROPPED_FRAMES,Se),Se)}function Q(Ce,xe,Se,Le,ke,$e,Xe,ze,Ie){var Be=new ee.default;return Be.mediaType=Ce,Be.t=xe,Be.type=Se,Be.startTime=Le,Be.availabilityStartTime=ke,Be.duration=$e,Be.quality=Xe,Be.range=ze,Be.state=Ie,C(Ce,v.default.SCHEDULING_INFO,Be),Be}function d(Ce,xe,Se){var Le=new re.default;Le.loadingRequests=xe,Le.executedRequests=Se,P(Ce).RequestsQueue=Le,o(Ce,v.default.REQUESTS_QUEUE,Le)}function A(Ce,xe,Se,Le,ke,$e,Xe,ze,Ie,Be){var Ae=new O.ManifestUpdate;return Ae.mediaType=Ce,Ae.type=xe,Ae.requestTime=Se,Ae.fetchTime=Le,Ae.availabilityStartTime=ke,Ae.presentationStartTime=$e,Ae.clientTimeOffset=Xe,Ae.currentTime=ze,Ae.buffered=Ie,Ae.latency=Be,U(u.default.STREAM,v.default.MANIFEST_UPDATE,Ae),o(Ce,v.default.MANIFEST_UPDATE,Ae),Ae}function H(Ce,xe){if(Ce){for(var Se in xe)Ce[Se]=xe[Se];r(Ce.mediaType,v.default.MANIFEST_UPDATE,Ce)}}function j(Ce,xe,Se,Le,ke){if(Ce){var $e=new O.ManifestUpdateStreamInfo;return $e.id=xe,$e.index=Se,$e.start=Le,$e.duration=ke,Ce.streamInfo.push($e),r(Ce.mediaType,v.default.MANIFEST_UPDATE_STREAM_INFO,Ce),$e}return null}function J(Ce,xe,Se,Le,ke,$e,Xe,ze){if(Ce){var Ie=new O.ManifestUpdateRepresentationInfo;return Ie.id=xe,Ie.index=Se,Ie.streamIndex=Le,Ie.mediaType=ke,Ie.startNumber=Xe,Ie.fragmentInfoType=ze,Ie.presentationTimeOffset=$e,Ce.representationInfo.push(Ie),r(Ce.mediaType,v.default.MANIFEST_UPDATE_TRACK_INFO,Ce),Ie}return null}function oe(Ce){var xe=u.default.STREAM;return Ce.trace&&Array.isArray(Ce.trace)?Ce.trace.forEach(function(Se){Se.hasOwnProperty("subreplevel")&&!Se.subreplevel&&delete Se.subreplevel}):delete Ce.trace,C(xe,v.default.PLAY_LIST,Ce),Ce}function ve(Ce){return C(u.default.STREAM,v.default.DVB_ERRORS,Ce),Ce}var ge=1e3,ye=this.context,Ee=(0,ie.default)(ye).getInstance(),we=void 0,Ne=void 0;return we={clearCurrentMetricsForType:c,clearAllCurrentMetrics:g,getReadOnlyMetricsFor:I,getMetricsFor:P,addTcpConnection:B,addHttpRequest:S,addRepresentationSwitch:N,addBufferLevel:x,addBufferState:z,addDVRInfo:Y,addDroppedFrames:K,addSchedulingInfo:Q,addRequestsQueue:d,addManifestUpdate:A,updateManifestUpdateInfo:H,addManifestUpdateStreamInfo:j,addManifestUpdateRepresentationInfo:J,addPlayList:oe,addDVBErrors:ve,setConfig:e},se(),we}Object.defineProperty(h,"__esModule",{value:!0});var p=t(98),u=l(p),y=t(99),v=l(y),b=t(167),m=l(b),T=t(185),R=l(T),E=t(179),F=t(182),L=l(F),k=t(175),q=l(k),Z=t(176),V=l(Z),D=t(177),M=l(D),X=t(178),w=l(X),O=t(180),G=t(184),ee=l(G),de=t(47),ie=l(de),W=t(183),re=l(W),ue=t(51),ce=l(ue),le=t(48),he=l(le);f.__dashjs_factory_name="MetricsModel",h.default=he.default.getSingletonFactory(f),_.exports=h.default},{167:167,175:175,176:176,177:177,178:178,179:179,180:180,182:182,183:183,184:184,185:185,47:47,48:48,51:51,98:98,99:99}],118:[function(t,_,h){function l(b){return b&&b.__esModule?b:{default:b}}function f(){function b(){F=new u.default,L=[],k=!1}function m(){return F}function T(){return L}function R(){return k}function E(q){function Z(ee,de,ie,W){var re=W[0].split(/[=]/);return W.push({key:re[0],value:re[1]}),W.shift(),W}function V(ee,de,ie){return de>0&&(O&&L.length===0?L=ie[de].split(/[&]/):G&&(D=ie[de].split(/[&]/))),ie}if(!q)return null;var D=[],M=new RegExp(/[?]/),X=new RegExp(/[#]/),w=new RegExp(/^(https:)?\/\//i),O=M.test(q),G=X.test(q);return k=w.test(q),q.split(/[?#]/).map(V),L.length>0&&(L=L.reduce(Z,null)),D.length>0&&(D=D.reduce(Z,null),D.forEach(function(ee){F[ee.key]=ee.value})),q}var F=void 0,L=void 0,k=void 0;return{initialize:b,parseURI:E,getURIFragmentData:m,getURIQueryData:T,isManifestHTTPS:R}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(174),u=l(p),y=t(48),v=l(y);f.__dashjs_factory_name="URIQueryAndFragmentModel",h.default=v.default.getSingletonFactory(f),_.exports=h.default},{174:174,48:48}],119:[function(t,_,h){function l(E){return E&&E.__esModule?E:{default:E}}function f(){function E(){ve.on(m.default.PLAYBACK_PLAYING,ue,this)}function F(){ve.off(m.default.PLAYBACK_PLAYING,ue,this)}function L(){d&&(d.playbackRate=j||1,d.removeEventListener("canplay",L))}function k(ye){d&&(d.readyState<=2&&ye>0?d.addEventListener("canplay",L):d.playbackRate=ye)}function q(ye){if(d){if(d.currentTime==ye)return;try{d.currentTime=ye}catch(Ee){d.readyState===0&&Ee.code===Ee.INVALID_STATE_ERR&&setTimeout(function(){d.currentTime=ye},400)}}}function Z(){return d}function V(ye){d=ye,d.preload="auto"}function D(ye){d&&(ye?d.src=ye:(d.removeAttribute("src"),d.load()))}function M(){return d?d.src:null}function X(){return H}function w(ye){H=ye}function O(){return A}function G(ye){A=ye,A.style.position="absolute",A.style.display="flex",A.style.overflow="hidden",A.style.pointerEvents="none",A.style.top=0,A.style.left=0}function ee(ye,Ee){re(ye,Ee)}function de(){return ge.length>0}function ie(ye){var Ee=void 0;ye===null||d.seeking||ge.indexOf(ye)!==-1||(ge.push(ye),d&&ge.length===1&&(Ee=document.createEvent("Event"),Ee.initEvent("waiting",!0,!1),j=d.playbackRate,k(0),d.dispatchEvent(Ee)))}function W(ye){var Ee=ge.indexOf(ye),we=void 0;ye!==null&&(Ee!==-1&&ge.splice(Ee,1),d&&de()===!1&&d.playbackRate===0&&(k(j||1),d.paused||(we=document.createEvent("Event"),we.initEvent("playing",!0,!1),d.dispatchEvent(we))))}function re(ye,Ee){Ee?ie(ye):W(ye)}function ue(){if(d&&de()&&d.playbackRate===0){var ye=document.createEvent("Event");ye.initEvent("waiting",!0,!1),d.dispatchEvent(ye)}}function ce(){if(!d)return null;var ye="webkitDroppedFrameCount"in d&&"webkitDecodedFrameCount"in d,Ee="getVideoPlaybackQuality"in d,we=null;return Ee?we=d.getVideoPlaybackQuality():ye&&(we={droppedVideoFrames:d.webkitDroppedFrameCount,totalVideoFrames:d.webkitDroppedFrameCount+d.webkitDecodedFrameCount,creationTime:new Date}),we}function le(){if(d){d.autoplay=!0;var ye=d.play();ye&&typeof Promise<"u"&&ye instanceof Promise&&ye.catch(function(Ee){Ee.name==="NotAllowedError"&&ve.trigger(m.default.PLAYBACK_NOT_ALLOWED),oe("Caught pending play exception - continuing ("+Ee+")")})}}function he(){return d?d.paused:null}function se(){d&&(d.pause(),d.autoplay=!1)}function e(){return d?d.seeking:null}function i(){return d?d.currentTime:null}function n(){return d?d.playbackRate:null}function r(){return d?d.played:null}function o(){return d?d.ended:null}function c(ye,Ee){d&&d.addEventListener(ye,Ee)}function g(ye,Ee){d&&d.removeEventListener(ye,Ee)}function I(){return d?d.readyState:NaN}function P(){return d?d.buffered:null}function U(){return d?d.clientWidth:NaN}function B(){return d?d.clientHeight:NaN}function te(){return d?d.videoWidth:NaN}function S(){return d?d.videoHeight:NaN}function N(){return d&&d.parentNode?d.getBoundingClientRect().top-d.parentNode.getBoundingClientRect().top:NaN}function C(){return d&&d.parentNode?d.getBoundingClientRect().left-d.parentNode.getBoundingClientRect().left:NaN}function x(){return d?d.textTracks:[]}function z(ye,Ee,we,Ne,Ce){if(d){for(var xe=0;xe<d.textTracks.length;xe++)if(d.textTracks[xe].kind===ye&&(!Ee||d.textTracks[xe].label==Ee)&&d.textTracks[xe].language===we&&d.textTracks[xe].isTTML===Ne&&d.textTracks[xe].isEmbedded===Ce)return d.textTracks[xe]}return null}function Y(ye,Ee,we){return d?d.addTextTrack(ye,Ee,we):null}function K(ye){d&&(d.appendChild(ye),ye.isTTML!==void 0&&(d.textTracks[d.textTracks.length-1].isTTML=ye.isTTML,d.textTracks[d.textTracks.length-1].isEmbedded=ye.isEmbedded))}function Q(ye){d&&d.removeChild(ye)}var d=void 0,A=void 0,H=void 0,j=void 0,J=this.context,oe=(0,R.default)(J).getInstance().log,ve=(0,v.default)(J).getInstance(),ge=[];return{initialize:E,setCurrentTime:q,play:le,isPaused:he,pause:se,isSeeking:e,getTime:i,getPlaybackRate:n,getPlayedRanges:r,getEnded:o,setStallState:ee,getElement:Z,setElement:V,setSource:D,getSource:M,getVideoContainer:X,setVideoContainer:w,getTTMLRenderingDiv:O,setTTMLRenderingDiv:G,getPlaybackQuality:ce,addEventListener:c,removeEventListener:g,getReadyState:I,getBufferRange:P,getClientWidth:U,getClientHeight:B,getTextTracks:x,getTextTrack:z,addTextTrack:Y,appendChild:K,removeChild:Q,getVideoWidth:te,getVideoHeight:S,getVideoRelativeOffsetTop:N,getVideoRelativeOffsetLeft:C,reset:F}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p),y=t(47),v=l(y),b=t(51),m=l(b),T=t(46),R=l(T);f.__dashjs_factory_name="VideoModel",h.default=u.default.getSingletonFactory(f),_.exports=h.default},{46:46,47:47,48:48,51:51}],120:[function(t,_,h){function l(v){return v&&v.__esModule?v:{default:v}}function f(){function v(F,L){var k=L.droppedVideoFrames-R;R=L.droppedVideoFrames;var q=L.totalVideoFrames-E;E=L.totalVideoFrames,isNaN(F)||(T[F]?(T[F].droppedVideoFrames+=k,T[F].totalVideoFrames+=q):T[F]={droppedVideoFrames:k,totalVideoFrames:q})}function b(){return T}function m(F){T=[],R=F.droppedVideoFrames,E=F.totalVideoFrames}var T=[],R=0,E=0;return{push:v,getFrameHistory:b,reset:m}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p);f.__dashjs_factory_name="DroppedFramesHistory";var y=u.default.getClassFactory(f);h.default=y,_.exports=h.default},{48:48}],121:[function(t,_,h){function l(y){return y&&y.__esModule?y:{default:y}}function f(y){function v(){return D.mediaInfo.type}function b(){return D.mediaInfo.streamInfo}function m(){return D.mediaInfo}function T(){return D}function R(){return V}function E(){return Z}function F(){return M}function L(){return X}function k(){return w}function q(){return O}y=y||{};var Z=y.abrController,V=y.streamProcessor,D=y.streamProcessor.getCurrentRepresentationInfo(),M=y.switchHistory,X=y.droppedFramesHistory,w=y.currentRequest,O=y.useBufferOccupancyABR;return{getMediaType:v,getMediaInfo:m,getDroppedFramesHistory:L,getCurrentRequest:k,getSwitchHistory:F,getStreamInfo:b,getStreamProcessor:R,getAbrController:E,getRepresentationInfo:T,useBufferOccupancyABR:q}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p);f.__dashjs_factory_name="RulesContext",h.default=u.default.getClassFactory(f),_.exports=h.default},{48:48}],122:[function(t,_,h){function l(m){return m&&m.__esModule?m:{default:m}}function f(m,T,R){function E(q){var Z=v.DEFAULT;return q!==v.DEFAULT&&q!==v.STRONG&&q!==v.WEAK||(Z=q),Z}var F=void 0,L=void 0,k=void 0;return F=m===void 0?y:m,L=E(R),k=T===void 0?null:T,{quality:F,reason:k,priority:L}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p),y=-1,v={DEFAULT:.5,STRONG:1,WEAK:0};f.__dashjs_factory_name="SwitchRequest";var b=u.default.getClassFactory(f);b.NO_CHANGE=y,b.PRIORITY=v,u.default.updateClassFactory(f.__dashjs_factory_name,b),h.default=b,_.exports=h.default},{48:48}],123:[function(t,_,h){function l(T){return T&&T.__esModule?T:{default:T}}function f(){function T(k){k.newValue===v.default.NO_CHANGE&&(k.newValue=k.oldValue),F[k.oldValue]||(F[k.oldValue]={noDrops:0,drops:0,dropSize:0});var q=k.newValue-k.oldValue,Z=q<0?1:0,V=Z?-q:0,D=Z?0:1;if(F[k.oldValue].drops+=Z,F[k.oldValue].dropSize+=V,F[k.oldValue].noDrops+=D,L.push({idx:k.oldValue,noDrop:D,drop:Z,dropSize:V}),L.length>b){var M=L.shift();F[M.idx].drops-=M.drop,F[M.idx].dropSize-=M.dropSize,F[M.idx].noDrops-=M.noDrop}}function R(){return F}function E(){F=[],L=[]}var F=[],L=[];return{push:T,getSwitchRequests:R,reset:E}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p),y=t(122),v=l(y),b=8;f.__dashjs_factory_name="SwitchRequestHistory";var m=u.default.getClassFactory(f);h.default=m,_.exports=h.default},{122:122,48:48}],124:[function(t,_,h){function l(b){return b&&b.__esModule?b:{default:b}}function f(b){function m(){r={throughputHalfLife:{fast:ue,slow:re},latencyHalfLife:{fast:le,slow:ce}},w()}function T(c,g,I){return c===u.default.VIDEO?I<he.getCacheLoadThresholdForType(u.default.VIDEO):c===u.default.AUDIO?I<he.getCacheLoadThresholdForType(u.default.AUDIO):void 0}function R(c,g,I){if(g.trace&&g.trace.length){var P=g.tresponse.getTime()-g.trequest.getTime()||1,U=g._tfinish.getTime()-g.tresponse.getTime()||1,B=g.trace.reduce(function(N,C){return N+C.b[0]},0),te=I?U:P+U,S=Math.round(8*B/te);if(M(c),T(c,P,U)){if(se[c].length>0&&!se[c].hasCachedEntries)return;se[c].hasCachedEntries=!0}else se[c]&&se[c].hasCachedEntries&&X(c);se[c].push(S),se[c].length>O&&se[c].shift(),e[c].push(P),e[c].length>O&&e[c].shift(),E(i[c],S,.001*U,r.throughputHalfLife),E(n[c],P,1,r.latencyHalfLife)}}function E(c,g,I,P){var U=Math.pow(.5,I/P.fast);c.fastEstimate=(1-U)*g+U*c.fastEstimate;var B=Math.pow(.5,I/P.slow);c.slowEstimate=(1-B)*g+B*c.slowEstimate,c.totalWeight+=I}function F(c,g,I){var P=void 0,U=void 0;if(c?(P=se[g],U=I?G:ee):(P=e[g],U=de),P){if(U>=P.length)U=P.length;else if(c)for(var B=1;B<U;++B){var te=P[-B]/P[-B-1];if((te>=W||te<=1/ie)&&(U+=1)===P.length)break}}else U=0;return U}function L(c,g,I){return he.getMovingAverageMethod()!==u.default.MOVING_AVERAGE_SLIDING_WINDOW?q(c,g):k(c,g,I)}function k(c,g,I){var P=F(c,g,I),U=c?se:e,B=U[g];return P!==0&&B&&B.length!==0?(B=B.slice(-P),B.reduce(function(te,S){return te+S})/B.length):NaN}function q(c,g){var I=c?r.throughputHalfLife:r.latencyHalfLife,P=c?i[g]:n[g];if(!P||P.totalWeight<=0)return NaN;var U=P.fastEstimate/(1-Math.pow(.5,P.totalWeight/I.fast)),B=P.slowEstimate/(1-Math.pow(.5,P.totalWeight/I.slow));return c?Math.min(U,B):Math.max(U,B)}function Z(c,g){return L(!0,c,g)}function V(c,g){var I=Z(c,g);return isNaN(I)||(I*=he.getBandwidthSafetyFactor()),I}function D(c){return L(!1,c)}function M(c){se[c]=se[c]||[],e[c]=e[c]||[],i[c]=i[c]||{fastEstimate:0,slowEstimate:0,totalWeight:0},n[c]=n[c]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function X(c){delete se[c],delete e[c],delete i[c],delete n[c],M(c)}function w(){se={},e={},i={},n={}}b=b||{};var O=20,G=3,ee=4,de=4,ie=1.3,W=1.3,re=8,ue=3,ce=2,le=1,he=b.mediaPlayerModel,se=void 0,e=void 0,i=void 0,n=void 0,r=void 0,o={push:R,getAverageThroughput:Z,getSafeAverageThroughput:V,getAverageLatency:D,reset:w};return m(),o}Object.defineProperty(h,"__esModule",{value:!0});var p=t(98),u=l(p),y=t(48),v=l(y);f.__dashjs_factory_name="ThroughputHistory",h.default=v.default.getClassFactory(f),_.exports=h.default},{48:48,98:98}],125:[function(t,_,h){function l(O){return O&&O.__esModule?O:{default:O}}function f(O){function G(){se=[],e=[],ce.getUseDefaultABRRules()&&(se.push((0,k.default)(ue).create({metricsModel:le,dashMetrics:he,mediaPlayerModel:ce})),se.push((0,u.default)(ue).create({metricsModel:le,dashMetrics:he})),se.push((0,v.default)(ue).create({metricsModel:le,dashMetrics:he})),se.push((0,F.default)(ue).create()),se.push((0,R.default)(ue).create()),e.push((0,m.default)(ue).create({metricsModel:le,dashMetrics:he,mediaPlayerModel:ce}))),ce.getABRCustomRules().forEach(function(i){i.type===M&&se.push(i.rule(ue).create()),i.type===X&&e.push(i.rule(ue).create())})}function ee(i){return i.filter(function(n){return n.quality>D.default.NO_CHANGE})}function de(i){var n={},r=void 0,o=void 0,c=void 0,g=void 0,I=void 0;if(i.length!==0){for(n[D.default.PRIORITY.STRONG]=D.default.NO_CHANGE,n[D.default.PRIORITY.WEAK]=D.default.NO_CHANGE,n[D.default.PRIORITY.DEFAULT]=D.default.NO_CHANGE,r=0,o=i.length;r<o;r+=1)c=i[r],c.quality!==D.default.NO_CHANGE&&(n[c.priority]=n[c.priority]>D.default.NO_CHANGE?Math.min(n[c.priority],c.quality):c.quality);return n[D.default.PRIORITY.WEAK]!==D.default.NO_CHANGE&&(g=n[D.default.PRIORITY.WEAK]),n[D.default.PRIORITY.DEFAULT]!==D.default.NO_CHANGE&&(g=n[D.default.PRIORITY.DEFAULT]),n[D.default.PRIORITY.STRONG]!==D.default.NO_CHANGE&&(g=n[D.default.PRIORITY.STRONG]),g!==D.default.NO_CHANGE&&(I=g),(0,D.default)(ue).create(I)}}function ie(i){return de(ee(se.map(function(n){return n.getMaxIndex(i)})))||(0,D.default)(ue).create()}function W(i){return de(ee(e.map(function(n){return n.shouldAbandon(i)})))||(0,D.default)(ue).create()}function re(){[se,e].forEach(function(i){i&&i.length&&i.forEach(function(n){return n.reset&&n.reset()})}),se=[],e=[]}O=O||{};var ue=this.context,ce=O.mediaPlayerModel,le=O.metricsModel,he=O.dashMetrics,se=void 0,e=void 0;return{initialize:G,reset:re,getMaxQuality:ie,shouldAbandonFragment:W}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(131),u=l(p),y=t(129),v=l(y),b=t(126),m=l(b),T=t(128),R=l(T),E=t(130),F=l(E),L=t(127),k=l(L),q=t(48),Z=l(q),V=t(122),D=l(V),M="qualitySwitchRules",X="abandonFragmentRules";f.__dashjs_factory_name="ABRRulesCollection";var w=Z.default.getClassFactory(f);w.QUALITY_SWITCH_RULES=M,w.ABANDON_FRAGMENT_RULES=X,Z.default.updateSingletonFactory(f.__dashjs_factory_name,w),h.default=w,_.exports=h.default},{122:122,126:126,127:127,128:128,129:129,130:130,131:131,48:48}],126:[function(t,_,h){function l(T){return T&&T.__esModule?T:{default:T}}function f(T){function R(){k()}function E(W,re){G[W]=G[W]||{},G[W][re]=G[W][re]||{}}function F(W,re){de[W]=de[W]||[],de[W].push(re)}function L(W){var re=(0,u.default)(D).create(u.default.NO_CHANGE,{name:f.__dashjs_factory_name});if(!(W&&W.hasOwnProperty("getMediaInfo")&&W.hasOwnProperty("getMediaType")&&W.hasOwnProperty("getCurrentRequest")&&W.hasOwnProperty("getRepresentationInfo")&&W.hasOwnProperty("getAbrController")))return re;var ue=W.getMediaInfo(),ce=W.getMediaType(),le=W.getCurrentRequest();if(!isNaN(le.index)){E(ce,le.index);var he=X.getStableBufferTime();if(O.getCurrentBufferLevel(w.getReadOnlyMetricsFor(ce))>he)return re;var se=G[ce][le.index];if(se===null||le.firstByteDate===null||ee.hasOwnProperty(se.id))return re;if(se.firstByteTime===void 0&&(de[ce]=[],se.firstByteTime=le.firstByteDate.getTime(),se.segmentDuration=le.duration,se.bytesTotal=le.bytesTotal,se.id=le.index),se.bytesLoaded=le.bytesLoaded,se.elapsedTime=new Date().getTime()-se.firstByteTime,se.bytesLoaded>0&&se.elapsedTime>0&&F(ce,Math.round(8*se.bytesLoaded/se.elapsedTime)),de[ce].length>=V&&se.elapsedTime>Z&&se.bytesLoaded<se.bytesTotal){var e=de[ce].reduce(function(c,g){return c+g},0);if(se.measuredBandwidthInKbps=Math.round(e/de[ce].length),se.estimatedTimeOfDownload=+(8*se.bytesTotal/se.measuredBandwidthInKbps/1e3).toFixed(2),se.estimatedTimeOfDownload<se.segmentDuration*q||W.getRepresentationInfo().quality===0)return re;if(!ee.hasOwnProperty(se.id)){var i=W.getAbrController(),n=se.bytesTotal-se.bytesLoaded,r=i.getBitrateList(ue),o=i.getQualityForBitrate(ue,se.measuredBandwidthInKbps*X.getBandwidthSafetyFactor());n>se.bytesTotal*r[o].bitrate/r[i.getQualityFor(ce,ue.streamInfo)].bitrate&&(re.quality=o,re.reason.throughput=se.measuredBandwidthInKbps,re.reason.fragmentID=se.id,ee[se.id]=se,M("AbandonRequestsRule ( ",ce,"frag id",se.id,") is asking to abandon and switch to quality to ",o," measured bandwidth was",se.measuredBandwidthInKbps),delete G[ce][se.id])}}else se.bytesLoaded===se.bytesTotal&&delete G[ce][se.id]}return re}function k(){G={},ee={},de=[]}T=T||{};var q=1.8,Z=500,V=5,D=this.context,M=(0,m.default)(D).getInstance().log,X=T.mediaPlayerModel,w=T.metricsModel,O=T.dashMetrics,G=void 0,ee=void 0,de=void 0,ie={shouldAbandon:L,reset:k};return R(),ie}Object.defineProperty(h,"__esModule",{value:!0});var p=t(122),u=l(p),y=t(48),v=l(y),b=t(46),m=l(b);f.__dashjs_factory_name="AbandonRequestsRule",h.default=v.default.getClassFactory(f),_.exports=h.default},{122:122,46:46,48:48}],127:[function(t,_,h){function l(O){return O&&O.__esModule?O:{default:O}}function f(O){function G(){U(),z.on(L.default.BUFFER_EMPTY,e,Y),z.on(L.default.PLAYBACK_SEEKING,i,Y),z.on(L.default.PERIOD_SWITCH_STARTED,n,Y),z.on(L.default.MEDIA_FRAGMENT_LOADED,r,Y),z.on(L.default.METRIC_ADDED,o,Y),z.on(L.default.QUALITY_CHANGE_REQUESTED,g,Y),z.on(L.default.FRAGMENT_LOADING_ABANDONED,I,Y)}function ee(Q){return Q.map(function(d){return Math.log(d)})}function de(Q,d,A){var H=A.reduce(function(oe,ve,ge){return ve>A[oe]?ge:oe},0);if(H===0)return null;var j=Math.max(Q,M+X*d.length),J=(A[H]-1)/(j/M-1);return{gp:J,Vp:M/J}}function ie(Q){var d={},A=Q.getMediaInfo(),H=A.bitrateList.map(function(ve){return ve.bandwidth}),j=ee(H);j=j.map(function(ve){return ve-j[0]+1});var J=x.getStableBufferTime(),oe=de(J,H,j);return oe?(d.state=V,d.bitrates=H,d.utilities=j,d.stableBufferTime=J,d.Vp=oe.Vp,d.gp=oe.gp,d.lastQuality=0,W(d)):d.state=Z,d}function W(Q){Q.placeholderBuffer=0,Q.mostAdvancedSegmentStart=NaN,Q.lastSegmentWasReplacement=!1,Q.lastSegmentStart=NaN,Q.lastSegmentDurationS=NaN,Q.lastSegmentRequestTimeMs=NaN,Q.lastSegmentFinishTimeMs=NaN}function re(Q,d){var A=x.getStableBufferTime();if(Q.stableBufferTime!==A){var H=de(A,Q.bitrates,Q.utilities);if(H.Vp!==Q.Vp||H.gp!==Q.gp){var j=N.getCurrentBufferLevel(C.getReadOnlyMetricsFor(d)),J=j+Q.placeholderBuffer;J-=M,J*=H.Vp/Q.Vp,J+=M,Q.stableBufferTime=A,Q.Vp=H.Vp,Q.gp=H.gp,Q.placeholderBuffer=Math.max(0,J-j)}}}function ue(Q){var d=Q.getMediaType(),A=K[d];return A?A.state!==Z&&re(A,d):(A=ie(Q),K[d]=A),A}function ce(Q,d){for(var A=Q.bitrates.length,H=NaN,j=NaN,J=0;J<A;++J){var oe=(Q.Vp*(Q.utilities[J]+Q.gp)-d)/Q.bitrates[J];(isNaN(j)||oe>=j)&&(j=oe,H=J)}return H}function le(Q,d){return Q.Vp*(Q.utilities[d]+Q.gp)}function he(Q,d){for(var A=Q.bitrates[d],H=Q.utilities[d],j=0,J=d-1;J>=0;--J)if(Q.utilities[J]<Q.utilities[d]){var oe=Q.bitrates[J],ve=Q.utilities[J],ge=Q.Vp*(Q.gp+(A*ve-oe*H)/(A-oe));j=Math.max(j,ge)}return j}function se(Q,d){var A=Date.now();if(isNaN(Q.lastSegmentFinishTimeMs)){if(!isNaN(Q.lastCallTimeMs)){var H=.001*(A-Q.lastCallTimeMs);Q.placeholderBuffer+=Math.max(0,H)}}else{var H=.001*(A-Q.lastSegmentFinishTimeMs);Q.placeholderBuffer+=Math.max(0,H)}Q.lastCallTimeMs=A,Q.lastSegmentStart=NaN,Q.lastSegmentRequestTimeMs=NaN,Q.lastSegmentFinishTimeMs=NaN,re(Q,d)}function e(){for(var Q in K)K.hasOwnProperty(Q)&&K[Q].state===D&&(K[Q].placeholderBuffer=0)}function i(){for(var Q in K)if(K.hasOwnProperty(Q)){var d=K[Q];d.state!==Z&&(d.state=V,W(d))}}function n(){}function r(Q){if(Q&&Q.chunk&&Q.chunk.mediaInfo){var d=K[Q.chunk.mediaInfo.type];if(d&&d.state!==Z){var A=Q.chunk.start;isNaN(d.mostAdvancedSegmentStart)||A>d.mostAdvancedSegmentStart?(d.mostAdvancedSegmentStart=A,d.lastSegmentWasReplacement=!1):d.lastSegmentWasReplacement=!0,d.lastSegmentStart=A,d.lastSegmentDurationS=Q.chunk.duration,d.lastQuality=Q.chunk.quality,c(d,Q.chunk.mediaInfo.type)}}}function o(Q){if(Q&&Q.metric===u.default.HTTP_REQUEST&&Q.value&&Q.value.type===T.HTTPRequest.MEDIA_SEGMENT_TYPE&&Q.value.trace&&Q.value.trace.length){var d=K[Q.mediaType];d&&d.state!==Z&&(d.lastSegmentRequestTimeMs=Q.value.trequest.getTime(),d.lastSegmentFinishTimeMs=Q.value._tfinish.getTime(),c(d,Q.mediaType))}}function c(Q,d){if(!isNaN(Q.lastSegmentStart)&&!isNaN(Q.lastSegmentRequestTimeMs)&&!isNaN(Q.placeholderBuffer)){if(Q.placeholderBuffer*=w,!isNaN(Q.lastSegmentFinishTimeMs)){var A=N.getCurrentBufferLevel(C.getReadOnlyMetricsFor(d)),H=A+.001*(Q.lastSegmentFinishTimeMs-Q.lastSegmentRequestTimeMs),j=le(Q,Q.lastQuality),J=Math.max(0,j-H);Q.placeholderBuffer=Math.min(J,Q.placeholderBuffer)}Q.lastSegmentWasReplacement&&!isNaN(Q.lastSegmentDurationS)&&(Q.placeholderBuffer+=Q.lastSegmentDurationS),Q.lastSegmentStart=NaN,Q.lastSegmentRequestTimeMs=NaN}}function g(Q){if(Q){var d=K[Q.mediaType];d&&d.state!==Z&&(d.abrQuality=Q.newQuality)}}function I(Q){if(Q){var d=K[Q.mediaType];if(d&&d.state!==Z){var A=N.getCurrentBufferLevel(C.getReadOnlyMetricsFor(Q.mediaType)),H=void 0;H=d.abrQuality>0?he(d,d.abrQuality):M;var j=Math.max(0,H-A);d.placeholderBuffer=Math.min(d.placeholderBuffer,j)}}}function P(Q){var d=Q.getMediaInfo(),A=Q.getMediaType(),H=C.getReadOnlyMetricsFor(A),j=Q.getStreamProcessor(),J=Q.getStreamInfo(),oe=Q.getAbrController(),ve=oe.getThroughputHistory(),ge=J?J.id:null,ye=J&&J.manifestInfo&&J.manifestInfo.isDynamic,Ee=Q.useBufferOccupancyABR(),we=(0,v.default)(te).create();if(we.reason=we.reason||{},!Ee)return we;j.getScheduleController().setTimeToLoadDelay(0);var Ne=ue(Q);if(Ne.state===Z)return S("BOLA ABR rule invoked for media type '"+A+"' with only one bitrate."),we;var Ce=N.getCurrentBufferLevel(H),xe=ve.getAverageThroughput(A,ye),Se=ve.getSafeAverageThroughput(A,ye),Le=ve.getAverageLatency(A),ke=void 0;if(we.reason.state=Ne.state,we.reason.throughput=xe,we.reason.latency=Le,isNaN(xe))return we;switch(Ne.state){case V:ke=oe.getQualityForBitrate(d,Se,Le),we.quality=ke,we.reason.throughput=Se,Ne.placeholderBuffer=Math.max(0,he(Ne,ke)-Ce),Ne.lastQuality=ke,!isNaN(Ne.lastSegmentDurationS)&&Ce>=Ne.lastSegmentDurationS&&(Ne.state=D);break;case D:se(Ne,A),ke=ce(Ne,Ce+Ne.placeholderBuffer);var $e=oe.getQualityForBitrate(d,Se,Le);ke>Ne.lastQuality&&ke>$e&&(ke=Math.max($e,Ne.lastQuality));var Xe=Math.max(0,Ce+Ne.placeholderBuffer-le(Ne,ke));Xe<=Ne.placeholderBuffer?(Ne.placeholderBuffer-=Xe,Xe=0):(Xe-=Ne.placeholderBuffer,Ne.placeholderBuffer=0,ke<oe.getTopQualityIndexFor(A,ge)?j.getScheduleController().setTimeToLoadDelay(1e3*Xe):Xe=0),we.quality=ke,we.reason.throughput=xe,we.reason.latency=Le,we.reason.bufferLevel=Ce,we.reason.placeholderBuffer=Ne.placeholderBuffer,we.reason.delay=Xe,Ne.lastQuality=ke;break;default:S("BOLA ABR rule invoked in bad state."),we.quality=oe.getQualityForBitrate(d,Se,Le),we.reason.state=Ne.state,we.reason.throughput=Se,we.reason.latency=Le,Ne.state=V,W(Ne)}return we}function U(){K={}}function B(){U(),z.off(L.default.BUFFER_EMPTY,e,Y),z.off(L.default.PLAYBACK_SEEKING,i,Y),z.off(L.default.PERIOD_SWITCH_STARTED,n,Y),z.off(L.default.MEDIA_FRAGMENT_LOADED,r,Y),z.off(L.default.METRIC_ADDED,o,Y),z.off(L.default.QUALITY_CHANGE_REQUESTED,g,Y),z.off(L.default.FRAGMENT_LOADING_ABANDONED,I,Y)}O=O||{};var te=this.context,S=(0,q.default)(te).getInstance().log,N=O.dashMetrics,C=O.metricsModel,x=O.mediaPlayerModel,z=(0,E.default)(te).getInstance(),Y=void 0,K=void 0;return Y={getMaxIndex:P,reset:B},G(),Y}Object.defineProperty(h,"__esModule",{value:!0});var p=t(99),u=l(p),y=t(122),v=l(y),b=t(48),m=l(b),T=t(179),R=t(47),E=l(R),F=t(51),L=l(F),k=t(46),q=l(k),Z=0,V=1,D=2,M=10,X=2,w=.99;f.__dashjs_factory_name="BolaRule",h.default=m.default.getClassFactory(f),_.exports=h.default},{122:122,179:179,46:46,47:47,48:48,51:51,99:99}],128:[function(t,_,h){function l(T){return T&&T.__esModule?T:{default:T}}function f(){function T(k){var q=k.getDroppedFramesHistory();if(q){for(var Z=q.getFrameHistory(),V=0,D=0,M=v.default.NO_CHANGE,X=1;X<Z.length;X++)if(Z[X]&&(V=Z[X].droppedVideoFrames,(D=Z[X].totalVideoFrames)>L&&V/D>F)){M=X-1,E("DroppedFramesRule, index: "+M+" Dropped Frames: "+V+" Total Frames: "+D);break}return(0,v.default)(R).create(M,{droppedFrames:V})}return(0,v.default)(R).create()}var R=this.context,E=(0,m.default)(R).getInstance().log,F=.15,L=375;return{getMaxIndex:T}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p),y=t(122),v=l(y),b=t(46),m=l(b);f.__dashjs_factory_name="DroppedFramesRule",h.default=u.default.getClassFactory(f),_.exports=h.default},{122:122,46:46,48:48}],129:[function(t,_,h){function l(q){return q&&q.__esModule?q:{default:q}}function f(q){function Z(){X(),ie.on(m.default.PLAYBACK_SEEKING,w,ue)}function V(){if(!(W&&W.hasOwnProperty("getReadOnlyMetricsFor")&&re&&re.hasOwnProperty("getCurrentBufferLevel")))throw new Error("Missing config parameter(s)")}function D(le){var he=(0,k.default)(ee).create();if(!le||!le.hasOwnProperty("getMediaType"))return he;V();var se=le.getMediaType(),e=W.getReadOnlyMetricsFor(se),i=e.BufferState.length>0?e.BufferState[e.BufferState.length-1]:null,n=le.getRepresentationInfo(),r=n.fragmentDuration;if(!i||!M(se,i)||!r)return he;if(i.state===u.default.BUFFER_EMPTY)de("Switch to index 0; buffer is empty."),he.quality=0,he.reason="InsufficientBufferRule: Buffer is empty";else{var o=le.getMediaInfo(),c=le.getAbrController(),g=c.getThroughputHistory(),I=re.getCurrentBufferLevel(e),P=g.getAverageThroughput(se),U=g.getAverageLatency(se),B=P*(I/r)*G;he.quality=c.getQualityForBitrate(o,B,U),he.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return he}function M(le,he){ce[le]=ce[le]||{};var se=!1;return ce[le].firstBufferLoadedEvent?se=!0:he&&he.state===u.default.BUFFER_LOADED&&(ce[le].firstBufferLoadedEvent=!0,se=!0),se}function X(){ce={}}function w(){X()}function O(){X(),ie.off(m.default.PLAYBACK_SEEKING,w,ue)}q=q||{};var G=.5,ee=this.context,de=(0,F.default)(ee).getInstance().log,ie=(0,v.default)(ee).getInstance(),W=q.metricsModel,re=q.dashMetrics,ue=void 0,ce=void 0;return ue={getMaxIndex:D,reset:O},Z(),ue}Object.defineProperty(h,"__esModule",{value:!0});var p=t(103),u=l(p),y=t(47),v=l(y),b=t(51),m=l(b),T=t(48),R=l(T),E=t(46),F=l(E),L=t(122),k=l(L);f.__dashjs_factory_name="InsufficientBufferRule",h.default=R.default.getClassFactory(f),_.exports=h.default},{103:103,122:122,46:46,47:47,48:48,51:51}],130:[function(t,_,h){function l(T){return T&&T.__esModule?T:{default:T}}function f(){function T(k){for(var q=k?k.getSwitchHistory():null,Z=q?q.getSwitchRequests():[],V=0,D=0,M=0,X=(0,m.default)(R).create(),w=0;w<Z.length;w++)if(Z[w]!==void 0&&(V+=Z[w].drops,D+=Z[w].noDrops,M+=Z[w].dropSize,V+D>=L&&V/D>F)){X.quality=w>0&&Z[w].drops>0?w-1:w,X.reason={index:X.quality,drops:V,noDrops:D,dropSize:M},E("Switch history rule index: "+X.quality+" samples: "+(V+D)+" drops: "+V);break}return X}var R=this.context,E=(0,v.default)(R).getInstance().log,F=.075,L=6;return{getMaxIndex:T}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p),y=t(46),v=l(y),b=t(122),m=l(b);f.__dashjs_factory_name="SwitchHistoryRule",h.default=u.default.getClassFactory(f),_.exports=h.default},{122:122,46:46,48:48}],131:[function(t,_,h){function l(L){return L&&L.__esModule?L:{default:L}}function f(L){function k(){if(!M||!M.hasOwnProperty("getReadOnlyMetricsFor"))throw new Error("Missing config parameter(s)")}function q(X){var w=(0,F.default)(V).create();if(!(X&&X.hasOwnProperty("getMediaInfo")&&X.hasOwnProperty("getMediaType")&&X.hasOwnProperty("useBufferOccupancyABR")&&X.hasOwnProperty("getAbrController")&&X.hasOwnProperty("getStreamProcessor")))return w;k();var O=X.getMediaInfo(),G=X.getMediaType(),ee=M.getReadOnlyMetricsFor(G),de=X.getStreamProcessor(),ie=X.getAbrController(),W=X.getStreamInfo(),re=W&&W.manifestInfo?W.manifestInfo.isDynamic:null,ue=ie.getThroughputHistory(),ce=ue.getSafeAverageThroughput(G,re),le=ue.getAverageLatency(G),he=ee.BufferState.length>0?ee.BufferState[ee.BufferState.length-1]:null,se=X.useBufferOccupancyABR();return!ee||isNaN(ce)||!he||se||ie.getAbandonmentStateFor(G)!==v.default.ABANDON_LOAD&&(he.state===u.default.BUFFER_LOADED||re)&&(w.quality=ie.getQualityForBitrate(O,ce,le),de.getScheduleController().setTimeToLoadDelay(0),D("ThroughputRule requesting switch to index: ",w.quality,"type: ",G,"Average throughput",Math.round(ce),"kbps"),w.reason={throughput:ce,latency:le}),w}function Z(){}L=L||{};var V=this.context,D=(0,R.default)(V).getInstance().log,M=L.metricsModel;return{getMaxIndex:q,reset:Z}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(103),u=l(p),y=t(100),v=l(y),b=t(48),m=l(b),T=t(46),R=l(T),E=t(122),F=l(E);f.__dashjs_factory_name="ThroughputRule",h.default=m.default.getClassFactory(f),_.exports=h.default},{100:100,103:103,122:122,46:46,48:48}],132:[function(t,_,h){function l(b){return b&&b.__esModule?b:{default:b}}function f(b){function m(Z,V,D){return R.getCurrentBufferLevel(E.getReadOnlyMetricsFor(V))<T(Z,V,D)}function T(Z,V,D){var M=NaN,X=Z.getCurrentRepresentationInfo();if(V===u.default.FRAGMENTED_TEXT)M=L.getAllTracksAreDisabled()?0:X.fragmentDuration;else if(V===u.default.AUDIO&&D){var w=R.getCurrentBufferLevel(E.getReadOnlyMetricsFor(u.default.VIDEO));M=isNaN(X.fragmentDuration)?w:Math.max(w,X.fragmentDuration)}else{var O=X.mediaInfo.streamInfo;if(k.isPlayingAtTopQuality(O)){var G=O.manifestInfo.duration>=F.getLongFormContentDurationThreshold();M=G?F.getBufferTimeAtTopQualityLongForm():F.getBufferTimeAtTopQuality()}else M=F.getStableBufferTime()}return M}b=b||{};var R=b.dashMetrics,E=b.metricsModel,F=b.mediaPlayerModel,L=b.textController,k=b.abrController,q={execute:m,getBufferTarget:T};return q}Object.defineProperty(h,"__esModule",{value:!0});var p=t(98),u=l(p),y=t(48),v=l(y);f.__dashjs_factory_name="BufferLevelRule",h.default=v.default.getClassFactory(f),_.exports=h.default},{48:48,98:98}],133:[function(t,_,h){function l(E){return E&&E.__esModule?E:{default:E}}function f(E){function F(V,D){var M=V.getCurrentRepresentationInfo(),X=M.mediaInfo,w=X.type,O=V.getScheduleController(),G=O.getSeekTarget(),ee=!isNaN(G),de=V.getBufferController(),ie=ee?G:q.getIndexHandlerTime(V);if(isNaN(ie)||w===u.default.FRAGMENTED_TEXT&&Z.getAllTracksAreDisabled())return null;if(ee&&O.setSeekTarget(NaN),de){var W=de.getRangeAt(ie);W===null||ee||(k("Prior to making a request for time, NextFragmentRequestRule is aligning index handler's currentTime with bufferedRange.end for",w,".",ie,"was changed to",W.end),ie=W.end)}var re=void 0;if(D)ie=D.startTime+D.duration/2,re=q.getFragmentRequestForTime(V,M,ie,{timeThreshold:0,ignoreIsFinished:!0});else{for(re=q.getFragmentRequestForTime(V,M,ie,{keepIdx:!ee});re&&re.action!==R.default.ACTION_COMPLETE&&V.getFragmentModel().isFragmentLoaded(re);)re=q.getNextFragmentRequest(V,M);re&&(isNaN(re.startTime+re.duration)||q.setIndexHandlerTime(V,re.startTime+re.duration),re.delayLoadingTime=new Date().getTime()+O.getTimeToLoadDelay(),O.setTimeToLoadDelay(0))}return re}E=E||{};var L=this.context,k=(0,v.default)(L).getInstance().log,q=E.adapter,Z=E.textController;return{execute:F}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(98),u=l(p),y=t(46),v=l(y),b=t(48),m=l(b),T=t(162),R=l(T);f.__dashjs_factory_name="NextFragmentRequestRule",h.default=m.default.getClassFactory(f),_.exports=h.default},{162:162,46:46,48:48,98:98}],134:[function(t,_,h){function l(y){return y&&y.__esModule?y:{default:y}}function f(){function y(L){for(var k="",q=0;q<L.length;++q)k+=L[q].uchar;return k.length-k.replace(/^\s+/,"").length}function v(L){return"left: "+3.125*L.x+"%; top: "+6.66*L.y1+"%; width: "+(100-3.125*L.x)+"%; height: "+6.66*Math.max(L.y2-1-L.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function b(L){return L==="red"?"rgb(255, 0, 0)":L==="green"?"rgb(0, 255, 0)":L==="blue"?"rgb(0, 0, 255)":L==="cyan"?"rgb(0, 255, 255)":L==="magenta"?"rgb(255, 0, 255)":L==="yellow"?"rgb(255, 255, 0)":L==="white"?"rgb(255, 255, 255)":L==="black"?"rgb(0, 0, 0)":L}function m(L,k){var q=L.videoHeight/15;return k?"font-size: "+q+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(k.foreground?b(k.foreground):"rgb(255, 255, 255)")+"; font-style: "+(k.italics?"italic":"normal")+"; text-decoration: "+(k.underline?"underline":"none")+"; white-space: pre; background-color: "+(k.background?b(k.background):"transparent")+";":"font-size: "+q+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function T(L){return L.replace(/^\s+/g,"")}function R(L){return L.replace(/\s+$/g,"")}function E(L,k,q,Z){var V=null,D=null,M=!1,X=-1,w={start:k,end:q,spans:[]},O="style_cea608_white_black",G={},ee={},de=[],ie=void 0,W=void 0;for(ie=0;ie<15;++ie){var re=Z.rows[ie],ue="",ce=null;if(re.isEmpty()===!1){var le=y(re.chars);V===null&&(V={x:le,y1:ie,y2:ie+1,p:[]}),le!==X&&M&&(V.p.push(w),w={start:k,end:q,spans:[]},V.y2=ie,V.name="region_"+V.x+"_"+V.y1+"_"+V.y2,G.hasOwnProperty(V.name)===!1?(de.push(V),G[V.name]=V):(D=G[V.name],D.p.contat(V.p)),V={x:le,y1:ie,y2:ie+1,p:[]});for(var he=0;he<re.chars.length;++he){var se=re.chars[he],e=se.penState;if(ce===null||!e.equals(ce)){ue.trim().length>0&&(w.spans.push({name:O,line:ue,row:ie}),ue="");var i="style_cea608_"+e.foreground+"_"+e.background;e.underline&&(i+="_underline"),e.italics&&(i+="_italics"),ee.hasOwnProperty(i)||(ee[i]=JSON.parse(JSON.stringify(e))),ce=e,O=i}ue+=se.uchar}ue.trim().length>0&&w.spans.push({name:O,line:ue,row:ie}),M=!0,X=le}else M=!1,X=-1,V&&(V.p.push(w),w={start:k,end:q,spans:[]},V.y2=ie,V.name="region_"+V.x+"_"+V.y1+"_"+V.y2,G.hasOwnProperty(V.name)===!1?(de.push(V),G[V.name]=V):(D=G[V.name],D.p.contat(V.p)),V=null)}V&&(V.p.push(w),V.y2=ie+1,V.name="region_"+V.x+"_"+V.y1+"_"+V.y2,G.hasOwnProperty(V.name)===!1?(de.push(V),G[V.name]=V):(D=G[V.name],D.p.contat(V.p)),V=null);var n=[];for(ie=0;ie<de.length;++ie){var r=de[ie],o="sub_cea608_"+F++,c=document.createElement("div");c.id=o;var g=v(r);c.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+g;var I=document.createElement("div");I.className="paragraph bodyStyle",I.style.cssText=m(L);var P=document.createElement("div");P.className="cueUniWrapper",P.style.cssText="unicode-bidi: normal; direction: ltr;";for(var U=0;U<r.p.length;++U){var B=r.p[U],te=0;for(W=0;W<B.spans.length;++W){var S=B.spans[W];if(S.line.length>0){if(W!==0&&te!=S.row){var N=document.createElement("br");N.className="lineBreak",P.appendChild(N)}var C=!1;te===S.row&&(C=!0),te=S.row;var x=ee[S.name],z=document.createElement("span");z.className="spanPadding "+S.name+" customSpanColor",z.style.cssText=m(L,x),W!==0&&C?W===B.spans.length-1?z.textContent=R(S.line):z.textContent=S.line:B.spans.length>1&&W<B.spans.length-1&&S.row===B.spans[W+1].row?z.textContent=T(S.line):z.textContent=S.line.trim(),P.appendChild(z)}}}I.appendChild(P),c.appendChild(I);var Y={bodyStyle:["%",90]};for(W in ee)ee.hasOwnProperty(W)&&(Y[W]=["%",90]);n.push({type:"html",start:k,end:q,cueHTMLElement:c,cueID:o,cellResolution:[32,15],isFromCEA608:!0,regions:de,regionID:r.name,videoHeight:L.videoHeight,videoWidth:L.videoWidth,fontSize:Y,lineHeight:{},linePadding:{}})}return n}var F=0;return{createHTMLCaptionsFromScreen:E}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p);f.__dashjs_factory_name="EmbeddedTextHtmlRender",h.default=u.default.getSingletonFactory(f),_.exports=h.default},{48:48}],135:[function(t,_,h){function l(D){return D&&D.__esModule?D:{default:D}}function f(D){function M(){S=!1,N=null,te=!1,c.on(m.default.DATA_UPDATE_COMPLETED,e,B),c.on(m.default.INIT_FRAGMENT_LOADED,i,B)}function X(){return V}function w(z){de(z),U.getRepresentationController(),x=(0,F.default)(o).getInstance()}function O(z){try{if(C=(0,k.default)(o).create(N,z),!S){var Y=C.getBuffer();Y.hasOwnProperty(u.default.INITIALIZE)&&Y.initialize(P,U),S=!0}}catch{if(z.isText||z.codec.indexOf('codecs="stpp')!==-1||z.codec.indexOf('codecs="wvtt')!==-1)try{C=g.getTextSourceBuffer()}catch{I.mediaSourceError("Error creating "+P+" source buffer.")}else I.mediaSourceError("Error creating "+P+" source buffer.")}}function G(){return P}function ee(){return C}function de(z){N=z}function ie(){return N}function W(){return U}function re(){return!1}function ue(){}function ce(){}function le(){return 0}function he(){return te}function se(z){c.off(m.default.DATA_UPDATE_COMPLETED,e,B),c.off(m.default.INIT_FRAGMENT_LOADED,i,B),!z&&C&&(C.abort(),C.reset(),C=null)}function e(z){z.sender.getStreamProcessor()===U&&c.trigger(m.default.TIMED_TEXT_REQUESTED,{index:0,sender:z.sender})}function i(z){z.fragmentModel===U.getFragmentModel()&&z.chunk.bytes&&(x.save(z.chunk),C.append(z.chunk))}function n(z,Y){var K=x.extract(z,Y);K?C.append(K):c.trigger(m.default.INIT_REQUESTED,{sender:B})}function r(){return null}D=D||{};var o=this.context,c=(0,v.default)(o).getInstance(),g=(0,Z.default)(o).getInstance(),I=D.errHandler,P=D.type,U=D.streamProcessor,B=void 0,te=void 0,S=void 0,N=void 0,C=void 0,x=void 0;return B={getBufferControllerType:X,initialize:w,createBuffer:O,getType:G,getStreamProcessor:W,setSeekStartTime:ce,getBuffer:ee,getBufferLevel:le,setMediaSource:de,getMediaSource:ie,getIsBufferingCompleted:he,getIsPruningInProgress:re,dischargePreBuffer:ue,switchInitData:n,getRangeAt:r,reset:se},M(),B}Object.defineProperty(h,"__esModule",{value:!0});var p=t(98),u=l(p),y=t(47),v=l(y),b=t(51),m=l(b),T=t(48),R=l(T),E=t(149),F=l(E),L=t(93),k=l(L),q=t(137),Z=l(q),V="NotFragmentedTextBufferController";f.__dashjs_factory_name=V,h.default=R.default.getClassFactory(f),_.exports=h.default},{137:137,149:149,47:47,48:48,51:51,93:93,98:98}],136:[function(t,_,h){function l(E){return E&&E.__esModule?E:{default:E}}function f(E){function F(){le=E.type===u.default.FRAGMENTED_TEXT?(0,m.default)(ce).create({type:E.type,metricsModel:E.metricsModel,mediaPlayerModel:E.mediaPlayerModel,manifestModel:E.manifestModel,errHandler:E.errHandler,streamController:E.streamController,mediaController:E.mediaController,adapter:E.adapter,textController:E.textController,abrController:E.abrController,playbackController:E.playbackController,streamProcessor:E.streamProcessor}):(0,R.default)(ce).create({type:E.type,errHandler:E.errHandler,streamProcessor:E.streamProcessor})}function L(){return le.getBufferControllerType()}function k(se,e){return le.initialize(se,e)}function q(se){return le.createBuffer(se)}function Z(){return le.getType()}function V(){return le.getBuffer()}function D(se){le.setBuffer(se)}function M(){return le.getMediaSource()}function X(se){le.setMediaSource(se)}function w(){le.getStreamProcessor()}function O(se){le.setSeekStartTime(se)}function G(){return le.getBufferLevel()}function ee(se){le.reset(se)}function de(){return le.getIsBufferingCompleted()}function ie(se,e){le.switchInitData(se,e)}function W(){return le.getIsPruningInProgress()}function re(){return le.dischargePreBuffer()}function ue(se){return le.getRangeAt(se)}E=E||{};var ce=this.context,le=void 0,he=void 0;return he={getBufferControllerType:L,initialize:k,createBuffer:q,getType:Z,getStreamProcessor:w,setSeekStartTime:O,getBuffer:V,setBuffer:D,getBufferLevel:G,setMediaSource:X,getMediaSource:M,getIsBufferingCompleted:de,getIsPruningInProgress:W,dischargePreBuffer:re,switchInitData:ie,getRangeAt:ue,reset:ee},F(),he}Object.defineProperty(h,"__esModule",{value:!0});var p=t(98),u=l(p),y=t(48),v=l(y),b=t(103),m=l(b),T=t(135),R=l(T);f.__dashjs_factory_name="TextBufferController",h.default=v.default.getClassFactory(f),_.exports=h.default},{103:103,135:135,48:48,98:98}],137:[function(t,_,h){function l(M){return M&&M.__esModule?M:{default:M}}function f(){function M(){C="",x=-1,z=!0,B=(0,R.default)(i).getInstance(),te=(0,F.default)(i).getInstance(),S=(0,k.default)(i).getInstance(),r=(0,m.default)(i).getInstance(),N=(0,Z.default)(i).getInstance(),B.initialize(),N.on(D.default.TEXT_TRACKS_QUEUE_INITIALIZED,ie,n),se()}function X(K){K&&(K.errHandler&&(o=K.errHandler),K.dashManifestModel&&(c=K.dashManifestModel),K.manifestModel&&(g=K.manifestModel),K.mediaController&&(I=K.mediaController),K.videoModel&&(P=K.videoModel),K.streamController&&(U=K.streamController),K.textTracks&&(B=K.textTracks),K.vttParser&&(te=K.vttParser),K.ttmlParser&&(S=K.ttmlParser),r.setConfig({errHandler:o,dashManifestModel:c,manifestModel:g,mediaController:I,videoModel:P,streamController:U,textTracks:B,vttParser:te,ttmlParser:S}))}function w(){return r}function O(){return Y}function G(K){r.addEmbeddedTrack(K)}function ee(K){typeof K=="string"&&(C=K)}function de(){return C}function ie(K){var Q=K.tracks,d=K.index,A=Q.findIndex(function(H){return H.lang===C});A!==-1&&(this.setTextTrack(A),d=A),z||this.setTextTrack(-1),x=d,N.trigger(D.default.TEXT_TRACKS_ADDED,{enabled:!Y,index:d,tracks:Q})}function W(K){typeof K=="boolean"&&(z=K)}function re(){return z}function ue(K){typeof K=="boolean"&&!Y!==K&&(K&&this.setTextTrack(x),K||(x=this.getCurrentTrackIdx(),this.setTextTrack(-1)))}function ce(){return!Y}function le(K){var Q=r.getConfig(),d=Q.fragmentModel,A=Q.fragmentedTracks,H=B.getCurrentTrackIdx();if(H!==K){B.setModeForTrackIdx(H,u.default.TEXT_HIDDEN),B.setCurrentTrackIdx(K),B.setModeForTrackIdx(K,u.default.TEXT_SHOWING);var j=B.getCurrentTrackInfo();if(j&&j.isFragmented&&!j.isEmbedded)for(var J=0;J<A.length;J++){var oe=A[J];if(j.lang===oe.lang&&j.index===oe.index&&(!j.label||j.label===oe.id)){var ve=I.getCurrentTrackFor(u.default.FRAGMENTED_TEXT,U.getActiveStreamInfo());oe!==ve&&(d.abortRequests(),d.removeExecutedRequestsBeforeTime(),r.remove(),B.deleteCuesFromTrackIdx(H),I.setTrack(oe),r.setCurrentFragmentedTrackIdx(J))}}}Y=K===-1}function he(){return B.getCurrentTrackIdx()}function se(){Y=!1}function e(){se(),r.resetEmbedded()}var i=this.context,n=void 0,r=void 0,o=void 0,c=void 0,g=void 0,I=void 0,P=void 0,U=void 0,B=void 0,te=void 0,S=void 0,N=void 0,C=void 0,x=void 0,z=void 0,Y=void 0;return n={setConfig:X,getTextSourceBuffer:w,getAllTracksAreDisabled:O,addEmbeddedTrack:G,getTextDefaultLanguage:de,setTextDefaultLanguage:ee,setTextDefaultEnabled:W,getTextDefaultEnabled:re,enableText:ue,isTextEnabled:ce,setTextTrack:le,getCurrentTrackIdx:he,reset:e},M(),n}Object.defineProperty(h,"__esModule",{value:!0});var p=t(98),u=l(p),y=t(48),v=l(y),b=t(138),m=l(b),T=t(139),R=l(T),E=t(156),F=l(E),L=t(154),k=l(L),q=t(47),Z=l(q),V=t(51),D=l(V);f.__dashjs_factory_name="TextController",h.default=v.default.getSingletonFactory(f),_.exports=h.default},{138:138,139:139,154:154,156:156,47:47,48:48,51:51,98:98}],138:[function(t,_,h){function l(ce){return ce&&ce.__esModule?ce:{default:ce}}function f(){function ce(Ie,Be){if(Q=null,ve=null,ge=!1,ye=NaN,Ee=[],Ce=null,N||se(),j=Be.getMediaInfoArr(),J.setConfig({videoModel:we}),J.initialize(),oe=!z.getIsTextTrack(Ie),C=(0,E.default)(B).getInstance(),H=(0,T.default)(B).getInstance(),H.setConfig({boxParser:C}),oe){ve=Be.getFragmentModel(),this.buffered=(0,L.default)(B).create(),Ee=K.getTracksFor(u.default.FRAGMENTED_TEXT,Ne.getActiveStreamInfo());for(var Ae=K.getCurrentTrackFor(u.default.FRAGMENTED_TEXT,Ne.getActiveStreamInfo()),Me=0;Me<Ee.length;Me++)if(Ee[Me]===Ae){xe=Me;break}}}function le(){J.deleteAllTextTracks(),Q=null,H=null,j=null,J=null,oe=!1,ve=null,ge=!1,ye=NaN,Ee=[],we=null,Ne=null,N=!1,Se=null}function he(Ie){var Be=Ie.chunk;Be.mediaInfo.embeddedCaptions&&c(Be.bytes,Be)}function se(){Se=[],j=[],J=(0,M.default)(B).getInstance(),J.setConfig({videoModel:we}),J.initialize(),C=(0,E.default)(B).getInstance(),H=(0,T.default)(B).getInstance(),H.setConfig({boxParser:C}),oe=!1,xe=null,Le=0,Xe=[],$e=[],ke=null,N=!0,ze=(0,w.default)(B).getInstance(),S.on(ue.default.VIDEO_CHUNK_RECEIVED,he,this)}function e(){S.off(ue.default.VIDEO_CHUNK_RECEIVED,he,this),J&&J.deleteAllTextTracks(),N=!1,Se=[],Xe=[null,null],$e=[],ke=null}function i(Ie){N||se(),Ie.id===u.default.CC1||Ie.id===u.default.CC3?Se.push(Ie):te("Warning: Embedded track "+Ie.id+" not supported!")}function n(Ie){Ie&&(Ie.errHandler&&(x=Ie.errHandler),Ie.dashManifestModel&&(z=Ie.dashManifestModel),Ie.manifestModel&&(Y=Ie.manifestModel),Ie.mediaController&&(K=Ie.mediaController),Ie.videoModel&&(we=Ie.videoModel),Ie.streamController&&(Ne=Ie.streamController),Ie.textTracks&&(J=Ie.textTracks),Ie.vttParser&&(d=Ie.vttParser),Ie.ttmlParser&&(A=Ie.ttmlParser))}function r(){return{errHandler:x,dashManifestModel:z,mediaController:K,videoModel:we,fragmentModel:ve,streamController:Ne,textTracks:J,isFragmented:oe,embeddedTracks:Se,fragmentedTracks:Ee}}function o(Ie){xe=Ie}function c(Ie,Be){function Ae(It,gt){var yt=new b.default,Dt={subtitle:"subtitles",caption:"captions"},Nt=function(){var Oe=gt.roles.length>0?Dt[gt.roles[0]]:Dt.caption;return Oe=Oe===Dt.caption||Oe===Dt.subtitle?Oe:Dt.caption},St=function(){var Oe=!1;return gt.codec&&gt.codec.search(u.default.STPP)>=0&&(Oe=!0),gt.mimeType&&gt.mimeType.search(u.default.TTML)>=0&&(Oe=!0),Oe};yt.captionData=It,yt.lang=gt.lang,yt.label=gt.id,yt.index=gt.index,yt.isTTML=St(),yt.defaultTrack=I(gt),yt.isFragmented=oe,yt.isEmbedded=!!gt.isEmbedded,yt.kind=Nt(),yt.roles=gt.roles;var Mt=(j?j.length:0)+Se.length;J.addTextTrack(yt,Mt)}var Me=void 0,je=void 0,He=void 0,Pe=void 0,Re=void 0,st=void 0,Qe=void 0,We=Be.mediaInfo,ne=We.type,fe=We.mimeType,_e=We.codec||fe;if(!_e)return void te("No text type defined");if(ne===u.default.FRAGMENTED_TEXT)if(ge)if(st=H.getSamplesInfo(Ie),je=st.sampleList,!Ce&&je.length>0&&(Ce=je[0].cts-Be.start*ye),_e.search(u.default.STPP)>=0)for(Q=Q!==null?Q:P(_e),He=0;He<je.length;He++){var pe=je[He],be=pe.cts,De=be-Ce;this.buffered.add(De/ye,(De+pe.duration)/ye);var Ue=new DataView(Ie,pe.offset,pe.subSizes[0]);Qe=G.default.Utils.dataViewToString(Ue,u.default.UTF8);var rt=[],dt=pe.offset+pe.subSizes[0];for(Pe=1;Pe<pe.subSizes.length;Pe++){var vt=new Uint8Array(Ie,dt,pe.subSizes[Pe]),Vt=String.fromCharCode.apply(null,vt);rt.push(Vt),dt+=pe.subSizes[Pe]}try{var Gt=Y.getValue(),wt=Gt.ttmlTimeIsRelative?be/ye:0;Me=Q.parse(Qe,wt,be/ye,(be+pe.duration)/ye,rt),J.addCaptions(xe,Ce/ye,Me)}catch(It){te("TTML parser error: "+It.message)}}else{var lt=[];for(He=0;He<je.length;He++){var pe=je[He];pe.cts-=Ce,this.buffered.add(pe.cts/ye,(pe.cts+pe.duration)/ye);var et=Ie.slice(pe.offset,pe.offset+pe.size),Tt=G.default.parseBuffer(et);for(Pe=0;Pe<Tt.boxes.length;Pe++){var at=Tt.boxes[Pe];if(te("VTT box1: "+at.type),at.type!=="vtte"&&at.type==="vttc")for(te("VTT vttc boxes.length = "+at.boxes.length),Re=0;Re<at.boxes.length;Re++){var _t=at.boxes[Re];if(te("VTT box2: "+_t.type),_t.type==="payl"){var nt=_t.cue_text;te("VTT cue_text = "+nt);var bt=pe.cts/ye,Rt=(pe.cts+pe.duration)/ye;lt.push({start:bt,end:Rt,data:nt,styles:{}}),te("VTT "+bt+"-"+Rt+" : "+nt)}}}}lt.length>0&&J.addCaptions(xe,0,lt)}else{for(ge=!0,He=0;He<j.length;He++)Ae(null,j[He]);ye=H.getMediaTimescaleFromMoov(Ie)}else if(ne===u.default.TEXT){var Ue=new DataView(Ie,0,Ie.byteLength);Qe=G.default.Utils.dataViewToString(Ue,u.default.UTF8);try{Me=P(_e).parse(Qe,0),Ae(Me,We)}catch(gt){x.timedTextError(gt,"parse",Qe)}}else if(ne===u.default.VIDEO)if(Be.segmentType===y.HTTPRequest.INIT_SEGMENT_TYPE){if(Le===0)for(Le=H.getMediaTimescaleFromMoov(Ie),He=0;He<Se.length;He++)Ae(null,Se[He])}else{if(Le===0)return void te("CEA-608: No timescale for embeddedTextTrack yet");var Ut=function(It,gt){function yt(Dt,Nt,St){var Mt=null;we.getTTMLRenderingDiv()?Mt=ze.createHTMLCaptionsFromScreen(we.getElement(),Dt,Nt,St):Mt=[{start:Dt,end:Nt,data:St.getDisplayText(),styles:{}}],Mt&&J.addCaptions(gt,0,Mt)}return yt};st=H.getSamplesInfo(Ie);var At=st.lastSequenceNumber;if(!Xe[0]&&!Xe[1]){var Pt=void 0,ut=void 0;for(He=0;He<Se.length;He++){if(Se[He].id===u.default.CC1?ut=J.getTrackIdxForId(u.default.CC1):Se[He].id===u.default.CC3&&(ut=J.getTrackIdxForId(u.default.CC3)),ut===-1)return void te("CEA-608: data before track is ready.");Pt=Ut(this,ut),Xe[He]=new de.default.Cea608Parser(He,{newCue:Pt},null)}}if(Le&&$e.indexOf(At)==-1){if(ke!==null&&At!==ke+st.numSequences)for(He=0;He<Xe.length;He++)Xe[He]&&Xe[He].reset();for(var qe=g(Ie,st.sampleList),it=0;it<Xe.length;it++){var ct=qe.fields[it],Et=Xe[it];if(Et)for(He=0;He<ct.length;He++)Et.addData(ct[He][0]/Le,ct[He][1])}ke=At,$e.push(At)}}}function g(Ie,Be){if(Be.length===0)return null;for(var Ae={splits:[],fields:[[],[]]},Me=new DataView(Ie),je=0;je<Be.length;je++)for(var He=Be[je],Pe=de.default.findCea608Nalus(Me,He.offset,He.size),Re=null,st=0,Qe=0;Qe<Pe.length;Qe++)for(var We=de.default.extractCea608DataFromRange(Me,Pe[Qe]),ne=0;ne<2;ne++)We[ne].length>0&&(He.cts!==Re?st=0:st+=1,Ae.fields[ne].push([He.cts,We[ne],st]),Re=He.cts);return Ae.fields.forEach(function(fe){fe.sort(function(_e,pe){return _e[0]===pe[0]?_e[2]-pe[2]:_e[0]-pe[0]})}),Ae}function I(Ie){var Be=!1;return Se.length>1&&Ie.isEmbedded?Be=Ie.id&&Ie.id===u.default.CC1:Se.length===1?Ie.id&&Ie.id.substring(0,2)==="CC"&&(Be=!0):Se.length===0&&(Be=Ie.index===j[0].index),Be}function P(Ie){var Be=void 0;return Ie.search(u.default.VTT)>=0?Be=d:(Ie.search(u.default.TTML)>=0||Ie.search(u.default.STPP)>=0)&&(Be=A),Be}function U(Ie,Be){Ie===void 0&&Ie===Be&&(Ie=this.buffered.start(0),Be=this.buffered.end(this.buffered.length-1)),this.buffered.remove(Ie,Be)}var B=this.context,te=(0,V.default)(B).getInstance().log,S=(0,W.default)(B).getInstance(),N=!1,C=void 0,x=void 0,z=void 0,Y=void 0,K=void 0,Q=void 0,d=void 0,A=void 0,H=void 0,j=void 0,J=void 0,oe=void 0,ve=void 0,ge=void 0,ye=void 0,Ee=void 0,we=void 0,Ne=void 0,Ce=void 0,xe=void 0,Se=void 0,Le=void 0,ke=void 0,$e=void 0,Xe=void 0,ze=void 0;return{initialize:ce,append:c,abort:le,addEmbeddedTrack:i,resetEmbedded:e,setConfig:n,getConfig:r,setCurrentFragmentedTrackIdx:o,remove:U}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(98),u=l(p),y=t(179),v=t(171),b=l(v),m=t(71),T=l(m),R=t(143),E=l(R),F=t(145),L=l(F),k=t(48),q=l(k),Z=t(46),V=l(Z),D=t(139),M=l(D),X=t(134),w=l(X),O=t(10),G=l(O),ee=t(2),de=l(ee),ie=t(47),W=l(ie),re=t(51),ue=l(re);f.__dashjs_factory_name="TextSourceBuffer",h.default=q.default.getSingletonFactory(f),_.exports=h.default},{10:10,134:134,139:139,143:143,145:145,171:171,179:179,2:2,46:46,47:47,48:48,51:51,71:71,98:98}],139:[function(t,_,h){function l(k){return k&&k.__esModule?k:{default:k}}function f(){function k(){typeof window<"u"&&typeof navigator<"u"&&(I=window.VTTCue||window.TextTrackCue,U=[],B=[],te=-1,S=0,N=0,C=0,x=0,z=null,Y=null,d=!1,H=2147483647,A=null,K=!!navigator.userAgent.match(/Chrome/)&&!navigator.userAgent.match(/Edge/),document.fullscreenElement!==void 0?Q="fullscreenElement":document.webkitIsFullScreen!==void 0?Q="webkitIsFullScreen":document.msFullscreenElement?Q="msFullscreenElement":document.mozFullScreen&&(Q="mozFullScreen"))}function q(j){var J=U[j].kind,oe=U[j].label!==void 0?U[j].label:U[j].lang,ve=U[j].lang,ge=U[j].isTTML,ye=U[j].isEmbedded,Ee=K?document.createElement("track"):P.addTextTrack(J,oe,ve);return K&&(Ee.kind=J,Ee.label=oe,Ee.srclang=ve),Ee.isEmbedded=ye,Ee.isTTML=ge,Ee}function Z(j){d=j,z&&!document[Q]&&(z.style.zIndex=j?H:null)}function V(j,J){if(U.length===J)return void g("Trying to add too many tracks.");if(U.push(j),U.length===J){U.sort(function(Ne,Ce){return Ne.index-Ce.index}),z=P.getTTMLRenderingDiv();for(var oe=-1,ve=0;ve<U.length;ve++){var ge=q.call(this,ve);B.push(ge),U[ve].defaultTrack&&(ge.default=!0,oe=ve),K&&P.appendChild(ge);var ye=G(ve);ye&&(ye.mode=u.default.TEXT_SHOWING,z&&(U[ve].isTTML||U[ve].isEmbedded)?ye.renderingType="html":ye.renderingType="default"),this.addCaptions(ve,0,U[ve].captionData),c.trigger(m.default.TEXT_TRACK_ADDED)}if(ie.call(this,oe),oe>=0)for(var Ee=0;Ee<U.length;Ee++){var we=G(Ee);we&&(we.mode=Ee===oe?u.default.TEXT_SHOWING:u.default.TEXT_HIDDEN)}c.trigger(m.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:te,tracks:U})}}function D(j,J,oe,ve,ge,ye){var Ee=j/J,we=oe/ve,Ne=0,Ce=0;Ee>we?(Ce=J,Ne=Ce/ve*oe):(Ne=j,Ce=Ne/oe*ve);var xe=0,Se=0,Le=0,ke=0;return Ne/Ce>ge?(ke=Ce,Le=Ce*ge):(Le=Ne,ke=Ne/ge),xe=(j-Le)/2,Se=(J-ke)/2,ye?{x:xe+.1*Le,y:Se+.1*ke,w:.8*Le,h:.8*ke}:{x:xe,y:Se,w:Le,h:ke}}function M(j,J){var oe=P.getClientWidth(),ve=P.getClientHeight(),ge=P.getVideoWidth(),ye=P.getVideoHeight(),Ee=P.getVideoRelativeOffsetTop(),we=P.getVideoRelativeOffsetLeft(),Ne=ge/ye,Ce=!1;j.isFromCEA608&&(Ne=3.5/3,Ce=!0);var xe=D.call(this,oe,ve,ge,ye,Ne,Ce),Se=xe.w,Le=xe.h,ke=xe.x,$e=xe.y;if(Se!=C||Le!=x||ke!=S||$e!=N||J){S=ke+we,N=$e+Ee,C=Se,x=Le,z.style.left=S+"px",z.style.top=N+"px",z.style.width=C+"px",z.style.height=x+"px";for(var Xe=0;j.activeCues&&Xe<j.activeCues.length;++Xe){var ze=j.activeCues[Xe];ze.scaleCue(ze)}Q&&document[Q]||d?z.style.zIndex=H:z.style.zIndex=null}}function X(j){var J=C,oe=x,ve=void 0,ge=void 0,ye=void 0,Ee=void 0,we=void 0;if(j.cellResolution){var Ne=[J/j.cellResolution[0],oe/j.cellResolution[1]];if(j.linePadding){for(ve in j.linePadding)if(j.linePadding.hasOwnProperty(ve)){var Ce=j.linePadding[ve];ge=(Ce*Ne[0]).toString();for(var xe=document.getElementsByClassName("spanPadding"),Se=0;Se<xe.length;Se++)xe[Se].style.cssText=xe[Se].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+ge),xe[Se].style.cssText=xe[Se].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+ge)}}if(j.fontSize){for(ve in j.fontSize)if(j.fontSize.hasOwnProperty(ve)){j.fontSize[ve][0]==="%"?ye=j.fontSize[ve][1]/100:j.fontSize[ve][0]==="c"&&(ye=j.fontSize[ve][1]),ge=(ye*Ne[1]).toString(),we=ve!=="defaultFontSize"?document.getElementsByClassName(ve):document.getElementsByClassName("paragraph");for(var Le=0;Le<we.length;Le++)we[Le].style.cssText=we[Le].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+ge)}if(j.lineHeight){for(ve in j.lineHeight)if(j.lineHeight.hasOwnProperty(ve)){j.lineHeight[ve][0]==="%"?Ee=j.lineHeight[ve][1]/100:j.fontSize[ve][0]==="c"&&(Ee=j.lineHeight[ve][1]),ge=(Ee*Ne[1]).toString(),we=document.getElementsByClassName(ve);for(var ke=0;ke<we.length;ke++)we[ke].style.cssText=we[ke].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+ge)}}}}if(j.isd){var $e=document.getElementById(j.cueID);$e&&z.removeChild($e),w(j)}}function w(j){var J=document.createElement("div");z.appendChild(J),A=(0,L.renderHTML)(j.isd,J,function(oe){var ve=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,ge=/^#(.*)$/;if(ve.test(oe)){var ye=ve.exec(oe),Ee=parseInt(ye[4],10)-1,we=btoa(j.images[Ee]),Ne="data:image/png;base64,"+we;return Ne}if(ge.test(oe)){var ye=ge.exec(oe),Ee=ye[1],Ne="data:image/png;base64,"+j.embeddedImages[Ee];return Ne}return null},z.clientHeight,z.clientWidth,!1,function(oe){g("[TextTracks][renderCaption]",oe)},A,!0),J.id=j.cueID}function O(j,J,oe){var ve=G(j),ge=this;if(ve&&oe&&oe.length!==0)for(var ye in oe){var Ee=void 0,we=oe[ye];ve.cellResolution=we.cellResolution,ve.isFromCEA608=we.isFromCEA608,we.type==="html"?(Ee=new I(we.start-J,we.end-J,""),Ee.cueHTMLElement=we.cueHTMLElement,Ee.isd=we.isd,Ee.images=we.images,Ee.embeddedImages=we.embeddedImages,Ee.cueID=we.cueID,Ee.scaleCue=X.bind(ge),Ee.cellResolution=we.cellResolution,Ee.lineHeight=we.lineHeight,Ee.linePadding=we.linePadding,Ee.fontSize=we.fontSize,z.style.left=S+"px",z.style.top=N+"px",z.style.width=C+"px",z.style.height=x+"px",Ee.onenter=function(){ve.mode===u.default.TEXT_SHOWING&&(this.isd?(w(this),g("Cue enter id:"+this.cueID)):(z.appendChild(this.cueHTMLElement),X.call(ge,this)))},Ee.onexit=function(){for(var Ne=z.childNodes,Ce=0;Ce<Ne.length;++Ce)Ne[Ce].id===this.cueID&&(g("Cue exit id:"+Ne[Ce].id),z.removeChild(Ne[Ce]))}):(Ee=new I(we.start-J,we.end-J,we.data),we.styles&&(we.styles.align!==void 0&&"align"in Ee&&(Ee.align=we.styles.align),we.styles.line!==void 0&&"line"in Ee&&(Ee.line=we.styles.line),we.styles.position!==void 0&&"position"in Ee&&(Ee.position=we.styles.position),we.styles.size!==void 0&&"size"in Ee&&(Ee.size=we.styles.size))),ve.addCue(Ee)}}function G(j){return j>=0&&U[j]?P.getTextTrack(U[j].kind,U[j].label,U[j].lang,U[j].isTTML,U[j].isEmbedded):null}function ee(){return te}function de(j){for(var J=-1,oe=0;oe<U.length;oe++)if(U[oe].label===j){J=oe;break}return J}function ie(j){if(j!==te){te=j;var J=G(te);W.call(this,J),Y&&(clearInterval(Y),Y=null),J&&J.renderingType==="html"&&(M.call(this,J,!0),Y=setInterval(M.bind(this,J),500))}}function W(j){e.call(this),j&&j.renderingType==="html"?he.call(this):se.call(this)}function re(j){if(j.cues)for(var J=j.cues,oe=J.length-1,ve=oe;ve>=0;ve--)j.removeCue(J[ve])}function ue(j){var J=G(j);J&&re(J)}function ce(){for(var j=B?B.length:0,J=0;J<j;J++)if(K)P.removeChild(B[J]);else{var oe=G(J);oe&&(re.call(this,oe),oe.mode="disabled")}B=[],U=[],Y&&(clearInterval(Y),Y=null),te=-1,e.call(this)}function le(j){P.removeChild(B[j]),B.splice(j,1)}function he(){if(K){var j=document.getElementById("native-cue-style");if(!j){j=document.createElement("style"),j.id="native-cue-style",document.head.appendChild(j);var J=j.sheet,oe=P.getElement();oe&&(oe.id?J.insertRule("#"+oe.id+"::cue {background: transparent}",0):oe.classList.length!==0?J.insertRule("."+oe.className+"::cue {background: transparent}",0):J.insertRule("video::cue {background: transparent}",0))}}}function se(){if(K){var j=document.getElementById("native-cue-style");j&&document.head.removeChild(j)}}function e(){if(z)for(;z.firstChild;)z.removeChild(z.firstChild)}function i(j){j&&j.videoModel&&(P=j.videoModel)}function n(j,J){var oe=G(j);oe&&oe.mode!==J&&(oe.mode=J)}function r(){return U[te]}var o=this.context,c=(0,v.default)(o).getInstance(),g=(0,F.default)(o).getInstance().log,I=void 0,P=void 0,U=void 0,B=void 0,te=void 0,S=void 0,N=void 0,C=void 0,x=void 0,z=void 0,Y=void 0,K=void 0,Q=void 0,d=void 0,A=void 0,H=void 0;return{initialize:k,displayCConTop:Z,addTextTrack:V,addCaptions:O,getCurrentTrackIdx:ee,setCurrentTrackIdx:ie,getTrackIdxForId:de,getCurrentTrackInfo:r,setModeForTrackIdx:n,deleteCuesFromTrackIdx:ue,deleteAllTextTracks:ce,deleteTextTrack:le,setConfig:i}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(98),u=l(p),y=t(47),v=l(y),b=t(51),m=l(b),T=t(48),R=l(T),E=t(46),F=l(E),L=t(18);f.__dashjs_factory_name="TextTracks",h.default=R.default.getSingletonFactory(f),_.exports=h.default},{18:18,46:46,47:47,48:48,51:51,98:98}],140:[function(t,_,h){function l(k){return k&&k.__esModule?k:{default:k}}function f(k){function q(){w(),ee=(0,R.default)(O).create({dashManifestModel:k.dashManifestModel,adapter:k.adapter,baseURLController:k.baseURLController,stream:k.stream})}function Z(de){var ie=ee.getCurrentTrack();if(!ie||ie.segmentDuration<=0)return null;var W=Math.floor(de/ie.segmentDuration),re=de%ie.segmentDuration,ue=Math.floor(re*ie.tilesHor*ie.tilesVert/ie.segmentDuration),ce=new m.default;return ce.url=V(ie,W),ce.width=Math.floor(ie.widthPerTile),ce.height=Math.floor(ie.heightPerTile),ce.x=Math.floor(ue%ie.tilesHor)*ie.widthPerTile,ce.y=Math.floor(ue/ie.tilesHor)*ie.heightPerTile,ce}function V(de,ie){var W=ie+de.startNumber,re=(0,L.replaceTokenForTemplate)(de.templateUrl,"Number",W);return re=(0,L.replaceTokenForTemplate)(re,"Time",(W-1)*de.segmentDuration),re=(0,L.replaceTokenForTemplate)(re,"Bandwidth",de.bandwidth),(0,L.unescapeDollarsInTemplate)(re)}function D(de){ee.setTrackByIndex(de)}function M(){return ee.getCurrentTrackIndex()}function X(){var de=ee.getTracks();if(!de||de.length===0)return[];var ie=0;return de.map(function(W){var re=new F.default;return re.mediaType=v.default.IMAGE,re.qualityIndex=ie++,re.bitrate=W.bitrate,re.width=W.width,re.height=W.height,re})}function w(){ee&&ee.reset()}var O=this.context,G=void 0,ee=void 0;return G={get:Z,setTrackByIndex:D,getCurrentTrackIndex:M,getBitrateList:X,reset:w},q(),G}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p),y=t(98),v=l(y),b=t(172),m=l(b),T=t(141),R=l(T),E=t(159),F=l(E),L=t(74);f.__dashjs_factory_name="ThumbnailController",h.default=u.default.getClassFactory(f),_.exports=h.default},{141:141,159:159,172:172,48:48,74:74,98:98}],141:[function(t,_,h){function l(q){return q&&q.__esModule?q:{default:q}}function f(q){function Z(){ee(),V()}function V(){if(ue&&ie&&W){var e=ue?ue.getStreamInfo():null;if(e){var i=W.getMediaInfoForType(e,u.default.IMAGE);if(i){var n=W.getDataForMedia(i);if(n){var r=ie.getRepresentationsForAdaptation(n);r&&r.length>0&&r.forEach(function(o){o.segmentInfoType===v.default.SEGMENT_TEMPLATE&&o.segmentDuration>0&&o.media&&D(o)}),he.length>0&&(he.sort(function(o,c){return o.bitrate-c.bitrate}),se=he.length-1)}}}}}function D(e){var i=new R.default;i.id=e.id,i.bitrate=e.bandwidth,i.width=e.width,i.height=e.height,i.tilesHor=1,i.tilesVert=1,i.startNumber=e.startNumber,i.segmentDuration=e.segmentDuration,i.timescale=e.timescale,i.templateUrl=M(e),e.essentialProperties&&e.essentialProperties.forEach(function(n){if(n.schemeIdUri===k&&n.value){var r=n.value.split("x");r.length!==2||isNaN(r[0])||isNaN(r[1])||(i.tilesHor=parseInt(r[0],10),i.tilesVert=parseInt(r[1],10))}}),i.tilesHor>0&&i.tilesVert>0&&(i.widthPerTile=i.width/i.tilesHor,i.heightPerTile=i.height/i.tilesVert,he.push(i))}function M(e){var i=ce.isRelative(e.media)?ce.resolve(e.media,re.resolve(e.path).url):e.media;return i?(0,L.replaceIDForTemplate)(i,e.id):""}function X(){return he}function w(){return se}function O(){return se<0?null:he[se]}function G(e){he&&he.length!==0&&(e>=he.length&&(e=he.length-1),se=e)}function ee(){he=[],se=-1}var de=this.context,ie=q.dashManifestModel,W=q.adapter,re=q.baseURLController,ue=q.stream,ce=(0,F.default)(de).getInstance(),le=void 0,he=void 0,se=void 0;return le={initialize:Z,getTracks:X,reset:ee,setTrackByIndex:G,getCurrentTrack:O,getCurrentTrackIndex:w},Z(),le}Object.defineProperty(h,"__esModule",{value:!0});var p=t(98),u=l(p),y=t(58),v=l(y),b=t(48),m=l(b),T=t(173),R=l(T),E=t(155),F=l(E),L=t(74),k="http://dashif.org/thumbnail_tile";f.__dashjs_factory_name="ThumbnailTracks",h.default=m.default.getClassFactory(f),_.exports=h.default},{155:155,173:173,48:48,58:58,74:74,98:98}],142:[function(t,_,h){function l(D){return D&&D.__esModule?D:{default:D}}function f(){function D(){re=(0,m.default)(ee).create({updateEventName:v.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:v.default.SERVICE_LOCATION_BLACKLIST_ADD}),ue=(0,F.default)(ee).create({blacklistController:re}),ce=(0,R.default)(ee).create({blacklistController:re}),le=ue}function M(he){he.selector&&(le=he.selector),he.dashManifestModel&&(ie=he.dashManifestModel)}function X(){if(!ie||!ie.hasOwnProperty("getIsDVB"))throw new Error("Missing config parameter(s)")}function w(he){X(),le=ie.getIsDVB(he)?ce:ue}function O(he){var se=he.baseUrls,e=he.selectedIdx;if(!isNaN(e))return se[e];var i=le.select(se);return i?(he.selectedIdx=se.indexOf(i),i):void de.trigger(v.default.URL_RESOLUTION_FAILED,{error:new Error(q,Z)})}function G(){re.reset()}var ee=this.context,de=(0,u.default)(ee).getInstance(),ie=void 0,W=void 0,re=void 0,ue=void 0,ce=void 0,le=void 0;return W={chooseSelectorFromManifest:w,select:O,reset:G,setConfig:M},D(),W}Object.defineProperty(h,"__esModule",{value:!0});var p=t(47),u=l(p),y=t(51),v=l(y),b=t(102),m=l(b),T=t(158),R=l(T),E=t(157),F=l(E),L=t(48),k=l(L),q=1,Z="Failed to resolve a valid URL";f.__dashjs_factory_name="BaseURLSelector";var V=k.default.getClassFactory(f);V.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=q,V.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE=Z,k.default.updateClassFactory(f.__dashjs_factory_name,V),h.default=V,_.exports=h.default},{102:102,157:157,158:158,47:47,48:48,51:51}],143:[function(t,_,h){function l(T){return T&&T.__esModule?T:{default:T}}function f(){function T(E){if(!E)return null;E.fileStart===void 0&&(E.fileStart=0);var F=m.default.parseBuffer(E),L=(0,u.default)(R).create();return L.setData(F),L}var R=this.context;return{parse:T}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(150),u=l(p),y=t(48),v=l(y),b=t(10),m=l(b);f.__dashjs_factory_name="BoxParser",h.default=v.default.getSingletonFactory(f),_.exports=h.default},{10:10,150:150,48:48}],144:[function(t,_,h){function l(y){return y&&y.__esModule?y:{default:y}}function f(){function y(){E=!1}function v(){var F="WebKitMediaSource"in window,L="MediaSource"in window;return F||L}function b(){return E}function m(F){E=F}function T(F){return!!("MediaSource"in window&&MediaSource.isTypeSupported(F))||!!("WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(F))}var R=void 0,E=void 0;return R={supportsMediaSource:v,supportsEncryptedMedia:b,supportsCodec:T,setEncryptedMediaSupported:m},y(),R}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p);f.__dashjs_factory_name="Capabilities",h.default=u.default.getSingletonFactory(f),_.exports=h.default},{48:48}],145:[function(t,_,h){function l(y){return y&&y.__esModule?y:{default:y}}function f(){function y(F,L){var k=0;for(k=0;k<this.customTimeRangeArray.length&&F>this.customTimeRangeArray[k].start;k++);for(this.customTimeRangeArray.splice(k,0,{start:F,end:L}),k=0;k<this.customTimeRangeArray.length-1;k++)this.mergeRanges(k,k+1)&&k--;this.length=this.customTimeRangeArray.length}function v(){this.customTimeRangeArray=[],this.length=0}function b(F,L){for(var k=0;k<this.customTimeRangeArray.length;k++)if(F<=this.customTimeRangeArray[k].start&&L>=this.customTimeRangeArray[k].end)this.customTimeRangeArray.splice(k,1),k--;else{if(F>this.customTimeRangeArray[k].start&&L<this.customTimeRangeArray[k].end){this.customTimeRangeArray.splice(k+1,0,{start:L,end:this.customTimeRangeArray[k].end}),this.customTimeRangeArray[k].end=F;break}F>this.customTimeRangeArray[k].start&&F<this.customTimeRangeArray[k].end?this.customTimeRangeArray[k].end=F:L>this.customTimeRangeArray[k].start&&L<this.customTimeRangeArray[k].end&&(this.customTimeRangeArray[k].start=L)}this.length=this.customTimeRangeArray.length}function m(F,L){var k=this.customTimeRangeArray[F],q=this.customTimeRangeArray[L];return k.start<=q.start&&q.start<=k.end&&k.end<=q.end?(k.end=q.end,this.customTimeRangeArray.splice(L,1),!0):q.start<=k.start&&k.start<=q.end&&q.end<=k.end?(k.start=q.start,this.customTimeRangeArray.splice(L,1),!0):q.start<=k.start&&k.start<=q.end&&k.end<=q.end?(this.customTimeRangeArray.splice(F,1),!0):k.start<=q.start&&q.start<=k.end&&q.end<=k.end&&(this.customTimeRangeArray.splice(L,1),!0)}function T(F){if(F===null||isNaN(F)||F%1!=0)throw new Error("index argument is not an integer")}function R(F){return T(F),F>=this.customTimeRangeArray.length||F<0?NaN:this.customTimeRangeArray[F].start}function E(F){return T(F),F>=this.customTimeRangeArray.length||F<0?NaN:this.customTimeRangeArray[F].end}return{customTimeRangeArray:[],length:0,add:y,clear:v,remove:b,mergeRanges:m,start:R,end:E}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p);f.__dashjs_factory_name="CustomTimeRanges",h.default=u.default.getClassFactory(f),_.exports=h.default},{48:48}],146:[function(t,_,h){function l(q){return q&&q.__esModule?q:{default:q}}function f(q){function Z(le){if(ce!==void 0)return ce;ce=!1;var he="1",se="1",e=void 0;try{typeof window<"u"&&(e=window[le])}catch(i){return W("Warning: DOMStorage access denied: "+i.message),ce}if(!e||le!==R&&le!==E)return ce;try{e.setItem(he,se),e.removeItem(he),ce=!0}catch(i){W("Warning: DOMStorage is supported, but cannot be used: "+i.message)}return ce}function V(){Z(R)&&b.forEach(function(le){var he=localStorage.getItem(le.oldKey);if(he){localStorage.removeItem(le.oldKey);try{localStorage.setItem(le.newKey,he)}catch(se){W(se.message)}}})}function D(){V()}function M(){var le=6e5;return Math.round(new Date().getTime()/le)*le}function X(le,he){return Z(le)&&re["get"+he+"CachingInfo"]().enabled}function w(){if(!re||!re.hasOwnProperty("getLastMediaSettingsCachingInfo"))throw new Error("Missing config parameter(s)")}function O(le){if(w(),!X(R,L))return null;var he=null,se=T.replace(/\?/,le);try{var e=JSON.parse(localStorage.getItem(se))||{},i=new Date().getTime()-parseInt(e.timestamp,10)>=re.getLastMediaSettingsCachingInfo().ttl||!1;he=e.settings,i&&(localStorage.removeItem(se),he=null)}catch{return null}return he}function G(le){var he=NaN;if(w(),X(R,F)){var se=m.replace(/\?/,le);try{var e=JSON.parse(localStorage.getItem(se))||{},i=new Date().getTime()-parseInt(e.timestamp,10)>=re.getLastMediaSettingsCachingInfo().ttl||!1,n=parseFloat(e.bitrate);isNaN(n)||i?i&&localStorage.removeItem(se):(he=n,W("Last saved bitrate for "+le+" was "+n))}catch{return null}}return he}function ee(le,he){if(X(R,L)){var se=T.replace(/\?/,le);try{localStorage.setItem(se,JSON.stringify({settings:he,timestamp:M()}))}catch(e){W(e.message)}}}function de(le,he){if(X(R,F)&&he){var se=m.replace(/\?/,le);try{localStorage.setItem(se,JSON.stringify({bitrate:he.toFixed(3),timestamp:M()}))}catch(e){W(e.message)}}}q=q||{};var ie=this.context,W=(0,v.default)(ie).getInstance().log,re=q.mediaPlayerModel,ue=void 0,ce=void 0;return ue={getSavedBitrateSettings:G,setSavedBitrateSettings:de,getSavedMediaSettings:O,setSavedMediaSettings:ee},D(),ue}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p),y=t(46),v=l(y),b=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],m="dashjs_?_bitrate",T="dashjs_?_settings",R="localStorage",E="sessionStorage",F="LastBitrate",L="LastMediaSettings";f.__dashjs_factory_name="DOMStorage";var k=u.default.getSingletonFactory(f);h.default=k,_.exports=h.default},{46:46,48:48}],147:[function(t,_,h){function l(y){return y&&y.__esModule?y:{default:y}}function f(y){function v(){return D}function b(M){D=M}function m(M,X){var w=!0,O=0,G=void 0,ee=void 0;if(X===void 0&&(X=!1),M.tag>16777215?(V.getUint32(D)!==M.tag&&(w=!1),O=4):M.tag>65535?(G=V.getUint16(D),ee=V.getUint8(D+2),256*G+ee!==M.tag&&(w=!1),O=3):M.tag>255?(V.getUint16(D)!==M.tag&&(w=!1),O=2):(V.getUint8(D)!==M.tag&&(w=!1),O=1),!w&&M.required&&!X)throw new Error("required tag not found");return w&&(D+=O),w}function T(M,X){var w=m(M,X);return w&&F(),w}function R(M){var X=void 0;return m(M),X=F(),Z[M.parse](X)}function E(M,X){var w=m(M,X),O=void 0;return w&&(O=F(),D+=O),w}function F(M){var X=1,w=128,O=8,G=-1,ee=0,de=V.getUint8(D),ie=0;for(ie=0;ie<O;ie+=1){if((de&w)===w){ee=M===void 0?de&~w:de,G=ie;break}w>>=1}for(ie=0;ie<G;ie+=1,X+=1)ee=ee<<8|255&V.getUint8(D+X);return D+=X,ee}function L(M){var X=void 0;switch(M){case 4:X=V.getFloat32(D),D+=4;break;case 8:X=V.getFloat64(D),D+=8}return X}function k(M){for(var X=0,w=0;w<M;w+=1)X<<=8,X|=255&V.getUint8(D+w);return D+=M,X}function q(){return D<V.byteLength}y=y||{};var Z=void 0,V=new DataView(y.data),D=0;return Z={getPos:v,setPos:b,consumeTag:m,consumeTagAndSize:T,parseTag:R,skipOverElement:E,getMatroskaCodedNum:F,getMatroskaFloat:L,getMatroskaUint:k,moreData:q}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p);f.__dashjs_factory_name="EBMLParser",h.default=u.default.getClassFactory(f),_.exports=h.default},{48:48}],148:[function(t,_,h){function l(w){return w&&w.__esModule?w:{default:w}}function f(){function w(ce){ue.trigger(v.default.ERROR,{error:"capability",event:ce})}function O(ce,le,he){ue.trigger(v.default.ERROR,{error:"download",event:{id:ce,url:le,request:he}})}function G(ce,le,he,se){ue.trigger(v.default.ERROR,{error:"manifestError",event:{message:ce,id:le,manifest:he,event:se}})}function ee(ce,le,he){ue.trigger(v.default.ERROR,{error:"cc",event:{message:ce,id:le,cc:he}})}function de(ce){ue.trigger(v.default.ERROR,{error:"mediasource",event:ce})}function ie(ce){ue.trigger(v.default.ERROR,{error:"key_session",event:ce})}function W(ce){ue.trigger(v.default.ERROR,{error:"key_message",event:ce})}var re=this.context,ue=(0,u.default)(re).getInstance();return{capabilityError:w,downloadError:O,manifestError:G,timedTextError:ee,mediaSourceError:de,mediaKeySessionError:ie,mediaKeyMessageError:W}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(47),u=l(p),y=t(51),v=l(y),b=t(48),m=l(b),T="mediasource",R="mediakeys",E="manifest",F="SIDX",L="content",k="initialization",q="xlink",Z="codec",V="parse",D="nostreams",M="parse";f.__dashjs_factory_name="ErrorHandler";var X=m.default.getSingletonFactory(f);X.CAPABILITY_ERROR_MEDIASOURCE=T,X.CAPABILITY_ERROR_MEDIAKEYS=R,X.DOWNLOAD_ERROR_ID_MANIFEST=E,X.DOWNLOAD_ERROR_ID_SIDX=F,X.DOWNLOAD_ERROR_ID_CONTENT=L,X.DOWNLOAD_ERROR_ID_INITIALIZATION=k,X.DOWNLOAD_ERROR_ID_XLINK=q,X.MANIFEST_ERROR_ID_CODEC=Z,X.MANIFEST_ERROR_ID_PARSE=V,X.MANIFEST_ERROR_ID_NOSTREAMS=D,X.TIMED_TEXT_ERROR_ID_PARSE=M,m.default.updateSingletonFactory(f.__dashjs_factory_name,X),h.default=X,_.exports=h.default},{47:47,48:48,51:51}],149:[function(t,_,h){function l(y){return y&&y.__esModule?y:{default:y}}function f(){function y(T){var R=T.streamId,E=T.representationId;m[R]=m[R]||{},m[R][E]=T}function v(T,R){return m&&m[T]&&m[T][R]?m[T][R]:null}function b(){m={}}var m={};return{save:y,extract:v,reset:b}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p);f.__dashjs_factory_name="InitCache",h.default=u.default.getSingletonFactory(f),_.exports=h.default},{48:48}],150:[function(t,_,h){function l(b){return b&&b.__esModule?b:{default:b}}function f(){function b(L){return L&&F&&F.boxes&&F.boxes.length!==0&&typeof F.fetch=="function"?E(F.fetch(L)):null}function m(L){var k=[];if(!L||!F||typeof F.fetchAll!="function")return k;for(var q=F.fetchAll(L),Z=void 0,V=0,D=q.length;V<D;V++)(Z=E(q[V]))&&k.push(Z);return k}function T(L){F=L}function R(){if(!F||!F.boxes||!F.boxes.length)return null;var L=F.boxes[F.boxes.length-1].type,k=m(L);return k.length>0?k[k.length-1]:null}function E(L){if(!L)return null;var k=new u.default(L);return L.hasOwnProperty("_incomplete")&&(k.isComplete=!L._incomplete),k}var F=void 0;return{getBox:b,getBoxes:m,setData:T,getLastBox:R}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(164),u=l(p),y=t(48),v=l(y);f.__dashjs_factory_name="IsoFile",h.default=v.default.getClassFactory(f),_.exports=h.default},{164:164,48:48}],151:[function(t,_,h){function l(y){return y&&y.__esModule?y:{default:y}}function f(y){function v(){if(!(T&&T.hasOwnProperty("getExpectedLiveEdge")&&R&&R.hasOwnProperty("getCurrentRepresentationInfo")))throw new Error("Missing config parameter(s)")}function b(){v();var E=R.getCurrentRepresentationInfo(),F=E.DVRWindow.end;return E.useCalculatedLiveEdgeTime&&(F=T.getExpectedLiveEdge(),T.setClientTimeOffset(F-E.DVRWindow.end)),F}function m(){T=null,R=null}y=y||{};var T=y.timelineConverter,R=y.streamProcessor;return{getLiveEdge:b,reset:m}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p);f.__dashjs_factory_name="LiveEdgeFinder",h.default=u.default.getClassFactory(f),_.exports=h.default},{48:48}],152:[function(t,_,h){function l(b){return b&&b.__esModule?b:{default:b}}function f(){function b(m,T){return(0,v.default)(m,T)}return{areEqual:b}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p),y=t(13),v=l(y);f.__dashjs_factory_name="ObjectUtils",h.default=u.default.getSingletonFactory(f),_.exports=h.default},{13:13,48:48}],153:[function(t,_,h){function l(y){return y&&y.__esModule?y:{default:y}}function f(){function y(b){return b}function v(b){return b}return{modifyRequestURL:y,modifyRequestHeader:v}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p);f.__dashjs_factory_name="RequestModifier",h.default=u.default.getSingletonFactory(f),_.exports=h.default},{48:48}],154:[function(t,_,h){function l(F){return F&&F.__esModule?F:{default:F}}function f(){function F(){var M="cue_TTML_"+D;return D++,M}function L(M,X,w,O,G){var ee=void 0,de=void 0,ie="",W=[],re=void 0,ue=void 0,ce={},le="",he="",se={onOpenTag:function(r,o,c){if(o==="image"&&r==="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"){if(!c[" imagetype"]||c[" imagetype"].value!=="PNG")return void q("Warning: smpte-tt imagetype != PNG. Discarded");le=c["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){le&&(ce[le]=he.trim()),he="",le=""},onText:function(r){le&&(he+=r)}};if(!M)throw ie="no ttml data to parse",new Error(ie);var e=(0,E.fromXML)(M,function(r){ie=r},se);Z.trigger(R.default.TTML_PARSED,{ttmlString:M,ttmlDoc:e});var i=e.getMediaTimeEvents();for(ee=0;ee<i.length;ee++){var n=(0,E.generateISD)(e,i[ee],function(r){ie=r});for(de=0;de<n.contents.length;de++)n.contents[de].contents.length>=1&&(re=i[ee]+X<w?w:i[ee]+X,ue=i[ee+1]+X>O?O:i[ee+1]+X,re<ue&&W.push({start:re,end:ue,type:"html",cueID:F(),isd:n,images:G,embeddedImages:ce}))}if(ie!==""&&q(ie),W.length>0)return W;throw new Error(ie)}var k=this.context,q=(0,v.default)(k).getInstance().log,Z=(0,m.default)(k).getInstance(),V=void 0,D=0;return V={parse:L},V}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p),y=t(46),v=l(y),b=t(47),m=l(b),T=t(51),R=l(T),E=t(18);f.__dashjs_factory_name="TTMLParser",h.default=u.default.getSingletonFactory(f),_.exports=h.default},{18:18,46:46,47:47,48:48,51:51}],155:[function(t,_,h){function l(y){return y&&y.__esModule?y:{default:y}}function f(){function y(){try{new window.URL("x","http://y"),q=X}catch{}finally{q=q||w}}function v(O){var G=O.indexOf("/"),ee=O.lastIndexOf("/");return G!==-1?ee===G+1?O:(O.indexOf("?")!==-1&&(O=O.substring(0,O.indexOf("?"))),O.substring(0,ee+1)):""}function b(O){var G=O.match(M);return G?G[1]:""}function m(O){var G=O.match(Z);return G?G[0]:""}function T(O){return!Z.test(O)}function R(O){return T(O)&&O.charAt(0)==="/"}function E(O){return O.indexOf("//")===0}function F(O){return V.test(O)}function L(O){return D.test(O)}function k(O,G){return q(O,G)}var q=void 0,Z=/^[a-z][a-z0-9+\-.]*:/i,V=/^https?:\/\//i,D=/^https:\/\//i,M=/^([a-z][a-z0-9+\-.]*:\/\/[^\/]+)\/?/i,X=function(O,G){try{return new window.URL(O,G).toString()}catch{return O}},w=function(O,G){var ee=v;if(!G||!T(O))return O;R(O)&&(ee=b),E(O)&&(ee=m);var de=ee(G);return[de,O].join(de.charAt(de.length-1)!=="/"&&O.charAt(0)!=="/"?"/":"")};return y(),{parseBaseUrl:v,parseOrigin:b,parseScheme:m,isRelative:T,isPathAbsolute:R,isSchemeRelative:E,isHTTPURL:F,isHTTPS:L,resolve:k}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p);f.__dashjs_factory_name="URLUtils",h.default=u.default.getSingletonFactory(f),_.exports=h.default},{48:48}],156:[function(t,_,h){function l(m){return m&&m.__esModule?m:{default:m}}function f(){function m(){V=/(?:\r\n|\r|\n)/gm,D=/-->/,M=/(^[\s]+|[\s]+$)/g,X=/\s\b/g}function T(w){var O=[],G=void 0,ee=void 0;if(!w)return O;w=w.split(V),G=w.length,ee=-1;for(var de=0;de<G;de++){var ie=w[de];if(ie.length>0&&ie!==b&&ie.match(D)){var W=E(ie),re=W.cuePoints,ue=W.styles,ce=L(w,de+1),le=R(re[0].replace(M,"")),he=R(re[1].replace(M,""));!isNaN(le)&&!isNaN(he)&&le>=ee&&he>le?ce!==""?(ee=le,O.push({start:le,end:he,data:ce,styles:ue})):q("Skipping cue due to empty/malformed cue text"):q("Skipping cue due to incorrect cue timing")}}return O}function R(w){var O=w.split(":"),G=O.length-1;return w=60*parseInt(O[G-1],10)+parseFloat(O[G]),G===2&&(w+=3600*parseInt(O[0],10)),w}function E(w){var O=w.split(D),G=O[1].split(X);return G.shift(),O[1]=G[0],G.shift(),{cuePoints:O,styles:F(G)}}function F(w){var O={};return w.forEach(function(G){if(G.split(/:/).length>1){var ee=G.split(/:/)[1];ee&&ee.search(/%/)!=-1&&(ee=parseInt(ee.replace(/%/,""),10)),(G.match(/align/)||G.match(/A/))&&(O.align=ee),(G.match(/line/)||G.match(/L/))&&(O.line=ee),(G.match(/position/)||G.match(/P/))&&(O.position=ee),(G.match(/size/)||G.match(/S/))&&(O.size=ee)}}),O}function L(w,O){for(var G=O,ee="",de="",ie=void 0;w[G]!==""&&G<w.length;)G++;if((ie=G-O)>1)for(var W=0;W<ie;W++){if(de=w[O+W],de.match(D)){ee="";break}ee+=de,W!==ie-1&&(ee+=`
`)}else de=w[O],de.match(D)||(ee=de);return ee}var k=this.context,q=(0,v.default)(k).getInstance().log,Z=void 0,V=void 0,D=void 0,M=void 0,X=void 0;return Z={parse:T},m(),Z}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p),y=t(46),v=l(y),b="WEBVTT";f.__dashjs_factory_name="VTTParser",h.default=u.default.getSingletonFactory(f),_.exports=h.default},{46:46,48:48}],157:[function(t,_,h){function l(y){return y&&y.__esModule?y:{default:y}}function f(y){function v(m){var T=0,R=void 0;return m&&m.some(function(E,F){return T=F,!b.contains(E.serviceLocation)})&&(R=m[T]),R}y=y||{};var b=y.blacklistController;return{select:v}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p);f.__dashjs_factory_name="BasicSelector",h.default=u.default.getClassFactory(f),_.exports=h.default},{48:48}],158:[function(t,_,h){function l(y){return y&&y.__esModule?y:{default:y}}function f(y){function v(R){var E=[],F=function(k){return!E.length||!k.dvb_priority||E.indexOf(k.dvb_priority)===-1},L=function(k){return!T.contains(k.serviceLocation)||(k.dvb_priority&&E.push(k.dvb_priority),!1)};return R.filter(L).filter(F)}function b(R){var E=function(D,M){var X=D.dvb_priority-M.dvb_priority;return isNaN(X)?0:X},F=function(D,M,X){return!M||X[0].dvb_priority&&D.dvb_priority&&X[0].dvb_priority===D.dvb_priority},L=0,k=[],q=0,Z=void 0,V=void 0;if(V=R.sort(E).filter(F),V.length)return V.length>1&&(V.forEach(function(D){L+=D.dvb_weight,k.push(L)}),Z=Math.floor(Math.random()*(L-1)),k.every(function(D,M){return q=M,!(Z<D)})),V[q]}function m(R){return R&&b(v(R))}y=y||{};var T=y.blacklistController;return{select:m}}Object.defineProperty(h,"__esModule",{value:!0});var p=t(48),u=l(p);f.__dashjs_factory_name="DVBSelector",h.default=u.default.getClassFactory(f),_.exports=h.default},{48:48}],159:[function(t,_,h){function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function p(){l(this,p),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN};h.default=f,_.exports=h.default},{}],160:[function(t,_,h){function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function p(u,y,v){l(this,p),this.code=u||null,this.message=y||null,this.data=v||null};h.default=f,_.exports=h.default},{}],161:[function(t,_,h){function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function p(){l(this,p),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null};h.default=f,_.exports=h.default},{}],162:[function(t,_,h){function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function p(){l(this,p),this.action=p.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null};f.ACTION_DOWNLOAD="download",f.ACTION_COMPLETE="complete",h.default=f,_.exports=h.default},{}],163:[function(t,_,h){function l(m){return m&&m.__esModule?m:{default:m}}function f(m,T){if(!(m instanceof T))throw new TypeError("Cannot call a class as a function")}function p(m,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);m.prototype=Object.create(T&&T.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(m,T):m.__proto__=T)}Object.defineProperty(h,"__esModule",{value:!0});var u=function(m,T,R){for(var E=!0;E;){var F=m,L=T,k=R;E=!1,F===null&&(F=Function.prototype);var q=Object.getOwnPropertyDescriptor(F,L);if(q!==void 0){if("value"in q)return q.value;var Z=q.get;return Z===void 0?void 0:Z.call(k)}var V=Object.getPrototypeOf(F);if(V===null)return;m=V,T=L,R=k,E=!0,q=V=void 0}},y=t(162),v=l(y),b=function(m){function T(R){f(this,T),u(Object.getPrototypeOf(T.prototype),"constructor",this).call(this),this.url=R||null,this.checkForExistenceOnly=!0}return p(T,m),T}(v.default);h.default=b,_.exports=h.default},{162:162}],164:[function(t,_,h){function l(u,y){if(!(u instanceof y))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function(){function u(y,v){for(var b=0;b<v.length;b++){var m=v[b];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(y,m.key,m)}}return function(y,v,b){return v&&u(y.prototype,v),b&&u(y,b),y}}(),p=function(){function u(y){if(l(this,u),this.offset=y._offset,this.type=y.type,this.size=y.size,this.boxes=[],y.boxes)for(var v=0;v<y.boxes.length;v++)this.boxes.push(new u(y.boxes[v]));switch(this.isComplete=!0,y.type){case"sidx":if(this.timescale=y.timescale,this.earliest_presentation_time=y.earliest_presentation_time,this.first_offset=y.first_offset,this.references=y.references,y.references){this.references=[];for(var v=0;v<y.references.length;v++){var b={reference_type:y.references[v].reference_type,referenced_size:y.references[v].referenced_size,subsegment_duration:y.references[v].subsegment_duration};this.references.push(b)}}break;case"emsg":this.id=y.id,this.value=y.value,this.timescale=y.timescale,this.scheme_id_uri=y.scheme_id_uri,this.presentation_time_delta=y.presentation_time_delta,this.event_duration=y.event_duration,this.message_data=y.message_data;break;case"mdhd":this.timescale=y.timescale;break;case"mfhd":this.sequence_number=y.sequence_number;break;case"subs":this.entry_count=y.entry_count,this.entries=y.entries;break;case"tfhd":this.base_data_offset=y.base_data_offset,this.sample_description_index=y.sample_description_index,this.default_sample_duration=y.default_sample_duration,this.default_sample_size=y.default_sample_size,this.default_sample_flags=y.default_sample_flags,this.flags=y.flags;break;case"tfdt":this.version=y.version,this.baseMediaDecodeTime=y.baseMediaDecodeTime,this.flags=y.flags;break;case"trun":if(this.sample_count=y.sample_count,this.first_sample_flags=y.first_sample_flags,this.data_offset=y.data_offset,this.flags=y.flags,this.samples=y.samples,y.samples){this.samples=[];for(var v=0,m=y.samples.length;v<m;v++){var T={sample_size:y.samples[v].sample_size,sample_duration:y.samples[v].sample_duration,sample_composition_time_offset:y.samples[v].sample_composition_time_offset};this.samples.push(T)}}}}return f(u,[{key:"getChildBox",value:function(y){for(var v=0;v<this.boxes.length;v++)if(this.boxes[v].type===y)return this.boxes[v]}},{key:"getChildBoxes",value:function(y){for(var v=[],b=0;b<this.boxes.length;b++)this.boxes[b].type===y&&v.push(this.boxes[b]);return v}}]),u}();h.default=p,_.exports=h.default},{}],165:[function(t,_,h){function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function p(){l(this,p),this.DVRWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null};h.default=f,_.exports=h.default},{}],166:[function(t,_,h){function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function p(){l(this,p),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null};h.default=f,_.exports=h.default},{}],167:[function(t,_,h){function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function p(){l(this,p),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]};h.default=f,_.exports=h.default},{}],168:[function(t,_,h){function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function p(){l(this,p),this.id=null,this.quality=null,this.DVRWindow=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null};h.default=f,_.exports=h.default},{}],169:[function(t,_,h){function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function p(){l(this,p),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0};h.default=f,_.exports=h.default},{}],170:[function(t,_,h){function l(R){return R&&R.__esModule?R:{default:R}}function f(R,E){if(!(R instanceof E))throw new TypeError("Cannot call a class as a function")}function p(R,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);R.prototype=Object.create(E&&E.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(R,E):R.__proto__=E)}Object.defineProperty(h,"__esModule",{value:!0});var u=function(R,E,F){for(var L=!0;L;){var k=R,q=E,Z=F;L=!1,k===null&&(k=Function.prototype);var V=Object.getOwnPropertyDescriptor(k,q);if(V!==void 0){if("value"in V)return V.value;var D=V.get;return D===void 0?void 0:D.call(Z)}var M=Object.getPrototypeOf(k);if(M===null)return;R=M,E=q,F=Z,L=!0,V=M=void 0}},y=t(98),v=l(y),b=t(162),m=l(b),T=function(R){function E(F,L){f(this,E),u(Object.getPrototypeOf(E.prototype),"constructor",this).call(this),this.url=F||null,this.type=L||null,this.mediaType=v.default.STREAM,this.responseType=""}return p(E,R),E}(m.default);h.default=T,_.exports=h.default},{162:162,98:98}],171:[function(t,_,h){function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function p(){l(this,p),this.captionData=null,this.label=null,this.lang=null,this.defaultTrack=!1,this.kind=null,this.isFragmented=!1,this.isEmbedded=!1};h.default=f,_.exports=h.default},{}],172:[function(t,_,h){function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function p(){l(this,p),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null};h.default=f,_.exports=h.default},{}],173:[function(t,_,h){function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function p(){l(this,p),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""};h.default=f,_.exports=h.default},{}],174:[function(t,_,h){function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function p(){l(this,p),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null};h.default=f,_.exports=h.default},{}],175:[function(t,_,h){function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function p(){l(this,p),this.t=null,this.level=null};h.default=f,_.exports=h.default},{}],176:[function(t,_,h){function l(v){return v&&v.__esModule?v:{default:v}}function f(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var p=t(103),u=l(p),y=function v(){f(this,v),this.target=null,this.state=u.default.BUFFER_EMPTY};h.default=y,_.exports=h.default},{103:103}],177:[function(t,_,h){function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function p(){l(this,p),this.time=null,this.range=null,this.manifestInfo=null};h.default=f,_.exports=h.default},{}],178:[function(t,_,h){function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function p(){l(this,p),this.time=null,this.droppedFrames=null};h.default=f,_.exports=h.default},{}],179:[function(t,_,h){function l(u,y){if(!(u instanceof y))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function u(){l(this,u),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._responseHeaders=null,this._serviceLocation=null},p=function u(){l(this,u),this.s=null,this.d=null,this.b=[]};f.GET="GET",f.HEAD="HEAD",f.MPD_TYPE="MPD",f.XLINK_EXPANSION_TYPE="XLinkExpansion",f.INIT_SEGMENT_TYPE="InitializationSegment",f.INDEX_SEGMENT_TYPE="IndexSegment",f.MEDIA_SEGMENT_TYPE="MediaSegment",f.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",f.OTHER_TYPE="other",h.HTTPRequest=f,h.HTTPRequestTrace=p},{}],180:[function(t,_,h){function l(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function y(){l(this,y),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},p=function y(){l(this,y),this.id=null,this.index=null,this.start=null,this.duration=null},u=function y(){l(this,y),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null};h.ManifestUpdate=f,h.ManifestUpdateStreamInfo=p,h.ManifestUpdateRepresentationInfo=u},{}],181:[function(t,_,h){function l(u,y){if(!(u instanceof y))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function u(){l(this,u),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};f.INITIAL_PLAYOUT_START_REASON="initial_playout",f.SEEK_START_REASON="seek",f.RESUME_FROM_PAUSE_START_REASON="resume",f.METRICS_COLLECTION_START_REASON="metrics_collection_start";var p=function u(){l(this,u),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};p.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",p.REBUFFERING_REASON="rebuffering",p.USER_REQUEST_STOP_REASON="user_request",p.END_OF_PERIOD_STOP_REASON="end_of_period",p.END_OF_CONTENT_STOP_REASON="end_of_content",p.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",p.FAILURE_STOP_REASON="failure",h.PlayList=f,h.PlayListTrace=p},{}],182:[function(t,_,h){function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function p(){l(this,p),this.t=null,this.mt=null,this.to=null,this.lto=null};h.default=f,_.exports=h.default},{}],183:[function(t,_,h){function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function p(){l(this,p),this.loadingRequests=[],this.executedRequests=[]};h.default=f,_.exports=h.default},{}],184:[function(t,_,h){function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function p(){l(this,p),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null};h.default=f,_.exports=h.default},{}],185:[function(t,_,h){function l(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var f=function p(){l(this,p),this.tcpid=null,this.dest=null,this.topen=null,this.tclose=null,this.tconnect=null};h.default=f,_.exports=h.default},{}]},{},[5]);var La=function(t,_,h,l){function f(p){return p instanceof h?p:new h(function(u){u(p)})}return new(h||(h=Promise))(function(p,u){function y(m){try{b(l.next(m))}catch(T){u(T)}}function v(m){try{b(l.throw(m))}catch(T){u(T)}}function b(m){m.done?p(m.value):f(m.value).then(y,v)}b((l=l.apply(t,_||[])).next())})},Ki=Ii();ca();ha();var kt=class extends vn{constructor(t){super(t),this._data=this.data(),this.canvasInstances=[],this._readyMedia=0,this._readyWaveforms=0,this._posterCanvasWidth=0,this._posterCanvasHeight=0,this._posterImageExpanded=!1,this._init(),this._resize()}_init(){let t=super._init();return this._$element=Ki(this.el),t||tt.error("Component failed to initialise"),t}getCurrentCanvasInstance(){let t=this._data.helper.getRangeById(this._data.range.id);if(!t)return null;let _=mn(t);return _?this._data.helper.getCanvasById(_):null}data(){return{autoPlay:!1,constrainNavigationToRange:!1,defaultAspectRatio:.56,doubleClickMS:350,halveAtWidth:200,limitToRange:!1,autoAdvanceRanges:!0,posterImageRatio:.3,virtualCanvasEnabled:!0,content:{currentTime:"Current Time",collapse:"Collapse",duration:"Duration",expand:"Expand",mute:"Mute",next:"Next",pause:"Pause",play:"Play",previous:"Previous",unmute:"Unmute"},enableFastForward:!0,enableFastRewind:!0}}set(t){tt.groupCollapsed("AVComponent.set()"),tt.log("Data",t);let _=Object.assign({},this._data);this._data=Object.assign(this._data,t);let h=Bn(_,this._data);if(h.includes("helper")&&this._reset(),!this._data.helper){tt.warn("must pass a helper object");return}if(this.canvasInstances.forEach((l,f)=>{let p={};h.includes("limitToRange")&&this._data.canvasId&&(p.limitToRange=this._data.limitToRange),h.includes("autoAdvanceRanges")&&this._data.canvasId&&(p.autoAdvanceRanges=this._data.autoAdvanceRanges),h.includes("constrainNavigationToRange")&&this._data.canvasId&&(p.constrainNavigationToRange=this._data.constrainNavigationToRange),h.includes("autoSelectRange")&&this._data.canvasId&&(p.autoSelectRange=this._data.autoSelectRange),l.set(p)}),(h.includes("virtualCanvasEnabled")||h.includes("canvasId"))&&this._data.canvasId){let l=this._getCanvasInstanceById(this._data.canvasId);l&&this.canvasInstances.forEach(f=>{f.getCanvasId()!==l.getCanvasId()?f.set({visible:!1}):h.includes("range")?f.set({visible:!0,range:this._data.range?jQuery.extend(!0,{},this._data.range):void 0}):f.set({visible:!0})})}if(h.includes("virtualCanvasEnabled")&&(this.set({range:void 0}),this._data.virtualCanvasEnabled&&this.canvasInstances.forEach(l=>{l.isVirtual()&&this.set({canvasId:l.getCanvasId(),range:void 0})})),h.includes("range")&&this._data.range){let l=this._data.helper.getRangeById(this._data.range.id);if(!l)tt.warn("range not found",{id:this._data.range.id});else{let f=mn(l);if(f){let p=this._getCanvasInstanceById(f);if(p){if(p.isVirtual()&&this._data.virtualCanvasEnabled&&p.includesVirtualSubCanvas(f)){f=p.getCanvasId();for(let u=0;u<p.ranges.length;u++){let y=p.ranges[u];if(y.id===l.id){l=y;break}}}this._data.canvasId&&(this._data.canvasId.includes("://")?cn.Utils.normaliseUrl(this._data.canvasId):this._data.canvasId)!==f?this.set({canvasId:f,range:jQuery.extend(!0,{},l)}):p.set({range:jQuery.extend(!0,{},l)})}}}}this._render(),this._resize(),tt.groupEnd()}_render(){}reset(){this._reset()}_reset(){if(this._readyMedia=0,this._readyWaveforms=0,this._posterCanvasWidth=0,this._posterCanvasHeight=0,clearInterval(this._checkAllMediaReadyInterval),clearInterval(this._checkAllWaveformsReadyInterval),this.canvasInstances.forEach(t=>{t.destroy()}),this.canvasInstances=[],this._$element.empty(),this._data&&this._data.helper&&this._data.helper.manifest){let t=this._data.helper.manifest.getBehavior(),_=this._getCanvases();if(t&&t.toString()==="auto-advance"){let l=new _n;_.forEach(f=>{l.addCanvas(f)}),this._initCanvas(l)}_.forEach(l=>{this._initCanvas(l)}),this.canvasInstances.length>0&&(this._data.canvasId=this.canvasInstances[0].getCanvasId()),this._checkAllMediaReadyInterval=setInterval(this._checkAllMediaReady.bind(this),100),this._checkAllWaveformsReadyInterval=setInterval(this._checkAllWaveformsReady.bind(this),100),this._$posterContainer=Ki('<div class="poster-container"></div>'),this._$element.append(this._$posterContainer),this._$posterImage=Ki('<div class="poster-image"></div>'),this._$posterExpandButton=Ki(`
                    <button class="btn" title="${this._data&&this._data.content?this._data.content.expand:""}">
                        <i class="av-icon  av-icon-expand expand" aria-hidden="true"></i><span class="sr-only">${this._data&&this._data.content?this._data.content.expand:""}</span>
                    </button>
                `),this._$posterImage.append(this._$posterExpandButton),this._$posterImage.on("touchstart click",l=>{l.preventDefault();let f=this._getPosterImageCss(!this._posterImageExpanded);if(this._$posterImage.animate(f),this._posterImageExpanded=!this._posterImageExpanded,this._data.content)if(this._posterImageExpanded){let p=this._data.content.collapse;this._$posterExpandButton.prop("title",p),this._$posterExpandButton.find("i").switchClass("expand","collapse")}else{let p=this._data.content.expand;this._$posterExpandButton.prop("title",p),this._$posterExpandButton.find("i").switchClass("collapse","expand")}});let h=this._data.helper.getAccompanyingCanvas();if(h||(h=this._data.helper.getPosterCanvas()),h){this._posterCanvasWidth=h.getWidth(),this._posterCanvasHeight=h.getHeight();let l=this._data.helper.getPosterImage();if(l||(l=this._data.helper.getAccompanyingCanvasImage()),l){this._$posterContainer.append(this._$posterImage);let f=this._getPosterImageCss(this._posterImageExpanded);f=Object.assign({},f,{"background-image":"url("+l+")"}),this._$posterImage.css(f)}}}}setCurrentTime(t){return La(this,void 0,void 0,function*(){let _=this._getCurrentCanvas();if(_)return _.setCurrentTime(t)})}getCurrentTime(){let t=this._getCurrentCanvas();return t?t.getClockTime():0}isPlaying(){return this.canvasInstances.reduce((t,_)=>t||_.isPlaying(),!1)}_checkAllMediaReady(){this._readyMedia===this.canvasInstances.length&&(clearInterval(this._checkAllMediaReadyInterval),this.fire(qt.MEDIA_READY),this.resize())}_checkAllWaveformsReady(){this._readyWaveforms===this._getCanvasInstancesWithWaveforms().length&&(clearInterval(this._checkAllWaveformsReadyInterval),this.fire(qt.WAVEFORMS_READY),this.resize())}_getCanvasInstancesWithWaveforms(){return this.canvasInstances.filter(t=>t.waveforms.length>0)}_getCanvases(){return this._data.helper?this._data.helper.getCanvases():[]}_initCanvas(t){let _=new ka({target:document.createElement("div"),data:Object.assign({},{canvas:t},this._data)});_.logMessage=this._logMessage.bind(this),_.isOnlyCanvasInstance=this._getCanvases().length===1,this._$element.append(_.$playerElement),_.autoAdvanceRanges=this._data.autoAdvanceRanges===!1?this._data.autoAdvanceRanges:!0,_.limitToRange=this._data.limitToRange||!1,_.init(),this.canvasInstances.push(_),_.on("play",()=>{this.fire(qt.PLAY,_)},!1),_.on("pause",()=>{this.fire(qt.PAUSE,_)},!1),_.on(qt.MEDIA_READY,()=>{this._readyMedia++,_.loaded()},!1),_.on(qt.WAVEFORM_READY,()=>{this._readyWaveforms++},!1),_.on(ii.PREVIOUS_RANGE,()=>{this._prevRange(),this.play()},!1),_.on(ii.NEXT_RANGE,()=>{this._nextRange(),this.play()},!1),_.on(qt.RANGE_CHANGED,h=>{this.fire(qt.RANGE_CHANGED,h)},!1),_.on(wi.VOLUME_CHANGED,h=>{this._setCanvasInstanceVolumes(h),this.fire(wi.VOLUME_CHANGED,h)},!1)}getCurrentRange(){let t=this._data.helper.getCurrentRange().id;return this._getCurrentCanvas().ranges.find(_=>_.id===t)||null}_prevRange(){if(!this._data||!this._data.helper)return;let t=this.getCurrentRange();if(t){let h=this.getCurrentTime(),l=t.getDuration().start||0;if(h-l>5){this.setCurrentTime(l);return}}let _=this._data.helper.getPreviousRange();_?this.playRange(_.id):this._rewind()}_nextRange(){if(!this._data||!this._data.helper)return;let t=this._data.helper.getNextRange();t&&this.playRange(t.id)}_setCanvasInstanceVolumes(t){this.canvasInstances.forEach(_=>{_.set({volume:t})})}_getNormaliseCanvasId(t){return t.includes("://")?cn.Utils.normaliseUrl(t):t}_getCanvasInstanceById(t){if(t=this._getNormaliseCanvasId(t),this._data.virtualCanvasEnabled)for(let _=0;_<this.canvasInstances.length;_++){let h=this.canvasInstances[_],l=h.getCanvasId();if(l&&(l=this._getNormaliseCanvasId(l),(h.isVirtual()||this.canvasInstances.length===1)&&l===t||h.includesVirtualSubCanvas(t)))return h}else for(let _=0;_<this.canvasInstances.length;_++){let h=this.canvasInstances[_],l=h.getCanvasId();if(l&&cn.Utils.normaliseUrl(l)===t)return h}}_getCurrentCanvas(){if(this._data.canvasId)return this._getCanvasInstanceById(this._data.canvasId)}_rewind(){if(this._data.limitToRange)return;let t=this._getCurrentCanvas();t&&t.set({range:void 0})}play(){let t=this._getCurrentCanvas();t&&t.play()}viewRange(t){let _=this._getCurrentCanvas();_&&_.viewRange(t)}pause(){let t=this._getCurrentCanvas();t&&t.pause()}playRange(t,_=!1){if(!this._data.helper)return;let h=this._data.helper.getRangeById(t);h&&this.set({range:jQuery.extend(!0,{autoChanged:_},h)})}showCanvas(t){let _=this._getCurrentCanvas();this._data.virtualCanvasEnabled&&_&&_.getCanvasId()===t&&!_.isVisible()?_.set({visible:!0}):this.set({canvasId:t})}_logMessage(t){this.fire(qt.LOG,t)}_getPosterImageCss(t){let _=this._getCurrentCanvas();if(_){let h=_.$playerElement.find(".options-container"),l=_.$playerElement.parent().width(),f=_.$playerElement.parent().height()-h.height();if(t)return{top:0,left:0,width:l,height:f};{let p,u,y;return this._posterCanvasWidth>this._posterCanvasHeight?(p=this._posterCanvasHeight/this._posterCanvasWidth,u=l*(this._data.posterImageRatio||1),y=u*p):(p=this._posterCanvasWidth/this._posterCanvasHeight,y=f*(this._data.posterImageRatio||1),u=y*p),{top:0,left:l-u,width:u,height:y}}}return null}resize(){this.canvasInstances.forEach(t=>{t.resize()}),this._getCurrentCanvas()&&this._$posterImage&&this._$posterImage.is(":visible")&&(this._posterImageExpanded?this._$posterImage.css(this._getPosterImageCss(!0)):this._$posterImage.css(this._getPosterImageCss(!1)))}};kt.newRanges=!0;var Ba=Ii(),Ua=class extends Zr{constructor(t){super(t),this._mediaReady=!1,this._isThumbsViewOpen=!1,this._mediaReadyQueue=[],this.attributionPosition=ea.BOTTOM_RIGHT}create(){this.setConfig("avCenterPanel"),super.create();let t=this;this.extensionHost.subscribe(Wt.OPEN_EXTERNAL_RESOURCE,_=>{t.openMedia(_)}),this.extensionHost.subscribe(Wt.CANVAS_INDEX_CHANGE,_=>{this._lastCanvasIndex!==_&&this._viewCanvas(_)}),this.extensionHost.subscribe(Wt.CURRENT_TIME_CHANGE,_=>{this._whenMediaReady(()=>{this.avcomponent&&this.avcomponent.setCurrentTime(_)})}),this.extensionHost.subscribe(Wt.RANGE_CHANGE,_=>{!this._observeRangeChanges()||this._whenMediaReady(()=>{t._viewRange(_),t._setTitle()})}),this.extensionHost.subscribe(Wt.METRIC_CHANGE,()=>{this._whenMediaReady(()=>{this.avcomponent&&this.avcomponent.set({limitToRange:this._limitToRange(),constrainNavigationToRange:this._limitToRange(),autoAdvanceRanges:this._autoAdvanceRanges()})})}),this.extensionHost.subscribe(Sn.CREATED,()=>{this._setTitle()}),this.extensionHost.subscribe(Wt.OPEN_THUMBS_VIEW,()=>{this._isThumbsViewOpen=!0,this._whenMediaReady(()=>{this.avcomponent&&(this.avcomponent.set({virtualCanvasEnabled:!1}),this.extension.helper.getCurrentCanvas()&&this._viewCanvas(this.extension.helper.canvasIndex))})}),this.extensionHost.subscribe(Wt.OPEN_TREE_VIEW,()=>{this._isThumbsViewOpen=!1,this._whenMediaReady(()=>{this.avcomponent&&this.avcomponent.set({virtualCanvasEnabled:!0})})}),this.extensionHost.subscribe(Wt.OPEN_LEFT_PANEL,()=>{this.resize()}),this.extensionHost.subscribe(Wt.OPEN_RIGHT_PANEL,()=>{this.resize()}),this._createAVComponent()}_flushMediaReadyQueue(){for(let t of this._mediaReadyQueue)t();this._mediaReadyQueue=[]}_createAVComponent(){this.$avcomponent=Ba('<div class="iiif-av-component"></div>'),this.$content.prepend(this.$avcomponent),this.avcomponent=new kt({target:this.$avcomponent[0],data:{posterImageExpanded:this.options.posterImageExpanded,enableFastForward:!0,enableFastRewind:!0}}),this.avcomponent.on("mediaready",()=>{this._mediaReady=!0,this._flushMediaReadyQueue()},!1),this.avcomponent.on("pause",()=>{this.extensionHost.publish(Wt.PAUSE,this.avcomponent.getCurrentTime())}),this.avcomponent.on("rangechanged",t=>{if(t){let _=this.extension.helper.getRangeById(t);if(_){let h=this.extension.helper.getCurrentRange();_!==h&&this.extensionHost.publish(Wt.RANGE_CHANGE,_)}else this.extensionHost.publish(Wt.RANGE_CHANGE,null)}else this.extensionHost.publish(Wt.RANGE_CHANGE,null);this._setTitle()},!1)}_observeRangeChanges(){return!this._isThumbsViewOpen}_setTitle(){let t="",_,h,l=this.extension.helper.getCurrentRange();l?h=l.getLabel():h=this.extension.helper.getCurrentCanvas().getLabel(),_=Yi.LanguageMap.getValue(h),_&&(t=_),Qi.getBool(this.config.options.includeParentInTitleEnabled,!1)&&(l?l.parentRange&&(h=l.parentRange.getLabel(),_=Yi.LanguageMap.getValue(h)):_=this.extension.helper.getLabel(),_&&(t+=this.content.delimiter+_)),this.title=t;let f=this.extension.helper.getMetadata({range:l});for(let p=0;p<f.length;p++){let u=f[p].items.find(y=>{if(y.label){let v=Yi.LanguageMap.getValue(y.label);if(v&&v.toLowerCase()===this.config.options.subtitleMetadataField)return!0}return!1});if(u){this.subtitle=Yi.LanguageMap.getValue(u.value);break}}this.$title.text(Gr(this.title)),this.resize(!1)}_isCurrentResourceAccessControlled(){return this.extension.helper.getCurrentCanvas().externalResource.isAccessControlled()}openMedia(t){this.extension.getExternalResources(t).then(()=>{this.avcomponent&&(this.extension.helper.canvasIndex===this._lastCanvasIndex&&this.avcomponent.reset(),this._lastCanvasIndex=this.extension.helper.canvasIndex,this.avcomponent.set({helper:this.extension.helper,adaptiveAuthEnabled:this._isCurrentResourceAccessControlled(),autoPlay:this.config.options.autoPlay,enableFastForward:this.config.options.enableFastForward,enableFastRewind:this.config.options.enableFastRewind,autoSelectRange:!0,constrainNavigationToRange:this._limitToRange(),autoAdvanceRanges:this._autoAdvanceRanges(),content:this.content,defaultAspectRatio:.56,doubleClickMS:350,limitToRange:this._limitToRange(),posterImageRatio:this.config.options.posterImageRatio}),this.extensionHost.publish(Sn.EXTERNAL_RESOURCE_OPENED))})}_limitToRange(){return Qi.getBool(this.config.options.limitToRange,!1)?!0:!this.extension.isDesktopMetric()}_autoAdvanceRanges(){return Qi.getBool(this.config.options.autoAdvanceRanges,!0)}_whenMediaReady(t){this._mediaReady?t():this._mediaReadyQueue.push(t)}_viewRange(t){this._whenMediaReady(()=>{t&&this.avcomponent&&this.avcomponent.viewRange(t.id),this.resize(!1)})}_viewCanvas(t){this._whenMediaReady(()=>{let _=this.extension.helper.getCanvasByIndex(t);this.avcomponent&&this.avcomponent.showCanvas(_.id)})}resize(t=!0){super.resize(),t&&this.avcomponent&&(this.$avcomponent.height(this.$content.height()),this.avcomponent.resize())}},Ti=Ii(),Ha=class extends $r{constructor(t){super(t)}create(){this.setConfig("downloadDialogue"),super.create(),this.$entireFileAsOriginal=Ti('<li class="option single"><input id="'+Qt.ENTIRE_FILE_AS_ORIGINAL+'" type="radio" name="downloadOptions" tabindex="0" /><label id="'+Qt.ENTIRE_FILE_AS_ORIGINAL+'label" for="'+Qt.ENTIRE_FILE_AS_ORIGINAL+'"></label></li>'),this.$downloadOptions.append(this.$entireFileAsOriginal),this.$entireFileAsOriginal.hide(),this.$downloadButton=Ti('<a class="btn btn-primary" href="#" tabindex="0">'+this.content.download+"</a>"),this.$buttons.prepend(this.$downloadButton),this.$imageOptionsContainer=Ti('<li class="group image"></li>'),this.$imageOptions=Ti("<ul></ul>"),this.$imageOptionsContainer.append(this.$imageOptions),this.$canvasOptionsContainer=Ti('<li class="group canvas"></li>'),this.$canvasOptions=Ti("<ul></ul>"),this.$canvasOptionsContainer.append(this.$canvasOptions),this.$manifestOptionsContainer=Ti('<li class="group manifest"></li>'),this.$manifestOptions=Ti("<ul></ul>"),this.$manifestOptionsContainer.append(this.$manifestOptions);let t=this;this.$downloadButton.on("click",_=>{_.preventDefault();let h=t.getSelectedOption(),l=h.attr("id"),f=h.attr("title"),p=Qt.UNKNOWN;if(this.renderingUrls[l])window.open(this.renderingUrls[l]);else{let u=this.getCurrentResourceId();window.open(u)}this.extensionHost.publish(Wt.DOWNLOAD,{type:p,label:f}),this.close()})}_isAdaptive(){let t=this.getCurrentResourceFormat();return t==="mpd"||t==="m3u8"}open(t){super.open(t);let _=this.extension.helper.getCurrentCanvas();if(this.isDownloadOptionAvailable(Qt.ENTIRE_FILE_AS_ORIGINAL)&&!this._isAdaptive()){let h=this.$entireFileAsOriginal.find("input"),l=this.$entireFileAsOriginal.find("label"),f=xn.format(this.content.entireFileAsOriginalWithFormat,this.getCurrentResourceFormat());l.text(f),h.prop("title",f),this.$entireFileAsOriginal.show()}if(this.resetDynamicDownloadOptions(),this.isDownloadOptionAvailable(Qt.RANGE_RENDERINGS)&&_.ranges&&_.ranges.length)for(let h=0;h<_.ranges.length;h++){let l=_.ranges[h],f=this.getDownloadOptionsForRenderings(l,this.content.entireFileAsOriginal,Qt.CANVAS_RENDERINGS);this.addDownloadOptionsForRenderings(f)}if(this.isDownloadOptionAvailable(Qt.IMAGE_RENDERINGS)){let h=_.getImages();h.length&&this.$downloadOptions.append(this.$imageOptionsContainer);for(let l=0;l<h.length;l++){let f=this.getDownloadOptionsForRenderings(h[l].getResource(),this.content.entireFileAsOriginal,Qt.IMAGE_RENDERINGS);this.addDownloadOptionsForRenderings(f)}}if(this.isDownloadOptionAvailable(Qt.CANVAS_RENDERINGS)){let h=this.getDownloadOptionsForRenderings(_,this.content.entireFileAsOriginal,Qt.CANVAS_RENDERINGS);h.length&&(this.$downloadOptions.append(this.$canvasOptionsContainer),this.addDownloadOptionsForRenderings(h))}if(this.isDownloadOptionAvailable(Qt.MANIFEST_RENDERINGS)){let h=this.getDownloadOptionsForRenderings(this.extension.helper.getCurrentSequence(),this.content.entireDocument,Qt.MANIFEST_RENDERINGS);!h.length&&this.extension.helper.manifest&&(h=this.getDownloadOptionsForRenderings(this.extension.helper.manifest,this.content.entireDocument,Qt.MANIFEST_RENDERINGS)),h.length&&(this.$downloadOptions.append(this.$manifestOptionsContainer),this.addDownloadOptionsForRenderings(h))}this.$downloadOptions.length&&this.$entireFileAsOriginal.hide(),this.$downloadOptions.find("li.option:visible").length?(this.$downloadOptions.find("li.option input:visible:first").prop("checked",!0),this.$noneAvailable.hide(),this.$downloadButton.show()):(this.$noneAvailable.show(),this.$downloadButton.hide()),this.resize()}addDownloadOptionsForRenderings(t){t.forEach(_=>{switch(_.type){case Qt.IMAGE_RENDERINGS:this.$imageOptions.append(_.button);break;case Qt.CANVAS_RENDERINGS:this.$canvasOptions.append(_.button);break;case Qt.MANIFEST_RENDERINGS:this.$manifestOptions.append(_.button);break}})}isDownloadOptionAvailable(t){return this.isMediaDownloadEnabled()}},ja=class extends ta{constructor(t){super(t)}create(){this.setConfig("settingsDialogue"),super.create()}},za=class extends ia{constructor(t){super(t)}create(){this.setConfig("shareDialogue"),super.create()}update(){super.update(),this.code=this.extension.getEmbedScript(this.options.embedTemplate,this.currentWidth,this.currentHeight),this.$code.val(this.code)}resize(){super.resize()}},Dn=fi(na()),qa={allowStealFocus:!1,authAPIVersion:1,bookmarkThumbHeight:150,bookmarkThumbWidth:90,dropEnabled:!0,footerPanelEnabled:!0,headerPanelEnabled:!0,leftPanelEnabled:!0,limitLocales:!1,metrics:[{type:"sm",minWidth:0},{type:"md",minWidth:768},{type:"lg",minWidth:1024},{type:"xl",minWidth:1280}],multiSelectionMimeType:"application/zip",navigatorEnabled:!0,openTemplate:"http://universalviewer.io?manifest={0}",overrideFullScreen:!1,pagingEnabled:!0,pagingOptionEnabled:!0,pessimisticAccessControl:!1,preserveViewport:!1,rightPanelEnabled:!0,saveUserSettings:!1,clickToZoomEnabled:!0,searchWithinEnabled:!0,termsOfUseEnabled:!1,theme:"uv-en-GB-theme",tokenStorage:"session",useArrowKeysToNavigate:!1,zoomToSearchResultEnabled:!0},Va={contentLeftPanel:{options:{autoExpandTreeEnabled:!0,autoExpandTreeIfFewerThan:20,branchNodesExpandOnClick:!1,branchNodesSelectable:!0,defaultToTreeEnabled:!1,defaultToTreeIfGreaterThan:0,elideCount:40,expandFullEnabled:!0,galleryThumbChunkedResizingThreshold:400,galleryThumbHeight:320,galleryThumbLoadPadding:3,galleryThumbWidth:200,oneColThumbHeight:320,oneColThumbWidth:200,pageModeEnabled:!0,panelAnimationDuration:250,panelCollapsedWidth:30,panelExpandedWidth:255,panelOpen:!0,tabOrder:"",thumbsEnabled:!0,thumbsExtraHeight:8,thumbsImageFadeInDuration:300,thumbsLoadRange:15,treeEnabled:!0,twoColThumbHeight:150,twoColThumbWidth:90},content:{collapse:"Collapse Contents",collapseFull:"Collapse Gallery",date:"date",expand:"Expand Contents",expandFull:"Expand Gallery",index:"Index",manifestRanges:"Manifest Ranges",searchResult:"{0} search result",searchResults:"{0} search results",sortBy:"Sort By:",thumbnails:"Thumbnails",title:"Contents",volume:"volume"}},dialogue:{topCloseButtonEnabled:!1,content:{close:"Close"}},footerPanel:{options:{bookmarkEnabled:!1,downloadEnabled:!0,embedEnabled:!1,feedbackEnabled:!1,fullscreenEnabled:!0,minimiseButtons:!0,moreInfoEnabled:!0,openEnabled:!1,printEnabled:!1,shareEnabled:!0},content:{bookmark:"Add to bookmarks",download:"Download",embed:"Embed",exitFullScreen:"Exit Full Screen",feedback:"Feedback",fullScreen:"Full Screen",moreInfo:"More Information",open:"Open",share:"Share"}},genericDialogue:{content:{emptyValue:"please enter a value.",invalidNumber:"Please enter a valid number.",noMatches:"No matches were found.",ok:"OK",pageNotFound:"This item does not contain a page with the number you entered. Try switching the numbering mode to 'image'.",refresh:"Refresh"}},headerPanel:{options:{localeToggleEnabled:!1,settingsButtonEnabled:!0},content:{settings:"Settings"}},helpDialogue:{content:{text:"placeholder text",title:"Help"}},moreInfoRightPanel:{options:{canvasDisplayOrder:"",canvasExclude:"",copyToClipboardEnabled:!1,manifestDisplayOrder:"",manifestExclude:"",panelAnimationDuration:250,panelCollapsedWidth:30,panelExpandedWidth:255,panelOpen:!1,rtlLanguageCodes:"ar, ara, dv, div, he, heb, ur, urd",showAllLanguages:!1,textLimit:4,textLimitType:"lines",limitToRange:!1},content:{attribution:"Attribution",collapse:"Collapse Information",collapseFull:"Collapse Gallery",description:"Description",expand:"Expand Information",expandFull:"Expand Gallery",holdingText:"Your module goes here!",less:"less",license:"License",logo:"Logo",more:"more",noData:"No data to display",page:"Page",title:"More Information",manifestHeader:"About the item",canvasHeader:"About the image",copyToClipboard:"Copy to clipboard",copiedToClipboard:"Copied to clipboard"}},avCenterPanel:{options:{autoPlay:!1,includeParentInTitleEnabled:!1,posterImageRatio:.3,subtitleMetadataField:"contributor",titleEnabled:!0,subtitleEnabled:!0},content:{attribution:"Attribution",currentTime:"Current Time",delimiter:" - ",duration:"Duration",mute:"Mute",next:"Next",pause:"Pause",play:"Play",previous:"Previous"}},settingsDialogue:{content:{locale:"Locale",navigatorEnabled:"Navigator Enabled",clickToZoomEnabled:"Mouse Click To Zoom",pagingEnabled:"Two Page View",reducedMotion:"Reduce motion (disables animations)",preserveViewport:"Preserve Zoom",title:"Settings",website:"<a href='https://github.com/universalviewer/universalviewer#contributors'>more info</a>"}},shareDialogue:{options:{embedTemplate:'<iframe src="{0}" width="{1}" height="{2}" allowfullscreen frameborder="0"></iframe>',instructionsEnabled:!1,shareFrameEnabled:!0},content:{customSize:"custom",embed:"Embed",embedInstructions:"To embed this item in your own website, copy and paste the code below.",height:"Height",iiif:"IIIF Manifest",share:"Share",shareInstructions:"To share this item, copy the URL below.",size:"Size:",width:"Width"}},authDialogue:{content:{cancel:"Cancel",confirm:"Confirm"}},clickThroughDialogue:{content:{viewTerms:"Read Full Terms and Conditions"}},downloadDialogue:{content:{currentViewAsJpg:"Current view {0} x {1}px (jpg)",currentViewAsJpgExplanation:"Opens in a new window",download:"Download",downloadSelection:"Download Selection",downloadSelectionExplanation:"Opens a dialogue to select which pages to download.",editSettings:"Edit Settings",entireDocument:"Entire document ({0})",entireFileAsOriginal:"Entire file",entireFileAsOriginalWithFormat:"Entire file ({0})",noneAvailable:"No download options are available.",pagingNote:"Please turn off Two Page View for additional options.",preview:"Preview",title:"Download",wholeImageHighRes:"Whole image {0} x {1}px ({2})",wholeImageHighResExplanation:"Opens in a new window.",wholeImagesHighRes:"Whole images ({0})",wholeImagesHighResExplanation:"Opens in two new windows.",wholeImageLowResAsJpg:"Whole image {0} x {1}px (jpg)",wholeImageLowResAsJpgExplanation:"Opens in a new window."}},loginDialogue:{content:{login:"Login",logout:"Logout",cancel:"Cancel"}},restrictedDialogue:{content:{cancel:"Cancel"}}},Ga={label:"English (GB)",locales:[{name:"cy-GB",label:"Cymraeg"},{name:"en-GB",label:"English (GB)"},{name:"fr-FR",label:"Fran\xE7ais (FR)"},{name:"pl-PL",label:"Polski"},{name:"sv-SE",label:"Svenska"}]},Wa={authCORSError:"Your browser does not support CORS, please upgrade to view this content.",authorisationFailedMessage:"Your log-in attempt did not appear to be successful. Please try again.",canvasIndexOutOfRange:"Canvas index out of range.",fallbackDegradedLabel:"Login",fallbackDegradedMessage:"Please log in to view this content at full resolution.",forbiddenResourceMessage:"Your current access rights are insufficient to view this image",termsOfUse:"Terms of Use",mediaViewer:"Media Viewer",skipToDownload:"Skip to downloads and alternative formats"},Mn={options:qa,modules:Va,localisation:Ga,content:Wa},es=class extends Xr{constructor(){super(...arguments),this.defaultConfig=Mn,this.locales={"en-GB":Mn,"cy-GB":()=>Gi(()=>import("./cy-GB-OBPEZVYZ.ec46d050.mjs"),["_nuxt/cy-GB-OBPEZVYZ.ec46d050.mjs","_nuxt/entry.6e61bf97.mjs","_nuxt/entry.57ea56e6.css"]),"fr-FR":()=>Gi(()=>import("./fr-FR-EKWXRZJ7.70a21622.mjs"),["_nuxt/fr-FR-EKWXRZJ7.70a21622.mjs","_nuxt/entry.6e61bf97.mjs","_nuxt/entry.57ea56e6.css"]),"pl-PL":()=>Gi(()=>import("./pl-PL-KQXXMOPU.7f5e1ea1.mjs"),["_nuxt/pl-PL-KQXXMOPU.7f5e1ea1.mjs","_nuxt/entry.6e61bf97.mjs","_nuxt/entry.57ea56e6.css"]),"sv-SE":()=>Gi(()=>import("./sv-SE-UMBWWDO2.95607802.mjs"),["_nuxt/sv-SE-UMBWWDO2.95607802.mjs","_nuxt/entry.6e61bf97.mjs","_nuxt/entry.57ea56e6.css"])}}create(){super.create(),this.extensionHost.subscribe(Wt.CANVAS_INDEX_CHANGE,t=>{t!==this.lastAvCanvasIndex&&this.viewCanvas(t),this.lastAvCanvasIndex=t}),this.extensionHost.subscribe(Wt.TREE_NODE_SELECTED,t=>{this.fire(Wt.TREE_NODE_SELECTED,t.data.path),this.treeNodeSelected(t)}),this.extensionHost.subscribe(Wt.THUMB_SELECTED,t=>{this.extensionHost.publish(Wt.CANVAS_INDEX_CHANGE,t.index)})}dependencyLoaded(t,_){t===this.getDependencyIndex("waveform-data")?window.WaveformData=_:t===this.getDependencyIndex("hls")&&(window.Hls=_)}createModules(){super.createModules(),this.isHeaderPanelEnabled()?this.headerPanel=new Kr(this.shell.$headerPanel):this.shell.$headerPanel.hide(),this.isLeftPanelEnabled()?this.leftPanel=new Wr(this.shell.$leftPanel):this.shell.$leftPanel.hide(),this.centerPanel=new Ua(this.shell.$centerPanel),this.isRightPanelEnabled()?this.rightPanel=new Qr(this.shell.$rightPanel):this.shell.$rightPanel.hide(),this.isFooterPanelEnabled()?(this.footerPanel=new Jr(this.shell.$footerPanel),this.mobileFooterPanel=new Yr(this.shell.$mobileFooterPanel)):this.shell.$footerPanel.hide(),this.$shareDialogue=$('<div class="overlay share" aria-hidden="true"></div>'),this.shell.$overlays.append(this.$shareDialogue),this.shareDialogue=new za(this.$shareDialogue),this.$downloadDialogue=$('<div class="overlay download" aria-hidden="true"></div>'),this.shell.$overlays.append(this.$downloadDialogue),this.downloadDialogue=new Ha(this.$downloadDialogue),this.$settingsDialogue=$('<div class="overlay settings" aria-hidden="true"></div>'),this.shell.$overlays.append(this.$settingsDialogue),this.settingsDialogue=new ja(this.$settingsDialogue),this.isHeaderPanelEnabled()&&this.headerPanel.init(),this.isLeftPanelEnabled()&&this.leftPanel.init(),this.isRightPanelEnabled()&&this.rightPanel.init(),this.isFooterPanelEnabled()&&this.footerPanel.init()}isLeftPanelEnabled(){return Qi.getBool(this.data.config.options.leftPanelEnabled,!0)}render(){super.render()}getEmbedScript(t,_,h){let l=`${this.getAppUri()}#?manifest=${this.helper.manifestUri}&c=${this.helper.collectionIndex}&m=${this.helper.manifestIndex}&cv=${this.helper.canvasIndex}&rid=${this.helper.rangeId}`;return xn.format(t,l,_.toString(),h.toString())}treeNodeSelected(t){let _=t.data;if(_.type)switch(_.type){case Dn.IIIFResourceType.MANIFEST:break;case Dn.IIIFResourceType.COLLECTION:break;default:this.viewRange(_.path);break}}viewRange(t){let _=this.helper.getRangeByPath(t);!_||this.extensionHost.publish(Wt.RANGE_CHANGE,_)}};/*!
* jQuery Color Animations v2.2.0
* https://github.com/jquery/jquery-color
*
* Copyright OpenJS Foundation and other contributors
* Released under the MIT license.
* http://jquery.org/license
*
* Date: Sun May 10 09:02:36 2020 +0200
*//*!
 * jQuery UI :data 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Accordion 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Autocomplete 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Button 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Checkboxradio 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Controlgroup 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Datepicker 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Dialog 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Disable Selection 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Draggable 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Droppable 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Effects 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Effects Blind 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Effects Bounce 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Effects Clip 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Effects Drop 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Effects Explode 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Effects Fade 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Effects Fold 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Effects Highlight 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Effects Puff 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Effects Pulsate 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Effects Scale 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Effects Shake 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Effects Size 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Effects Slide 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Effects Transfer 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Focusable 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Form Reset Mixin 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Keycode 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Labels 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Menu 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Mouse 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Position 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 *//*!
 * jQuery UI Progressbar 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Resizable 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Scroll Parent 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Selectable 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Selectmenu 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Slider 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Sortable 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Spinner 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Support for jQuery core 1.8.x and newer 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 *//*!
 * jQuery UI Tabbable 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Tabs 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Tooltip 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Unique ID 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Widget 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*//*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*//*! codem-isoboxer v0.3.5 https://github.com/madebyhiro/codem-isoboxer/blob/master/LICENSE.txt *//*! jQuery UI - v1.13.1 - 2022-01-20
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-patch.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js
* Copyright jQuery Foundation and other contributors; Licensed MIT *//*! v2.6.7-e2394a6, 2018-03-14T14:47:04Z */export{es as default};
